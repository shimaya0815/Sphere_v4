/*! For license information please see main.a47a1126.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",a="second",i="minute",o="hour",s="day",l="week",c="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},g=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},v={s:g,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,c),i=r-a<0,o=t.clone().add(n+(i?-1:1),c);return+(-(n+(r-a)/(i?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:f,h:o,m:i,s:a,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=y;var w="$isDayjsObject",j=function(e){return e instanceof S||!(!e||!e[w])},_=function e(t,r,n){var a;if(!t)return b;if("string"==typeof t){var i=t.toLowerCase();x[i]&&(a=i),r&&(x[i]=r,a=i);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var s=t.name;x[s]=t,a=s}return!n&&a&&(b=a),a||!n&&b},k=function(e,t){if(j(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new S(r)},N=v;N.l=_,N.i=j,N.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function y(e){this.$L=_(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var g=y.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(N.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return N},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var r=k(e);return this.startOf(t)<=r&&r<=this.endOf(t)},g.isAfter=function(e,t){return k(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<k(e)},g.$g=function(e,t,r){return N.u(e)?this[t]:this.set(r,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var r=this,n=!!N.u(t)||t,u=N.p(e),h=function(e,t){var a=N.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?a:a.endOf(s)},p=function(e,t){return N.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},m=this.$W,y=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case d:return n?h(1,0):h(31,11);case c:return n?h(1,y):h(0,y+1);case l:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return h(n?g-x:g+(6-x),y);case s:case f:return p(v+"Hours",0);case o:return p(v+"Minutes",1);case i:return p(v+"Seconds",2);case a:return p(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var r,l=N.p(e),u="set"+(this.$u?"UTC":""),h=(r={},r[s]=u+"Date",r[f]=u+"Date",r[c]=u+"Month",r[d]=u+"FullYear",r[o]=u+"Hours",r[i]=u+"Minutes",r[a]=u+"Seconds",r[n]=u+"Milliseconds",r)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[N.p(e)]()},g.add=function(n,u){var f,h=this;n=Number(n);var p=N.p(u),m=function(e){var t=k(h);return N.w(t.date(t.date()+Math.round(e*n)),h)};if(p===c)return this.set(c,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===s)return m(1);if(p===l)return m(7);var y=(f={},f[i]=t,f[o]=r,f[a]=e,f)[p]||1,g=this.$d.getTime()+n*y;return N.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=N.z(this),i=this.$H,o=this.$m,s=this.$M,l=r.weekdays,c=r.months,u=r.meridiem,d=function(e,r,a,i){return e&&(e[r]||e(t,n))||a[r].slice(0,i)},f=function(e){return N.s(i%12||12,e,"0")},p=u||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(m,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return N.s(t.$y,4,"0");case"M":return s+1;case"MM":return N.s(s+1,2,"0");case"MMM":return d(r.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return N.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(r.weekdaysMin,t.$W,l,2);case"ddd":return d(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return N.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(i,o,!0);case"A":return p(i,o,!1);case"m":return String(o);case"mm":return N.s(o,2,"0");case"s":return String(t.$s);case"ss":return N.s(t.$s,2,"0");case"SSS":return N.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,h){var p,m=this,y=N.p(f),g=k(n),v=(g.utcOffset()-this.utcOffset())*t,b=this-g,x=function(){return N.m(m,g)};switch(y){case d:p=x()/12;break;case c:p=x();break;case u:p=x()/3;break;case l:p=(b-v)/6048e5;break;case s:p=(b-v)/864e5;break;case o:p=b/r;break;case i:p=b/t;break;case a:p=b/e;break;default:p=b}return h?p:N.a(p)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return x[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=_(e,t,!0);return n&&(r.$L=n),r},g.clone=function(){return N.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},y}(),O=S.prototype;return k.prototype=O,[["$ms",n],["$s",a],["$m",i],["$H",o],["$W",s],["$M",c],["$y",d],["$D",f]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,S,k),e.$i=!0),k},k.locale=_,k.isDayjs=j,k.unix=function(e){return k(1e3*e)},k.en=x[b],k.Ls=x,k.p={},k}()},539:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),a=r(4052),i=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+c+l+")*"),d="(?:"+[i+n+"?",n,o,s,r].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var u=t[l];r>0&&i(u)?r>1?e(u,r-1,i,o,s):n(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),i=r(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var n=r(3211),a=r(6571),i=r(9194),o=r(6686);e.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return!!("number"==s?a(r)&&i(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1268:(e,t,r)=>{var n=r(5428),a=r(7574),i=r(6832),o=i&&i.isTypedArray,s=o?a(o):n;e.exports=s},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),i=r(9096);e.exports=function(e,t){var r={};return t=i(t,3),a(e,(function(e,a,i){n(r,a,t(e,a,i))})),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),i=r(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),i=r(9140),o=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:i(r);return l<0&&(l=o(s+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),i=r(9096),o=r(8883),s=r(320),l=r(7574),c=r(5893),u=r(3279),d=r(4052);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=n(t,l(i));var h=o(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++f,value:e}}));return s(h,(function(e,t){return c(e,t,r)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),O=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,R=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function q(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case j:return"Portal";case N:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var r=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function X(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ie(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ye(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,_e=null,ke=null;function Ne(e){if(e=ba(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Se(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Oe(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var Ae=!1;function Te(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ee(e,t,r)}finally{Ae=!1,(null!==_e||null!==ke)&&(Ce(),Oe())}}function Pe(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var De=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){De=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){De=!1}function Ie(e,t,r,n,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Le=!1,Re=null,Fe=!1,Be=null,qe={onError:function(e){Le=!0,Re=e}};function $e(e,t,r,n,a,i,o,s,l){Le=!1,Re=null,Ie.apply(qe,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return He(a),e;if(o===n)return He(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=dt(s):0!==(i&=o)&&(n=dt(i))}else 0!==(o=r&~a)?n=dt(o):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,_t,kt,Nt,St=!1,Ot=[],Et=null,Ct=null,At=null,Tt=new Map,Pt=new Map,Dt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=va(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ze(r)))return e.blockedOn=t,void Nt(e.priority,(function(){_t(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);xe=n,r.target.dispatchEvent(n),xe=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function qt(){St=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Tt.forEach(Bt),Pt.forEach(Bt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qt)))}function Ut(e){function t(t){return $t(t,e)}if(0<Ot.length){$t(Ot[0],e);for(var r=1;r<Ot.length;r++){var n=Ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&$t(Et,e),null!==Ct&&$t(Ct,e),null!==At&&$t(At,e),Tt.forEach(t),Pt.forEach(t),r=0;r<Dt.length;r++)(n=Dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&null===(r=Dt[0]).blockedOn;)Rt(r),null===r.blockedOn&&Dt.shift()}var zt=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,r,n){var a=bt,i=zt.transition;zt.transition=null;try{bt=1,Kt(e,t,r,n)}finally{bt=a,zt.transition=i}}function Vt(e,t,r,n){var a=bt,i=zt.transition;zt.transition=null;try{bt=4,Kt(e,t,r,n)}finally{bt=a,zt.transition=i}}function Kt(e,t,r,n){if(Ht){var a=Gt(e,t,r,n);if(null===a)Hn(e,t,n,Yt,r),It(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Et=Lt(Et,e,t,r,n,a),!0;case"dragenter":return Ct=Lt(Ct,e,t,r,n,a),!0;case"mouseover":return At=Lt(At,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Tt.set(i,Lt(Tt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Pt.set(i,Lt(Pt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Gt(e,t,r,n))&&Hn(e,t,n,Yt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Yt=null;function Gt(e,t,r,n){if(Yt=null,null!==(e=va(e=we(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,or,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=R({},lr,{view:0,detail:0}),dr=ar(ur),fr=R({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:or}}),hr=ar(fr),pr=ar(R({},fr,{dataTransfer:0})),mr=ar(R({},ur,{relatedTarget:0})),yr=ar(R({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=R({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ar(gr),br=ar(R({},lr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _r(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return _r}var Nr=R({},ur,{key:function(e){if(e.key){var t=xr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ar(Nr),Or=ar(R({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=ar(R({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Cr=ar(R({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=R({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ar(Ar),Pr=[9,13,27,32],Dr=u&&"CompositionEvent"in window,Mr=null;u&&"documentMode"in document&&(Mr=document.documentMode);var Ir=u&&"TextEvent"in window&&!Mr,Lr=u&&(!Dr||Mr&&8<Mr&&11>=Mr),Rr=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Pr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $r=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Hr(e,t,r,n){Se(n),0<(t=Vn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Vr=null;function Kr(e){Fn(e,0)}function Yr(e){if(K(xa(e)))return e}function Gr(e,t){if("change"===e)return t}var Xr=!1;if(u){var Qr;if(u){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Qr=Jr}else Qr=!1;Xr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Vr=Wr=null)}function tn(e){if("value"===e.propertyName&&Yr(Vr)){var t=[];Hr(t,Vr,e,we(e)),Te(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),Vr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Vr)}function an(e,t){if("click"===e)return Yr(t)}function on(e,t){if("input"===e||"change"===e)return Yr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var o=un(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,yn=null,gn=null,vn=null,bn=!1;function xn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==yn||yn!==Y(n)||("selectionStart"in(n=yn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Vn(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},_n={},kn={};function Nn(e){if(_n[e])return _n[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return _n[e]=r[t];return e}u&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Sn=Nn("animationend"),On=Nn("animationiteration"),En=Nn("animationstart"),Cn=Nn("transitionend"),An=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){An.set(e,t),l(t,[e])}for(var Dn=0;Dn<Tn.length;Dn++){var Mn=Tn[Dn];Pn(Mn.toLowerCase(),"on"+(Mn[0].toUpperCase()+Mn.slice(1)))}Pn(Sn,"onAnimationEnd"),Pn(On,"onAnimationIteration"),Pn(En,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Cn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Rn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,l,c){if($e.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Re;Le=!1,Re=null,Fe||(Fe=!0,Be=u)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Rn(a,s,c),i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Rn(a,s,c),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}function qn(e,t,r){var n=0;t&&(n|=4),zn(r,e,n,t)}var $n="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[$n]){e[$n]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||qn(t,!1,e),qn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$n]||(t[$n]=!0,qn("selectionchange",!1,t))}}function zn(e,t,r,n){switch(Xt(t)){case 1:var a=Wt;break;case 4:a=Vt;break;default:a=Kt}r=a.bind(null,t,r,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=va(s)))return;if(5===(l=o.tag)||6===l){n=i=o;continue e}s=s.parentNode}}n=n.return}Te((function(){var n=i,a=we(r),o=[];e:{var s=An.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Sn:case On:case En:l=yr;break;case Cn:l=Cr;break;case"scroll":l=dr;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Or}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=n;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Pe(p,f))&&u.push(Wn(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,r,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===xe||!(c=r.relatedTarget||r.fromElement)||!va(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?va(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=hr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Or,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:xa(l),h=null==c?s:xa(c),(s=new u(m,p+"leave",l,r,a)).target=d,s.relatedTarget=h,m=null,va(a)===n&&((u=new u(f,p+"enter",c,r,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Kn(h))p++;for(h=0,m=f;m;m=Kn(m))h++;for(;0<p-h;)u=Kn(u),p--;for(;0<h-p;)f=Kn(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kn(u),f=Kn(f)}u=null}else u=null;null!==l&&Yn(o,s,l,u,!1),null!==c&&null!==d&&Yn(o,d,c,u,!0)}if("select"===(l=(s=n?xa(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Gr;else if(zr(s))if(Xr)y=on;else{y=nn;var g=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=an);switch(y&&(y=y(e,n))?Hr(o,y,r,a):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=n?xa(n):window,e){case"focusin":(zr(g)||"true"===g.contentEditable)&&(yn=g,gn=n,vn=null);break;case"focusout":vn=gn=yn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":xn(o,r,a)}var v;if(Dr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $r?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&($r||"onCompositionStart"!==b?"onCompositionEnd"===b&&$r&&(v=er()):(Jt="value"in(Qt=a)?Qt.value:Qt.textContent,$r=!0)),0<(g=Vn(n,b)).length&&(b=new br(b,e,null,r,a),o.push({event:b,listeners:g}),v?b.data=v:null!==(v=qr(r))&&(b.data=v))),(v=Ir?function(e,t){switch(e){case"compositionend":return qr(t);case"keypress":return 32!==t.which?null:(Fr=!0,Rr);case"textInput":return(e=t.data)===Rr&&Fr?null:e;default:return null}}(e,r):function(e,t){if($r)return"compositionend"===e||!Dr&&Br(e,t)?(e=er(),Zt=Jt=Qt=null,$r=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Vn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=v))}Fn(o,t)}))}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,r))&&n.unshift(Wn(e,i,a)),null!=(i=Pe(e,t))&&n.push(Wn(e,i,a))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Pe(r,i))&&o.unshift(Wn(r,l,s)):a||null!=(l=Pe(r,i))&&o.push(Wn(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Gn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Xn,"")}function Jn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(i(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:na;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ya="__reactListeners$"+da,ga="__reactHandles$"+da;function va(e){var t=e[fa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[fa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[fa])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var ja=[],_a=-1;function ka(e){return{current:e}}function Na(e){0>_a||(e.current=ja[_a],ja[_a]=null,_a--)}function Sa(e,t){_a++,ja[_a]=e.current,e.current=t}var Oa={},Ea=ka(Oa),Ca=ka(!1),Aa=Oa;function Ta(e,t){var r=e.type.contextTypes;if(!r)return Oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){Na(Ca),Na(Ea)}function Ma(e,t,r){if(Ea.current!==Oa)throw Error(i(168));Sa(Ea,t),Sa(Ca,r)}function Ia(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,z(e)||"Unknown",a));return R({},r,n)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Aa=Ea.current,Sa(Ea,e),Sa(Ca,Ca.current),!0}function Ra(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Ia(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,Na(Ca),Na(Ea),Sa(Ea,e)):Na(Ca),Sa(Ca,r)}var Fa=null,Ba=!1,qa=!1;function $a(e){null===Fa?Fa=[e]:Fa.push(e)}function Ua(){if(!qa&&null!==Fa){qa=!0;var e=0,t=bt;try{var r=Fa;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Ze,Ua),a}finally{bt=t,qa=!1}}return null}var za=[],Ha=0,Wa=null,Va=0,Ka=[],Ya=0,Ga=null,Xa=1,Qa="";function Ja(e,t){za[Ha++]=Va,za[Ha++]=Wa,Wa=e,Va=t}function Za(e,t,r){Ka[Ya++]=Xa,Ka[Ya++]=Qa,Ka[Ya++]=Ga,Ga=e;var n=Xa;e=Qa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xa=1<<32-ot(t)+a|r<<a|n,Qa=i+e}else Xa=1<<i|r<<a|n,Qa=e}function ei(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ti(e){for(;e===Wa;)Wa=za[--Ha],za[Ha]=null,Va=za[--Ha],za[Ha]=null;for(;e===Ga;)Ga=Ka[--Ya],Ka[Ya]=null,Qa=Ka[--Ya],Ka[Ya]=null,Xa=Ka[--Ya],Ka[Ya]=null}var ri=null,ni=null,ai=!1,ii=null;function oi(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function si(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ga?{id:Xa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&si(e,t)?oi(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw fi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ni;e;)e=ca(e.nextSibling)}function hi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function yi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===_?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&vi(i)===t.type)?((n=a(t,r.props)).ref=yi(e,t,r),n.return=e,n):((n=Mc(r.type,r.key,r.props,null,e.mode,n)).ref=yi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Mc(t.type,t.key,t.props,null,e.mode,r)).ref=yi(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case P:return f(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Ic(t,e.mode,r,null)).return=e,t;gi(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?u(e,t,r,n):null;case P:return h(e,t,(a=r._init)(r._payload),n)}if(te(r)||I(r))return null!==a?null:d(e,t,r,n,null);gi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case P:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||I(n))return d(t,e=e.get(r)||null,n,a,null);gi(t,n)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,y=null;null!==d&&m<s.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var g=h(a,d,s[m],l);if(null===g){null===d&&(d=y);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g,d=y}if(m===s.length)return r(a,d),ai&&Ja(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Ja(a,m),c}for(d=n(a,d);m<s.length;m++)null!==(y=p(d,a,m,s[m],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach((function(e){return t(a,e)})),ai&&Ja(a,m),c}function y(a,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=h(a,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,y),null===d?u=b:d.sibling=b,d=b,m=g}if(v.done)return r(a,m),ai&&Ja(a,y),u;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=f(a,v.value,c))&&(s=o(v,s,y),null===d?u=v:d.sibling=v,d=v);return ai&&Ja(a,y),u}for(m=n(a,m);!v.done;y++,v=l.next())null!==(v=p(m,a,y,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=o(v,s,y),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),ai&&Ja(a,y),u}return function e(n,i,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){r(n,u.sibling),(i=a(u,o.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vi(c)===u.type){r(n,u.sibling),(i=a(u,o.props)).ref=yi(n,u,o),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===_?((i=Ic(o.props.children,n.mode,l,o.key)).return=n,n=i):((l=Mc(o.type,o.key,o.props,null,n.mode,l)).ref=yi(n,i,o),l.return=n,n=l)}return s(n);case j:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Fc(o,n.mode,l)).return=n,n=i}return s(n);case P:return e(n,i,(u=o._init)(o._payload),l)}if(te(o))return m(n,i,o,l);if(I(o))return y(n,i,o,l);gi(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=Rc(o,n.mode,l)).return=n,n=i),s(n)):r(n,i)}}var xi=bi(!0),wi=bi(!1),ji=ka(null),_i=null,ki=null,Ni=null;function Si(){Ni=ki=_i=null}function Oi(e){var t=ji.current;Na(ji),e._currentValue=t}function Ei(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ci(e,t){_i=e,Ni=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ni!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===_i)throw Error(i(308));ki=e,_i.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ti=null;function Pi(e){null===Ti?Ti=[e]:Ti.push(e)}function Di(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Pi(t)):(r.next=a.next,a.next=r),t.interleaved=r,Mi(e,n)}function Mi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ii=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&El)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Mi(e,r)}return null===(a=n.interleaved)?(t.next=t,Pi(n)):(t.next=a.next,a.next=t),n.interleaved=t,Mi(e,r)}function qi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function $i(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ui(e,t,r,n){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=s.lane,h=s.eventTime;if((n&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=R({},d,f);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function zi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Hi={},Wi=ka(Hi),Vi=ka(Hi),Ki=ka(Hi);function Yi(e){if(e===Hi)throw Error(i(174));return e}function Gi(e,t){switch(Sa(Ki,t),Sa(Vi,e),Sa(Wi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Na(Wi),Sa(Wi,t)}function Xi(){Na(Wi),Na(Vi),Na(Ki)}function Qi(e){Yi(Ki.current);var t=Yi(Wi.current),r=le(t,e.type);t!==r&&(Sa(Vi,e),Sa(Wi,r))}function Ji(e){Vi.current===e&&(Na(Wi),Na(Vi))}var Zi=ka(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=x.ReactCurrentDispatcher,ao=x.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,fo=0,ho=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function yo(e,t,r,n,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:es,e=r(n,a),uo){o=0;do{if(uo=!1,fo=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,no.current=ts,e=r(n,a)}while(uo)}if(no.current=Jo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function go(){var e=0!==fo;return fo=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=so,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=n):c=c.next=f,oo.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Ll|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jo(e){var t=bo(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sn(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function _o(){}function ko(e,t){var r=oo,n=bo(),a=t(),o=!sn(n.memoizedState,a);if(o&&(n.memoizedState=a,bs=!0),n=n.queue,Lo(Oo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,To(9,So.bind(null,r,n,a,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&io)||No(r,t,a)}return a}function No(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function So(e,t,r,n){t.value=r,t.getSnapshot=n,Eo(t)&&Co(e)}function Oo(e,t,r){return r((function(){Eo(t)&&Co(e)}))}function Eo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Co(e){var t=Mi(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Do(e,t,r,n){var a=vo();oo.flags|=e,a.memoizedState=To(1|t,r,void 0,void 0===n?null:n)}function Mo(e,t,r,n){var a=bo();n=void 0===n?null:n;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==n&&mo(n,o.deps))return void(a.memoizedState=To(t,r,i,n))}oo.flags|=e,a.memoizedState=To(1|t,r,i,n)}function Io(e,t){return Do(8390656,8,e,t)}function Lo(e,t){return Mo(2048,8,e,t)}function Ro(e,t){return Mo(4,2,e,t)}function Fo(e,t){return Mo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Mo(4,4,Bo.bind(null,t,e),r)}function $o(){}function Uo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&io)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),oo.lanes|=r,Ll|=r,e.baseState=!0),t)}function Wo(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{bt=r,ao.transition=n}}function Vo(){return bo().memoizedState}function Ko(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Go(e))Xo(t,r);else if(null!==(r=Di(e,t,r,n))){rc(r,e,n,ec()),Qo(r,t,n)}}function Yo(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Go(e))Xo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,sn(s,o)){var l=t.interleaved;return null===l?(a.next=a,Pi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Di(e,t,a,n))&&(rc(r,e,n,a=ec()),Qo(r,t,n))}}function Go(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Jo={readContext:Ai,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ai,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Do(4194308,4,Bo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var r=vo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:$o,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=vo();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Cl)throw Error(i(349));0!==(30&io)||No(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Io(Oo.bind(null,n,o,e),[e]),n.flags|=2048,To(9,So.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=vo(),t=Cl.identifierPrefix;if(ai){var r=Qa;t=":"+t+"R"+(r=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+r),0<(r=fo++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Uo,useContext:Ai,useEffect:Lo,useImperativeHandle:qo,useInsertionEffect:Ro,useLayoutEffect:Fo,useMemo:zo,useReducer:wo,useRef:Po,useState:function(){return wo(xo)},useDebugValue:$o,useDeferredValue:function(e){return Ho(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:ko,useId:Vo,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Uo,useContext:Ai,useEffect:Lo,useImperativeHandle:qo,useInsertionEffect:Ro,useLayoutEffect:Fo,useMemo:zo,useReducer:jo,useRef:Po,useState:function(){return jo(xo)},useDebugValue:$o,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[jo(xo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:ko,useId:Vo,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=R({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:R({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Bi(e,i,a))&&(rc(t,e,a,n),qi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Bi(e,i,a))&&(rc(t,e,a,n),qi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Fi(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bi(e,a,n))&&(rc(t,e,n,r),qi(t,e,n))}};function is(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function os(e,t,r){var n=!1,a=Oa,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Pa(t)?Aa:Ea.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Oa),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Pa(t)?Aa:Ea.current,a.context=Ta(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ns(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Ui(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do{r+=$(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=Fi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Wl=n),ds(0,t)},r}function ps(e,t,r){(r=Fi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!==typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Nc.bind(null,e,t,r),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fi(-1,1)).tag=2,Bi(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,r,n){t.child=null===e?wi(t,null,r,n):xi(t,e.child,r,n)}function ws(e,t,r,n,a){r=r.render;var i=t.ref;return Ci(t,a),n=yo(e,t,r,n,i,a),r=go(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,xs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function js(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Mc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_s(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Dc(i,n)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Ss(e,t,r,n,a)}function ks(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Dl,Pl),Pl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Sa(Dl,Pl),Pl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Sa(Dl,Pl),Pl|=n;return xs(e,t,a,r),t.child}function Ns(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,r,n,a){var i=Pa(r)?Aa:Ea.current;return i=Ta(t,i),Ci(t,a),r=yo(e,t,r,n,i,a),n=go(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,xs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Os(e,t,r,n,a){if(Pa(r)){var i=!0;La(t)}else i=!1;if(Ci(t,a),null===t.stateNode)zs(e,t),os(t,r,n),ls(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Ta(t,c=Pa(r)?Aa:Ea.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,o,n,c),Ii=!1;var f=t.memoizedState;o.state=f,Ui(t,n,o,a),l=t.memoizedState,s!==n||f!==l||Ca.current||Ii?("function"===typeof u&&(ns(t,r,u,n),l=t.memoizedState),(s=Ii||is(t,r,s,n,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ri(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ai(l):l=Ta(t,l=Pa(r)?Aa:Ea.current);var h=r.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,o,n,l),Ii=!1,f=t.memoizedState,o.state=f,Ui(t,n,o,a);var p=t.memoizedState;s!==d||f!==p||Ca.current||Ii?("function"===typeof h&&(ns(t,r,h,n),p=t.memoizedState),(c=Ii||is(t,r,c,n,f,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Es(e,t,r,n,i,a)}function Es(e,t,r,n,a,i){Ns(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Ra(t,r,!1),Hs(e,t,i);n=t.stateNode,vs.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=n.state,a&&Ra(t,r,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(0,t.context,!1),Gi(e,t.containerInfo)}function As(e,t,r,n,a){return hi(),pi(a),t.flags|=256,xs(e,t,r,n),t.child}var Ts,Ps,Ds,Ms,Is={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,r){var n,a=t.pendingProps,o=Zi.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Sa(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,a,0,null),e=Ic(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(r),t.memoizedState=Is,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Lc({mode:"visible",children:n.children},a,0,null),(o=Ic(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&xi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Is,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Bs(e,t,s,n=us(o=Error(i(419)),n,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(n=Cl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Mi(e,a),rc(n,e,a,-1))}return mc(),Bs(e,t,s,n=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Ka[Ya++]=Xa,Ka[Ya++]=Qa,Ka[Ya++]=Ga,Xa=e.id,Qa=e.overflow,Ga=t),t=Fs(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(s){s=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Dc(n,s):(s=Ic(s,l,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Is,a}return e=(s=e.child).sibling,a=Dc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&pi(n),xi(t,e.child,null,r),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ei(e.return,t,r)}function $s(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Us(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(xs(e,t,n.children,r),0!==(2&(n=Zi.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,r,t);else if(19===e.tag)qs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sa(Zi,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$s(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$s(t,!0,r,null,i);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Dc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Dc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ws(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ks(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Pa(t.type)&&Da(),Vs(t),null;case 3:return n=t.stateNode,Xi(),Na(Ca),Na(Ea),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ps(e,t),Vs(t),null;case 5:Ji(t);var a=Yi(Ki.current);if(r=t.type,null!==e&&null!=t.stateNode)Ds(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Vs(t),null}if(e=Yi(Wi.current),di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[fa]=t,n[ha]=o,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(a=0;a<In.length;a++)Bn(In[a],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":X(n,o),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bn("invalid",n);break;case"textarea":ae(n,o),Bn("invalid",n)}for(var l in ve(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":V(n),Z(n,o,!0);break;case"textarea":V(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[fa]=t,e[ha]=n,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),a=n;break;case"iframe":case"object":case"embed":Bn("load",e),a=n;break;case"video":case"audio":for(a=0;a<In.length;a++)Bn(In[a],e);a=n;break;case"source":Bn("error",e),a=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),a=n;break;case"details":Bn("toggle",e),a=n;break;case"input":X(e,n),a=G(e,n),Bn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=R({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Bn("invalid",e)}for(o in ve(r,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ye(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Bn("scroll",e):null!=u&&b(e,o,u,l))}switch(r){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=Yi(Ki.current),Yi(Wi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[fa]=t,(o=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fa]=t,t.stateNode=n}return Vs(t),null;case 13:if(Na(Zi),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,o=!1;else if(o=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[fa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Xi(),Ps(e,t),null===e&&Un(t.stateNode.containerInfo),Vs(t),null;case 10:return Oi(t.type._context),Vs(t),null;case 19:if(Na(Zi),null===(o=t.memoizedState))return Vs(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Ws(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sa(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Ws(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Vs(t),null}else 2*Qe()-o.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=Zi.current,Sa(Zi,n?1&r|2:1&r),t):(Vs(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return Pa(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Na(Ca),Na(Ea),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Na(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Na(Zi),null;case 4:return Xi(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ps=function(){},Ds=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Yi(Wi.current);var i,o=null;switch(r){case"input":a=G(e,a),n=G(e,n),o=[];break;case"select":a=R({},a,{value:void 0}),n=R({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ve(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,r,n){r!==n&&(t.flags|=4)};var Gs=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ya],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function fl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(s){}switch(r.tag){case 5:Xs||Zs(r,t);case 6:var n=ul,a=dl;ul=null,fl(e,t,r),dl=a,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Ut(e)):la(ul,r.stateNode));break;case 4:n=ul,a=dl,ul=r.stateNode.containerInfo,dl=!0,fl(e,t,r),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(r,t,o),a=a.next}while(a!==n)}fl(e,t,r);break;case 1:if(!Xs&&(Zs(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){kc(r,t,s)}fl(e,t,r);break;case 21:fl(e,t,r);break;case 22:1&r.mode?(Xs=(n=Xs)||null!==r.memoizedState,fl(e,t,r),Xs=n):fl(e,t,r);break;default:fl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach((function(t){var n=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));hl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(y){kc(e,e.return,y)}try{rl(5,e,e.return)}catch(y){kc(e,e.return,y)}}break;case 1:ml(t,e),gl(e),512&n&&null!==r&&Zs(r,r.return);break;case 5:if(ml(t,e),gl(e),512&n&&null!==r&&Zs(r,r.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(y){kc(e,e.return,y)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ye(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(l){case"input":J(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(y){kc(e,e.return,y)}}break;case 6:if(ml(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(y){kc(e,e.return,y)}}break;case 3:if(ml(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(y){kc(e,e.return,y)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||($l=Qe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),gl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){kc(n,r,y)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){wl(f);continue}}null!==p?(p.return=h,Js=p):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(y){kc(e,e.return,y)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){kc(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),gl(e),4&n&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(fe(a,""),n.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,r){Js=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Js;){var a=Js,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Gs;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Gs;var c=Xs;if(Gs=o,(Xs=l)&&!c)for(Js=a;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,Js=l):jl(a);for(;null!==i;)Js=i,bl(i,t,r),i=i.sibling;Js=a,Gs=s,Xs=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Js=i):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zi(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}zi(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&al(t)}catch(h){kc(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(r=t.sibling)){r.return=t.return,Js=r;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Js=r;break}Js=t.return}}function jl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var i=t.return;try{al(t)}catch(l){kc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _l,kl=Math.ceil,Nl=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,Ol=x.ReactCurrentBatchConfig,El=0,Cl=null,Al=null,Tl=0,Pl=0,Dl=ka(0),Ml=0,Il=null,Ll=0,Rl=0,Fl=0,Bl=null,ql=null,$l=0,Ul=1/0,zl=null,Hl=!1,Wl=null,Vl=null,Kl=!1,Yl=null,Gl=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,r,n){if(50<Xl)throw Xl=0,Ql=null,Error(i(185));gt(e,r,n),0!==(2&El)&&e===Cl||(e===Cl&&(0===(2&El)&&(Rl|=r),4===Ml&&sc(e,Tl)),nc(e,n),1===r&&0===El&&0===(1&t.mode)&&(Ul=Qe()+500,Ba&&Ua()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=ft(e,e===Cl?Tl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Ba=!0,$a(e)}(lc.bind(null,e)):$a(lc.bind(null,e)),oa((function(){0===(6&El)&&Ua()})),r=null;else{switch(xt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Cc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(i(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=ft(e,e===Cl?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=yc(e,n);else{t=n;var a=El;El|=2;var o=pc();for(Cl===e&&Tl===t||(zl=null,Ul=Qe()+500,fc(e,t));;)try{vc();break}catch(l){hc(e,l)}Si(),Nl.current=o,El=a,null!==Al?t=0:(Cl=null,Tl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw r=Il,fc(e,0),sc(e,n),nc(e,Qe()),r;if(6===t)sc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yc(e,n))&&(0!==(o=pt(e))&&(n=o,t=ic(e,o))),1===t))throw r=Il,fc(e,0),sc(e,n),nc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,ql,zl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=$l+500-Qe())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,ql,zl),t);break}wc(e,ql,zl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,ql,zl),n);break}wc(e,ql,zl);break;default:throw Error(i(329))}}}return nc(e,Qe()),e.callbackNode===r?ac.bind(null,e):null}function ic(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=ql,ql=r,null!==t&&oc(t)),e}function oc(e){null===ql?ql=e:ql.push.apply(ql,e)}function sc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&El))throw Error(i(327));jc();var t=ft(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=yc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ic(e,n))}if(1===r)throw r=Il,fc(e,0),sc(e,t),nc(e,Qe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,ql,zl),nc(e,Qe()),null}function cc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&(Ul=Qe()+500,Ba&&Ua())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&El)&&jc();var t=El;El|=1;var r=Ol.transition,n=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=n,Ol.transition=r,0===(6&(El=t))&&Ua()}}function dc(){Pl=Dl.current,Na(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Al)for(r=Al.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Da();break;case 3:Xi(),Na(Ca),Na(Ea),ro();break;case 5:Ji(n);break;case 4:Xi();break;case 13:case 19:Na(Zi);break;case 10:Oi(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Cl=e,Al=e=Dc(e.current,null),Tl=Pl=t,Ml=0,Il=null,Fl=Rl=Ll=0,ql=Bl=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(n=(r=Ti[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Ti=null}return e}function hc(e,t){for(;;){var r=Al;try{if(Si(),no.current=Jo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,fo=0,Sl.current=null,null===r||null===r.return){Ml=1,Il=t,Al=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var g=ys(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,$i(o,hs(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,$i(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xc(r)}catch(x){t=x,Al===r&&null!==r&&(Al=r=r.return);continue}break}}function pc(){var e=Nl.current;return Nl.current=Jo,null===e?Jo:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Cl||0===(268435455&Ll)&&0===(268435455&Rl)||sc(Cl,Tl)}function yc(e,t){var r=El;El|=2;var n=pc();for(Cl===e&&Tl===t||(zl=null,fc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Si(),El=r,Nl.current=n,null!==Al)throw Error(i(261));return Cl=null,Tl=0,Ml}function gc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Ge();)bc(Al)}function bc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Sl.current=null}function xc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ks(r,t,Pl)))return void(Al=r)}else{if(null!==(r=Ys(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,r){var n=bt,a=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,r,n){do{jc()}while(null!==Yl);if(0!==(6&El))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,o),e===Cl&&(Al=Cl=null,Tl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Cc(tt,(function(){return jc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(ea=Ht,hn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==n&&3!==f.nodeType||(c=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===o&&++d===n&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:rs(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,r),yl(r,e),pn(ta),Ht=!!ea,ta=ea=null,e.current=r,vl(r,e,a),Xe(),El=l,bt=s,Ol.transition=o}else e.current=r;if(Kl&&(Kl=!1,Yl=e,Gl=a),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Gl)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Ua()}(e,t,r,n)}finally{Ol.transition=a,bt=n}return null}function jc(){if(null!==Yl){var e=xt(Gl),t=Ol.transition,r=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Gl=0,0!==(6&El))throw Error(i(331));var a=El;for(El|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(il(d),d===u){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var m=o.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Js=v;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){kc(l,l.return,j)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(El=a,Ua(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(j){}n=!0}return n}finally{bt=r,Ol.transition=t}}return!1}function _c(e,t,r){e=Bi(e,t=hs(0,t=cs(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)_c(e,e,r);else for(;null!==t;){if(3===t.tag){_c(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=Bi(t,e=ps(t,e=cs(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Nc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Cl===e&&(Tl&r)===r&&(4===Ml||3===Ml&&(130023424&Tl)===Tl&&500>Qe()-$l?fc(e,0):Fl|=r),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Mi(e,t))&&(gt(e,t,r),nc(e,r))}function Oc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Sc(e,r)}function Cc(e,t){return Ke(e,t)}function Ac(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Ac(e,t,r,n)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mc(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Ic(r.children,a,o,t);case k:s=8,a|=8;break;case N:return(e=Tc(12,r,t,2|a)).elementType=N,e.lanes=o,e;case C:return(e=Tc(13,r,t,a)).elementType=C,e.lanes=o,e;case A:return(e=Tc(19,r,t,a)).elementType=A,e.lanes=o,e;case D:return Lc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case O:s=9;break e;case E:s=11;break e;case T:s=14;break e;case P:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tc(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Ic(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Lc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=D,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qc(e,t,r,n,a,i,o,s,l){return e=new Bc(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function $c(e){if(!e)return Oa;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Pa(r))return Ia(e,r,t)}return t}function Uc(e,t,r,n,a,i,o,s,l){return(e=qc(r,n,!0,e,0,i,0,s,l)).context=$c(null),r=e.current,(i=Fi(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Bi(r,i,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function zc(e,t,r,n){var a=t.current,i=ec(),o=tc(a);return r=$c(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fi(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Bi(a,t,o))&&(rc(e,a,o,i),qi(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_l=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Cs(t),hi();break;case 5:Qi(t);break;case 1:Pa(t.type)&&La(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sa(ji,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Sa(Zi,1&Zi.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Rs(e,t,r):(Sa(Zi,1&Zi.current),null!==(e=Hs(e,t,r))?e.sibling:null);Sa(Zi,1&Zi.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Us(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Zi,Zi.current),n)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,r)}return Hs(e,t,r)}(e,t,r);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Za(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zs(e,t),e=t.pendingProps;var a=Ta(t,Ea.current);Ci(t,r),a=yo(null,t,n,e,a,r);var o=go();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(n)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Li(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,n,e,r),t=Es(null,t,n,!0,o,r)):(t.tag=0,ai&&o&&ei(t),xs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(n),e=rs(n,e),a){case 0:t=Ss(null,t,n,e,r);break e;case 1:t=Os(null,t,n,e,r);break e;case 11:t=ws(null,t,n,e,r);break e;case 14:t=js(null,t,n,rs(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ss(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 1:return n=t.type,a=t.pendingProps,Os(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 3:e:{if(Cs(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,Ri(e,t),Ui(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,n,r,a=cs(Error(i(423)),t));break e}if(n!==a){t=As(e,t,n,r,a=cs(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=wi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hi(),n===a){t=Hs(e,t,r);break e}xs(e,t,n,r)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(n,a)?s=null:null!==o&&ra(n,o)&&(t.flags|=32),Ns(e,t),xs(e,t,s,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Rs(e,t,r);case 4:return Gi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=xi(t,null,n,r):xs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,ws(e,t,n,a=t.elementType===n?a:rs(n,a),r);case 7:return xs(e,t,t.pendingProps,r),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Sa(ji,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===a.children&&!Ca.current){t=Hs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Fi(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ei(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ei(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ci(t,r),n=n(a=Ai(a)),t.flags|=1,xs(e,t,n,r),t.child;case 14:return a=rs(n=t.type,t.pendingProps),js(e,t,n,a=rs(n.type,a),r);case 15:return _s(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:rs(n,a),zs(e,t),t.tag=1,Pa(n)?(e=!0,La(t)):e=!1,Ci(t,r),os(t,n,a),ls(t,n,a,r),Es(null,t,n,!0,e,r);case 19:return Us(e,t,r);case 22:return ks(e,t,r)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hc(o);s.call(e)}}zc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Hc(o);i.call(e)}}var o=Uc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pa]=o.current,Un(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=Hc(l);s.call(e)}}var l=qc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pa]=l.current,Un(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,l,r,n)})),l}(r,t,e,a,n);return Hc(o)}Gc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zc(e,t,null,null)},Gc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[pa]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&0!==t&&t<Dt[r].priority;r++);Dt.splice(r,0,e),0===r&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(vt(t,1|r),nc(t,Qe()),0===(6&El)&&(Ul=Qe()+500,Ua()))}break;case 13:uc((function(){var t=Mi(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)rc(t,e,134217728,ec());Vc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),r=Mi(e,t);if(null!==r)rc(r,e,t,ec());Vc(e,t)}},kt=function(){return bt},Nt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},je=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(i(90));K(n),J(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[ba,xa,wa,Se,Oe,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(ru),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var r=!1,n="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=qc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Un(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Xc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Uc(t,null,e,1,null!=r?r:null,a,0,o,s),e[pa]=t.current,Un(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(9096);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),a):void 0}},2823:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=o(r(5043)),l=o(r(7950)),c=o(r(9853)),u=o(r(4175)),d=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,a){var i,o,s,l;"text-change"===e?null===(o=(i=r).onEditorChangeText)||void 0===o||o.call(i,r.editor.root.innerHTML,t,a,r.unprivilegedEditor):"selection-change"===e&&(null===(l=(s=r).onEditorChangeSelection)||void 0===l||l.call(s,t,a,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!==n&&void 0!==n?n:"",r}return n(t,e),t.prototype.validateProps=function(e){var t;if(s.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(e.children)&&"textarea"===(null===(t=s.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var a=this.getEditorContents(),o=null!==(r=e.value)&&void 0!==r?r:"";this.isEqualValue(o,a)||this.setEditorContents(this.editor,o)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),i(this.cleanProps,this.dirtyProps).some((function(t){return!c.default(e[t],n.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(r){return!c.default(e[r],t.props[r])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,o=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var s=this.editor;s.setContents(n),f((function(){return r.setEditorSelection(s,o)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new u.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),f((function(){return r.setEditorSelection(e,n)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,i={key:this.state.generation,ref:function(t){e.editingArea=t}};return s.default.Children.count(r)?s.default.cloneElement(s.default.Children.only(r),i):n?s.default.createElement("pre",a({},i)):s.default.createElement("div",a({},i))},t.prototype.render=function(){var e;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var a,i;if(this.editor){var o=this.isDelta(this.value)?n.getContents():n.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,null===(i=(a=this.props).onChange)||void 0===i||i.call(a,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,a,i,o,s,l;if(this.editor){var u=this.getEditorSelection(),d=!u&&e,f=u&&!e;c.default(e,u)||(this.selection=e,null===(a=(n=this.props).onChangeSelection)||void 0===a||a.call(n,e,t,r),d?null===(o=(i=this.props).onFocus)||void 0===o||o.call(i,e,t,r):f&&(null===(l=(s=this.props).onBlur)||void 0===l||l.call(s,u,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(s.default.Component);function f(e){Promise.resolve().then(e)}e.exports=d},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[a(t[r++])];return r&&r==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),i=r(4052),o=r(4543),s=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&a(e),d=!r&&!u&&o(e),f=!r&&!u&&!d&&l(e),h=r||u||d||f,p=h?n(e.length,String):[],m=p.length;for(var y in e)!t&&!c.call(e,y)||h&&("length"==y||d&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||p.push(y);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),i=r(7303);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&a(t,r,o)&&(r=o=void 0),t=i(t),void 0===r?(r=t,t=0):r=i(r),o=void 0===o?t<r?1:-1:i(o),n(t,r,o,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),i=r(8883),o=r(4052);e.exports=function(e,t){return(o(e)?n:i)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3668:(e,t,r)=>{var n=r(8902),a=r(2587),i=r(8114);e.exports=function(e,t,r,o,s,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,y=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var g=e[p],v=t[p];if(o)var b=c?o(v,g,p,t,e,l):o(g,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!a(t,(function(e,t){if(!i(y,t)&&(g===e||s(g,e,r,o,l)))return y.push(t)}))){m=!1;break}}else if(g!==v&&!s(g,v,r,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var i=t[r],o=e[i];t[r]=[i,o,n(o)]}return t}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),i=r(2597),o=r(914);e.exports=function(e){return i(e)?n(o(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),i=r(801),o=Math.max,s=Math.min;e.exports=function(e,t,r){var l,c,u,d,f,h,p=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=c;return l=c=void 0,p=t,d=e.apply(n,r)}function b(e){var r=e-h;return void 0===h||r>=t||r<0||y&&e-p>=u}function x(){var e=a();if(b(e))return w(e);f=setTimeout(x,function(e){var r=t-(e-h);return y?s(r,u-(e-p)):r}(e))}function w(e){return f=void 0,g&&l?v(e):(l=c=void 0,d)}function j(){var e=a(),r=b(e);if(l=arguments,c=this,h=e,r){if(void 0===f)return function(e){return p=e,f=setTimeout(x,t),m?v(e):d}(h);if(y)return clearTimeout(f),f=setTimeout(x,t),v(h)}return void 0===f&&(f=setTimeout(x,t)),d}return t=i(t)||0,n(r)&&(m=!!r.leading,u=(y="maxWait"in r)?o(i(r.maxWait)||0,t):u,g="trailing"in r?!!r.trailing:g),j.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=h=c=f=void 0},j.flush=function(){return void 0===f?d:w(a())},j}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)})),t}));e.exports=o},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4175:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),a=r(18),i=r(19),o=r(45),s=r(46),l=r(47),c=r(48),u=r(49),d=r(12),f=r(32),h=r(33),p=r(31),m=r(1),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:a.default,Leaf:i.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:f.default,Style:h.default,Store:p.default}};t.default=y},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return n(t,e),t}(Error);t.ParchmentError=a;var i,o={},s={},l={},c={};function u(e,t){var r;if(void 0===t&&(t=i.ANY),"string"===typeof e)r=c[e]||o[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"===typeof e)e&i.LEVEL&i.BLOCK?r=c.block:e&i.LEVEL&i.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var a in n)if(r=s[n[a]])break;r=r||l[e.tagName]}return null==r?null:t&i.LEVEL&r.scope&&t&i.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(i=t.Scope||(t.Scope={})),t.create=function(e,t){var r=u(e);if(null==r)throw new a("Unable to create "+e+" blot");var n=r,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(i,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=u,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!==typeof n.blotName&&"string"!==typeof n.attrName)throw new a("Invalid definition");if("abstract"===n.blotName)throw new a("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"===typeof n.keyName?o[n.keyName]=n:(null!=n.className&&(s[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=l[e]&&null!=n.className||(l[e]=n)})))),n}},function(e,t,r){var n=r(51),a=r(11),i=r(3),o=r(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},l.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,"object"!==typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(a(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var r=[],n=o.iterator(this.ops),a=0;a<t&&n.hasNext();){var i;a<e?i=n.next(e-a):(i=n.next(t-a),r.push(i)),a+=o.length(i)}return new l(r)},l.prototype.compose=function(e){var t=o.iterator(this.ops),r=o.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"===typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),n.push(t.next());i.retain-s>0&&r.next(i.retain-s)}for(var c=new l(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),r.peekLength()),d=t.next(u),f=r.next(u);if("number"===typeof f.retain){var h={};"number"===typeof d.retain?h.retain=u:h.insert=d.insert;var p=o.attributes.compose(d.attributes,f.attributes,"number"===typeof d.retain);if(p&&(h.attributes=p),c.push(h),!r.hasNext()&&a(c.ops[c.ops.length-1],h)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"===typeof f.delete&&"number"===typeof d.retain&&c.push(f)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new l,c=n(r[0],r[1],t),u=o.iterator(this.ops),d=o.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,u.peekLength()),u.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(r),l=d.next(r);a(s.insert,l.insert)?i.retain(r,o.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(r)}t-=r}})),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var r=o.iterator(this.ops),n=new l,a=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),s=o.length(i)-r.peekLength(),c="string"===typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(c<0)n.push(r.next());else if(c>0)n.push(r.next(c));else{if(!1===e(n,r.next(1).attributes||{},a))return;a+=1,n=new l}}n.length()>0&&e(n,{},a)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var r=o.iterator(this.ops),n=o.iterator(e.ops),a=new l;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())a.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),s=r.next(i),c=n.next(i);if(s.delete)continue;c.delete?a.push(c):a.retain(i,o.attributes.transform(s.attributes,c.attributes,t))}else a.retain(o.length(r.next()));return a.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var r=o.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var a=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=a),n+=a):e-=Math.min(a,e-n)}return e},e.exports=l},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,a=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!i)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},l=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,a,i,u,d=arguments[0],f=1,h=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},f=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});f<h;++f)if(null!=(t=arguments[f]))for(r in t)n=c(d,r),d!==(a=c(t,r))&&(p&&a&&(s(a)||(i=o(a)))?(i?(i=!1,u=n&&o(n)?n:[]):u=n&&s(n)?n:{},l(d,{name:r,newValue:e(p,u,a)})):"undefined"!==typeof a&&l(d,{name:r,newValue:a}));return d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=d(r(3)),o=d(r(2)),s=d(r(0)),l=d(r(16)),c=d(r(6)),u=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),n(t,[{key:"attach",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"===typeof r&&r.endsWith("\n")){var i=s.default.create(y.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var y=function(e){function t(e){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return p(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))}),new o.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(s.default.query(n,s.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),o=i.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;i.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof l.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(s.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}y.blotName="block",y.tagName="P",y.defaultChild="break",y.allowedChildren=[c.default,s.default.Embed,u.default],t.bubbleFormats=g,t.BlockEmbed=m,t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var o=y(r(2)),s=y(r(14)),l=y(r(8)),c=y(r(9)),u=y(r(0)),d=r(15),f=y(d),h=y(r(3)),p=y(r(10)),m=y(r(34));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=(0,p.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,n),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,a=n&&0===n.length?n.index:void 0;w.call(r,(function(){return r.editor.update(null,t,a)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+a+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var a=e.attrName||e.blotName;"string"===typeof a?this.register("formats/"+a,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=j(e,t,r),o=a(i,4);return e=o[0],t=o[1],r=o[3],w.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var n=r.getSelection(!0),a=new o.default;if(null==n)return a;if(u.default.query(e,u.default.Scope.BLOCK))a=r.editor.formatLine(n.index,n.length,g({},e,t));else{if(0===n.length)return r.selection.format(e,t),a;a=r.editor.formatText(n.index,n.length,g({},e,t))}return r.setSelection(n,l.default.sources.SILENT),a}),n)}},{key:"formatLine",value:function(e,t,r,n,i){var o,s=this,l=j(e,t,r,n,i),c=a(l,4);return e=c[0],t=c[1],o=c[2],i=c[3],w.call(this,(function(){return s.editor.formatLine(e,t,o)}),i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var o,s=this,l=j(e,t,r,n,i),c=a(l,4);return e=c[0],t=c[1],o=c[2],i=c[3],w.call(this,(function(){return s.editor.formatText(e,t,o)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=j(e,t),n=a(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=j(e,t),n=a(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return a.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,i){var o,s=this,l=j(e,0,r,n,i),c=a(l,4);return e=c[0],o=c[2],i=c[3],w.call(this,(function(){return s.editor.insertText(e,t,o)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=j(e,t,r),o=a(i,4);return e=o[0],t=o[1],r=o[3],w.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new o.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),a=t.editor.applyDelta(e),i=a.ops[a.ops.length-1];return null!=i&&"string"===typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),a.delete(1)),n.compose(a)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=j(t,r,n),o=a(i,4);t=o[0],r=o[1],n=o[3],this.selection.setRange(new d.Range(t,r),n),n!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,r=(new o.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,r)}),r,!0)}}]),e}();function x(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var r=(0,h.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=b.import("modules/"+t);return null==r?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function w(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new o.default;var a=null==r?null:this.getSelection(),i=this.editor.delta,s=e();if(null!=a&&(!0===r&&(r=a.index),null==n?a=_(a,s,t):0!==n&&(a=_(a,r,n,t)),this.setSelection(a,l.default.sources.SILENT)),s.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,s,i,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function j(e,t,r,a,i){var o={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(i=a,a=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(i=a,a=r,r=t,t=0),"object"===("undefined"===typeof r?"undefined":n(r))?(o=r,i=a):"string"===typeof r&&(null!=a?o[r]=a:i=r),[e,t,o,i=i||l.default.sources.API]}function _(e,t,r,n){if(null==e)return null;var i=void 0,s=void 0;if(t instanceof o.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==l.default.sources.USER)})),u=a(c,2);i=u[0],s=u[1]}else{var f=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===l.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),h=a(f,2);i=h[0],s=h[1]}return new d.Range(i,s-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:o.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=x,t.overload=j,t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=s(r(7)),o=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&o.default.query(n,o.default.Scope.BLOT)){var s=this.isolate(e,r);i&&s.wrap(n,i)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),a=t.order.indexOf(r);return n>=0||a>=0?n-a:e===r?0:e<r?-1:1}}]),t}(o.default.Inline);l.allowedChildren=[l,o.default.Embed,i.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default.Text);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=o(r(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){s.log.apply(s,arguments),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,a=t.handler;(e.target===n||n.contains(e.target))&&a.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],a="warn";function i(e){if(n.indexOf(e)<=n.indexOf(a)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=console)[e].apply(t,i)}}function o(e){return n.reduce((function(t,r){return t[r]=i.bind(console,r,e),t}),{})}i.level=o.level=function(e){a=e},t.default=o},function(e,t,r){var n=Array.prototype.slice,a=r(52),i=r(53),o=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),o(e,t,r));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=a(e),f=a(t)}catch(h){return!1}if(d.length!=f.length)return!1;for(d.sort(),f.sort(),c=d.length-1;c>=0;c--)if(d[c]!=f[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!o(e[u],t[u],r))return!1;return typeof e===typeof t}(e,t,r))};function s(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var a=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|a:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=d(r(2)),s=d(r(0)),l=d(r(4)),c=d(r(6)),u=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var y=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),a(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var a=this.descendant(u.default,this.length()-1),o=n(a,1)[0];null!=o&&o.deleteAt(o.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,a){if(0!==r&&null!=s.default.query(n,s.default.Scope.BLOCK)&&(n!==this.statics.blotName||a!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var o=this.newlineIndex(e,!0)+1,l=i-o+1,c=this.isolate(o,l),u=c.next;c.format(n,a),u instanceof t&&u.formatAt(0,e-o+r-l,n,a)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var a=this.descendant(u.default,e),i=n(a,2),o=i[0],s=i[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(l.default);y.blotName="code-block",y.tagName="PRE",y.TAB="  ",t.Code=m,t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=g(r(2)),s=g(r(20)),l=g(r(0)),c=g(r(13)),u=g(r(24)),d=r(4),f=g(d),h=g(r(16)),p=g(r(21)),m=g(r(11)),y=g(r(3));function g(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=(0,p.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var c=o.retain||o.delete||o.insert.length||1,u=o.attributes||{};if(null!=o.insert){if("string"===typeof o.insert){var h=o.insert;h.endsWith("\n")&&r&&(r=!1,h=h.slice(0,-1)),e>=i&&!h.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,h);var p=t.scroll.line(e),m=a(p,2),g=m[0],v=m[1],b=(0,y.default)({},(0,d.bubbleFormats)(g));if(g instanceof f.default){var x=g.descendant(l.default.Leaf,v),w=a(x,1)[0];b=(0,y.default)(b,(0,d.bubbleFormats)(w))}u=s.default.attributes.diff(b,u)||{}}else if("object"===n(o.insert)){var j=Object.keys(o.insert)[0];if(null==j)return e;t.scroll.insertAt(e,j,o.insert[j])}i+=c}return Object.keys(u).forEach((function(r){t.scroll.formatAt(e,c,r,u[r])})),e+c}),0),e.reduce((function(e,r){return"number"===typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(a){if(null==r.scroll.whitelist||r.scroll.whitelist[a]){var i=r.scroll.lines(e,Math.max(t,1)),o=t;i.forEach((function(t){var i=t.length();if(t instanceof c.default){var s=e-t.offset(r.scroll),l=t.newlineIndex(s+o)-s+1;t.formatAt(s,l,a,n[a])}else t.format(a,n[a]);o-=i}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,p.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(a){r.scroll.formatAt(e,t,a,n[a])})),this.update((new o.default).retain(e).retain(t,(0,p.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=a(e,1)[0];t instanceof f.default?r.push(t):t instanceof l.default.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(l.default.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=x((0,d.bubbleFormats)(r),t)}return t}));return y.default.apply(y.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"===typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new o.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(a){r.scroll.formatAt(e,t.length,a,n[a])})),this.update((new o.default).retain(e).insert(t,(0,p.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===f.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=a(n,2),s=i[0],l=i[1],u=0,d=new o.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+u-1).insert("\n"));var f=this.getContents(e,t+u).diff((new o.default).insert(r).concat(d)),h=(new o.default).retain(e).concat(f);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var a=l.default.find(t[0].target),i=(0,d.bubbleFormats)(a),s=a.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),f=(new o.default).insert(c),h=(new o.default).insert(a.value());e=(new o.default).retain(s).concat(f.diff(h,r)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new o.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function x(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(0)),o=c(r(21)),s=c(r(11)),l=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,c(r(10)).default)("quill:selection"),h=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},p=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&n.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,a=r.startNode,i=r.startOffset,o=r.endNode,s=r.endOffset;n.setNativeRange(a,i,o,s)}})),this.update(l.default.sources.SILENT)}return a(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var a=n.split(r.start.offset);n.parent.insertBefore(this.cursor,a)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var a=void 0,i=this.scroll.leaf(e),o=n(i,2),s=o[0],l=o[1];if(null==s)return null;var c=s.position(l,!0),u=n(c,2);a=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(a,l);var f=this.scroll.leaf(e+t),h=n(f,2);if(s=h[0],l=h[1],null==s)return null;var p=s.position(l,!0),m=n(p,2);return a=m[0],l=m[1],d.setEnd(a,l),d.getBoundingClientRect()}var y="left",g=void 0;return a instanceof Text?(l<a.data.length?(d.setStart(a,l),d.setEnd(a,l+1)):(d.setStart(a,l-1),d.setEnd(a,l),y="right"),g=d.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(y="right")),{bottom:g.top+g.height,height:g.height,left:g[y],right:g[y],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return f.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var a=r.map((function(e){var r=n(e,2),a=r[0],o=r[1],s=i.default.find(a,!0),l=s.offset(t.scroll);return 0===o?l:s instanceof i.default.Container?l+s.length():l+s.index(a,o)})),o=Math.min(Math.max.apply(Math,u(a)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(a)));return new h(s,o-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],a=[],i=this.scroll.length();return r.forEach((function(e,r){e=Math.min(i-1,e);var o,s=t.scroll.leaf(e),l=n(s,2),c=l[0],u=l[1],d=c.position(u,0!==r),f=n(d,2);o=f[0],u=f[1],a.push(o,u)})),a.length<2&&(a=a.concat(a)),a}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var a=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,a)),o=n(i,1)[0],s=o;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,a));s=n(l,1)[0]}if(null!=o&&null!=s){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||a||e!==o.startContainer||t!==o.startOffset||r!==o.endContainer||n!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(r,n),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(r=t,t=!1),f.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,u(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,r=this.getRange(),a=n(r,2),i=a[0],c=a[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,f=[l.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(f)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,f)}}}]),e}();function m(e,t){try{t.parentNode}catch(r){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=o)&&n.__esModule?n:{default:n}).default.Embed);s.blotName="break",s.tagName="BR",t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(44),i=r(30),o=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return n(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=l(t);e.insertBefore(r,e.children.head||void 0)}catch(n){if(n instanceof o.ParchmentError)return;throw n}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),a=n[0],i=n[1];return null==e.blotName&&e(a)||null!=e.blotName&&a instanceof e?[a,i]:a instanceof t?a.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var a=[],i=n;return this.children.forEachAt(r,n,(function(r,n,o){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&a.push(r),r instanceof t&&(a=a.concat(r.descendants(e,n,i))),i-=o})),a},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,a){e.formatAt(t,a,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),a=n[0],i=n[1];if(a)a.insertAt(i,t,r);else{var s=null==r?o.create("text",t):o.create(t,r);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new o.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=o.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),a=n[0],i=n[1],o=[[this,e]];return a instanceof t?o.concat(a.path(i,r)):(null!=a&&o.push([a,i]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,a){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],a=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),a.push.apply(a,e.removedNodes))})),a.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=o.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=o.find(e.nextSibling));var n=l(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(i.default);function l(e){var t=o.find(e);if(null==t)try{t=o.create(e)}catch(r){t=o.create(o.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),i=r(31),o=r(17),s=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new i.default(r.domNode),r}return n(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof a.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var a=e.prototype.wrap.call(this,r,n);return a instanceof t&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},t}(o.default);t.default=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(30),i=r(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=i.Scope.INLINE_BLOT,t}(a.default);t.default=o},function(e,t,r){var n=r(11),a=r(3),i={attributes:{compose:function(e,t,r){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=a(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,a){return n(e[a],t[a])||(r[a]=void 0===t[a]?null:t[a]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var a={};return t.attributes&&(a.attributes=t.attributes),"number"===typeof t.retain?a.retain=e:"string"===typeof t.insert?a.insert=t.insert.substr(r,e):a.insert=t.insert,a}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(s){t=function(){}}try{r=Set}catch(s){r=function(){}}try{n=Promise}catch(s){n=function(){}}function a(i,s,l,c,u){"object"===typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],f=[],h="undefined"!=typeof Buffer;return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),function i(l,p){if(null===l)return null;if(0===p)return l;var m,y;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,r))m=new r;else if(e(l,n))m=new n((function(e,t){l.then((function(t){e(i(t,p-1))}),(function(e){t(i(e,p-1))}))}));else if(a.__isArray(l))m=[];else if(a.__isRegExp(l))m=new RegExp(l.source,o(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(a.__isDate(l))m=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):"undefined"==typeof c?(y=Object.getPrototypeOf(l),m=Object.create(y)):(m=Object.create(c),y=c)}if(s){var g=d.indexOf(l);if(-1!=g)return f[g];d.push(l),f.push(m)}for(var v in e(l,t)&&l.forEach((function(e,t){var r=i(t,p-1),n=i(e,p-1);m.set(r,n)})),e(l,r)&&l.forEach((function(e){var t=i(e,p-1);m.add(t)})),l){var b;y&&(b=Object.getOwnPropertyDescriptor(y,v)),b&&null==b.set||(m[v]=i(l[v],p-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(v=0;v<x.length;v++){var w=x[v];(!(_=Object.getOwnPropertyDescriptor(l,w))||_.enumerable||u)&&(m[w]=i(l[w],p-1),_.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(u){var j=Object.getOwnPropertyNames(l);for(v=0;v<j.length;v++){var _,k=j[v];(_=Object.getOwnPropertyDescriptor(l,k))&&_.enumerable||(m[k]=i(l[k],p-1),Object.defineProperty(m,k,{enumerable:!1}))}}return m}(i,l)}function i(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=i,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===i(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===i(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===i(e)},a.__getRegExpFlags=o,a}();"object"===typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=h(r(0)),s=h(r(8)),l=r(4),c=h(l),u=h(r(16)),d=h(r(13)),f=h(r(25));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var a=this.line(e),o=n(a,2),s=o[0],c=o[1],f=this.line(e+r),h=n(f,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=h&&s!==h&&c>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1))===h)return void this.optimize()}else if(h instanceof d.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var y=h.children.head instanceof u.default?null:h.children.head;s.moveChildren(h,y),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,a){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,a),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==o.default.query(r,o.default.Scope.BLOCK)){var a=o.default.create(this.statics.defaultChild);this.appendChild(a),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),a.insertAt(0,r,n)}else{var s=o.default.create(r,n);this.appendChild(s)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var n=o.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,r,n){var a=[],i=n;return t.children.forEachAt(r,n,(function(t,r,n){p(t)?a.push(t):t instanceof o.default.Container&&(a=a.concat(e(t,r,i))),i-=n})),a}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=s.default.sources.USER;"string"===typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,r,e)}}}]),t}(o.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,f.default],t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=m(r(21)),s=m(r(11)),l=m(r(3)),c=m(r(2)),u=m(r(20)),d=m(r(0)),f=m(r(5)),h=m(r(10)),p=m(r(9));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=(0,h.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},k),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),n.addBinding({key:t.keys.DELETE},{collapsed:!0},j)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},_),n.addBinding({key:t.keys.DELETE},{collapsed:!1},_),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),n.listen(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=O(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=O(e);if(null==n||null==n.key)return g.warn("Attempted to add invalid keyboard binding",n);"function"===typeof t&&(t={handler:t}),"function"===typeof r&&(r={handler:r}),n=(0,l.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,o=(e.bindings[i]||[]).filter((function(e){return t.match(r,e)}));if(0!==o.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=a(c,2),f=u[0],h=u[1],p=e.quill.getLeaf(l.index),m=a(p,2),y=m[0],g=m[1],v=0===l.length?[y,g]:e.quill.getLeaf(l.index+l.length),b=a(v,2),x=b[0],w=b[1],j=y instanceof d.default.Text?y.value().slice(0,g):"",_=x instanceof d.default.Text?x.value().slice(w):"",k={collapsed:0===l.length,empty:0===l.length&&f.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:j,suffix:_};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==k.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,s.default)(t.format[e],k.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix))&&!(null!=t.suffix&&!t.suffix.test(k.suffix))&&!0!==t.handler.call(e,l,k)}))&&r.preventDefault()}}}}))}}]),t}(p.default);function x(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return y(r={key:e,shiftKey:t,altKey:null},n,/^$/),y(r,"handler",(function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(a(i,1)[0]instanceof d.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,f.default.sources.USER):this.quill.setSelection(r.index-1,f.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,f.default.sources.USER):this.quill.setSelection(r.index+r.length+1,f.default.sources.USER),!1)})),r}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=a(r,1)[0],i={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=a(o,1)[0];if(null!=s&&s.length()>1){var l=n.formats(),c=this.quill.getFormat(e.index-1,1);i=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,f.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,f.default.sources.USER),this.quill.focus()}}function j(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,o=this.quill.getLine(e.index),s=a(o,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=a(l,1)[0];if(c){var d=s.formats(),h=this.quill.getFormat(e.index,1);n=u.default.attributes.diff(d,h)||{},i=c.length()}}this.quill.deleteText(e.index,r,f.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,f.default.sources.USER)}}function _(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),a=t[t.length-1].formats();r=u.default.attributes.diff(a,n)||{}}this.quill.deleteText(e,f.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,f.default.sources.USER),this.quill.setSelection(e.index,f.default.sources.SILENT),this.quill.focus()}function k(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],f.default.sources.USER))}))}function N(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,o=this.quill.scroll.descendant(r,n),s=a(o,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+i),m=l.domNode.textContent.slice(h,p).split("\n");c=0,m.forEach((function(t,a){e?(l.insertAt(h+c,r.TAB),c+=r.TAB.length,0===a?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(l.deleteAt(h+c,r.TAB.length),c-=r.TAB.length,0===a?n-=r.TAB.length:i-=r.TAB.length),c+=t.length+1})),this.quill.update(f.default.sources.USER),this.quill.setSelection(n,i,f.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],f.default.sources.USER)}}}function O(e){if("string"===typeof e||"number"===typeof e)return O({key:e});if("object"===("undefined"===typeof e?"undefined":n(e))&&(e=(0,o.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",f.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",f.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",f.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,f.default.sources.USER)}},"indent code-block":N(!0),"outdent code-block":N(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,f.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,f.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,f.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,f.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=a(t,2),n=r[0],i=r[1],o=(0,l.default)({},n.formats(),{list:"checked"}),s=(new c.default).retain(e.index).insert("\n",o).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=a(r,2),i=n[0],o=n[1],s=(new c.default).retain(e.index).insert("\n",t.format).retain(i.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=a(n,2),o=i[0],s=i[1];if(s>r)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",f.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-s).delete(r+1).retain(o.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,f.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=a(t,2),n=r[0],i=r[1],o=(new c.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,f.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r(0)),s=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var n=this,i=0;null!=n&&n.statics.scope!==o.default.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),a=void 0,i=void 0,l=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var c=[e,r.start.offset,r.end.offset];a=c[0],i=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(a=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,l].map((function(e){return Math.max(0,Math.min(a.data.length,e-1))})),f=n(d,2);return i=f[0],l=f[1],{startNode:a,startOffset:i,endNode:a,endOffset:l}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(0)),a=r(4),i=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);s.allowedChildren=[i.default,a.BlockEmbed,s],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(0),s=(n=o)&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):r}}]),t}(s.default.Attributor.Style),c=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),u=new l("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=o)&&n.__esModule?n:{default:n}).default);function l(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=s,t.sanitize=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(23)),o=s(r(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){r.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return a(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",(function(){t.selectItem(r,!0)})),r.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":n(Event))){var a=document.createEvent("Event");a.initEvent("change",!0,!0),this.select.dispatchEvent(a)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(0)),a=g(r(5)),i=r(4),o=g(i),s=g(r(16)),l=g(r(25)),c=g(r(24)),u=g(r(35)),d=g(r(6)),f=g(r(22)),h=g(r(7)),p=g(r(55)),m=g(r(42)),y=g(r(23));function g(e){return e&&e.__esModule?e:{default:e}}a.default.register({"blots/block":o.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":f.default,"blots/text":h.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":y.default}),n.default.register(o.default,s.default,c.default,d.default,f.default,h.default),t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,a){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&a)i.wrap(r,a);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var o=n.create(this.statics.scope);i.wrap(o),o.format(r,a)}},e.prototype.insertAt=function(e,t,r){var a=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(a,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"===typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"===typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),a=r(32),i=r(33),o=r(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=a.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(r).concat(s).forEach((function(t){var r=o.query(t,o.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function a(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){a(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function a(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[a(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[a(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[a(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();a.DEFAULTS={modules:{}},a.themes={default:a},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=s(r(0)),o=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(l),r.rightGuard=document.createTextNode(l),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var a=this.prev.length();this.prev.insertAt(a,n),t={startNode:this.prev.domNode,startOffset:a+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=l,t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},o={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",o),l=new i.default.Attributor.Class("align","ql-align",o),c=new i.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},o=r(26),s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},o={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",o),l=new i.default.Attributor.Class("direction","ql-direction",o),c=new i.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(0),s=(n=o)&&n.__esModule?n:{default:n},l={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new s.default.Attributor.Class("font","ql-font",l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),d=new u("font","font-family",l);t.FontStyle=d,t.FontClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},o=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(0)),i=o(r(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,r,a){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&a!==i.default.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=l(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var a=this.stack.undo.pop();r=r.compose(a.undo),e=a.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(r(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=a.default.query(e,a.default.Scope.BLOCK)})))}(e)&&(r-=1),r}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=p(r(3)),o=p(r(2)),s=p(r(8)),l=p(r(23)),c=p(r(34)),u=p(r(59)),d=p(r(60)),f=p(r(28)),h=p(r(61));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],w=["1","2","3",!1],j=["small",!1,"large","huge"],_=function(e){function t(e,r){m(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,(function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(r.target)||e.close()}))})),n}return g(t,e),n(t,[{key:"addModule",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"===typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}}))}))}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&N(e,v),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&N(e,b,"background"===r?"#ffffff":"#000000"),new u.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?N(e,x):e.classList.contains("ql-header")?N(e,w):e.classList.contains("ql-size")&&N(e,j)),new f.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){r.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);_.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(n.index).delete(n.length).insert({image:r.target.result}),s.default.sources.USER),e.quill.setSelection(n.index+1,s.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(e){function t(e,r){m(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return g(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,s.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",s.default.sources.USER),this.quill.setSelection(n+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=k,t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var a=r.length();if(e<a||t&&e===a&&(null==r.next||0!==r.next.length()))return[r,e];e-=a}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,a=this.find(e),i=a[0],o=e-a[1],s=this.iterator(i);(n=s())&&o<e+t;){var l=n.length();e>o?r(n,e-o,Math.min(t,o+l-e)):r(n,0,Math.min(l,e+t-o)),o+=l}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),i=r(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,o),r.attach(),r}return n(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,a){this.update(),e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[i.DATA_KEY].mutations&&(e.domNode[i.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[i.DATA_KEY]&&null!=e.domNode[i.DATA_KEY].mutations&&(e instanceof a.default&&e.children.forEach(l),e.optimize(r))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(i.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=i.find(e,!1);s(t,!1),t instanceof a.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=i.find(e.target,!0);return null==t?null:null==t.domNode[i.DATA_KEY].mutations?(t.domNode[i.DATA_KEY].mutations=[e],t):(t.domNode[i.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[i.DATA_KEY]&&e.update(e.domNode[i.DATA_KEY].mutations||[],r)})),null!=this.domNode[i.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="DIV",t}(a.default);t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(18),i=r(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var i=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,a){null!=this.formats()[n]||i.query(n,i.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,a):e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var a=this.next;a instanceof t&&a.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,a.formats())&&(a.moveChildren(this),a.remove())},t.blotName="inline",t.scope=i.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(18),i=r(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(r){var n=i.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=i.query(r,i.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,a){null!=i.query(n,i.Scope.BLOCK)?this.format(n,a):e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=i.query(r,i.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var a=this.split(t),o=i.create(r,n);a.parent.insertBefore(o,a)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="P",t}(a.default);t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,a){0===t&&r===this.length()?this.format(n,a):e.prototype.formatAt.call(this,t,r,n,a)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(19),i=r(1),o=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return n(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=i.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=i.Scope.INLINE_BLOT,t}(a.default);t.default=o},function(e,t,r){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:a.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,a=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(a,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var r=-1;function n(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var u=i(e,t),d=e.substring(0,u);u=o(e=e.substring(u),t=t.substring(u));var f=e.substring(e.length-u),h=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[r,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return s=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>t.length&&(s[0][0]=s[2][0]=r),s;if(1==c.length)return[[r,e],[1,t]];var d=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function a(e,t,r){for(var n,a,s,l,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var f=i(e.substring(r),t.substring(u)),h=o(e.substring(0,r),t.substring(0,u));d.length<h+f&&(d=t.substring(u-h,u)+t.substring(u,u+f),n=e.substring(0,r-h),a=e.substring(r+f),s=t.substring(0,u-h),l=t.substring(u+f))}return 2*d.length>=e.length?[n,a,s,l,d]:null}var s,l,c,u,d,f=a(r,n,Math.ceil(r.length/4)),h=a(r,n,Math.ceil(r.length/2));if(!f&&!h)return null;s=h?f&&f[4].length>h[4].length?f:h:f,e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var p=s[4];return[l,c,u,d,p]}(e,t);if(d){var f=d[0],h=d[1],p=d[2],m=d[3],y=d[4],g=n(f,p),v=n(h,m);return g.concat([[0,y]],v)}return function(e,t){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,l=2*o,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[s+1]=0,u[s+1]=0;for(var f=n-i,h=f%2!=0,p=0,m=0,y=0,g=0,v=0;v<o;v++){for(var b=-v+p;b<=v-m;b+=2){for(var x=s+b,w=(S=b==-v||b!=v&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-b;S<n&&w<i&&e.charAt(S)==t.charAt(w);)S++,w++;if(c[x]=S,S>n)m+=2;else if(w>i)p+=2;else if(h&&(k=s+f-b)>=0&&k<l&&-1!=u[k]&&S>=(_=n-u[k]))return a(e,t,S,w)}for(var j=-v+y;j<=v-g;j+=2){for(var _,k=s+j,N=(_=j==-v||j!=v&&u[k-1]<u[k+1]?u[k+1]:u[k-1]+1)-j;_<n&&N<i&&e.charAt(n-_-1)==t.charAt(i-N-1);)_++,N++;if(u[k]=_,_>n)g+=2;else if(N>i)y+=2;else if(!h){var S;if((x=s+f-j)>=0&&x<l&&-1!=c[x])if(w=s+(S=c[x])-x,S>=(_=n-_))return a(e,t,S,w)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return d&&h.unshift([0,d]),f&&h.push([0,f]),s(h),null!=l&&(h=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,a=0;a<e.length;a++){var i=e[a];if(i[0]===r||0===i[0]){var o=n+i[1].length;if(t===o)return[a+1,e];if(t<o){e=e.slice();var s=t-n,l=[i[0],i[1].slice(0,s)],c=[i[0],i[1].slice(s)];return e.splice(a,1,l,c),[a+1,e]}n=o}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=n[1],i=n[0],o=a[i],s=a[i+1];if(null==o)return e;if(0!==o[0])return e;if(null!=s&&o[1]+s[1]===s[1]+o[1])return a.splice(i,2,s,o),c(a,i,2);if(null!=s&&0===s[1].indexOf(o[1])){a.splice(i,2,[s[0],o[1]],[0,o[1]]);var l=s[1].slice(o[1].length);return l.length>0&&a.splice(i+2,0,[s[0],l]),c(a,i,3)}return e}(h,l)),h=function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},i=2;i<e.length;i+=1)0===e[i-2][0]&&a(e[i-2][1])&&e[i-1][0]===r&&n(e[i-1][1])&&1===e[i][0]&&n(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!t)return e;var o=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&o.push(e[i]);return o}(h)}function a(e,t,r,a){var i=e.substring(0,r),o=t.substring(0,a),s=e.substring(r),l=t.substring(a),c=n(i,o),u=n(s,l);return c.concat(u)}function i(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),a=n,i=0;r<a;)e.substring(i,a)==t.substring(i,a)?i=r=a:n=a,a=Math.floor((n-r)/2+r);return a}function o(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),a=n,i=0;r<a;)e.substring(e.length-a,e.length-i)==t.substring(t.length-a,t.length-i)?i=r=a:n=a,a=Math.floor((n-r)/2+r);return a}function s(e){e.push([0,""]);for(var t,n=0,a=0,l=0,c="",u="";n<e.length;)switch(e[n][0]){case 1:l++,u+=e[n][1],n++;break;case r:a++,c+=e[n][1],n++;break;case 0:a+l>1?(0!==a&&0!==l&&(0!==(t=i(u,c))&&(n-a-l>0&&0==e[n-a-l-1][0]?e[n-a-l-1][1]+=u.substring(0,t):(e.splice(0,0,[0,u.substring(0,t)]),n++),u=u.substring(t),c=c.substring(t)),0!==(t=o(u,c))&&(e[n][1]=u.substring(u.length-t)+e[n][1],u=u.substring(0,u.length-t),c=c.substring(0,c.length-t))),0===a?e.splice(n-l,a+l,[1,u]):0===l?e.splice(n-a,a+l,[r,c]):e.splice(n-a-l,a+l,[r,c],[1,u]),n=n-a-l+(a?1:0)+(l?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,l=0,a=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),d=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),d=!0)),n++;d&&s(e)}var l=n;function c(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var a=e[n],i=e[n+1];a[0]===i[1]&&e.splice(n,2,[a[0],a[1]+i[1]])}return e}l.INSERT=1,l.DELETE=r,l.EQUAL=0,e.exports=l},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"===typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:a).supported=n,t.unsupported=a},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function a(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,t,a=[];if(0===this._eventsCount)return a;for(t in e=this._events)r.call(e,t)&&a.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e,t){var r=n?n+e:e,a=this._events[r];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var i=0,o=a.length,s=new Array(o);i<o;i++)s[i]=a[i].fn;return s},o.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){var a=new i(t,r||this),o=n?n+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.once=function(e,t,r){var a=new i(t,r||this,!0),o=n?n+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new a:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||(0===--this._eventsCount?this._events=new a:delete this._events[o]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new a:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,o.EventEmitter=o,"undefined"!==typeof e&&(e.exports=o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=b(r(3)),s=b(r(2)),l=b(r(0)),c=b(r(5)),u=b(r(10)),d=b(r(9)),f=r(36),h=r(37),p=b(r(13)),m=r(26),y=r(38),g=r(39),v=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=(0,u.default)("quill:clipboard"),j="__ql-matcher",_=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,I],["br",function(e,t){return C(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===E(e).fontStyle&&(r.italic=!0),n.fontWeight&&(E(e).fontWeight.startsWith("bold")||parseInt(E(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=O(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=l.default.query(e);if(null==r||"list-item"!==r.blotName||!C(t,"\n"))return t;for(var n=-1,a=e.parentNode;!a.classList.contains("ql-clipboard");)"list"===(l.default.query(a)||{}).blotName&&(n+=1),a=a.parentNode;return n<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new s.default}]],k=[f.AlignAttribute,y.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),N=[f.AlignStyle,h.BackgroundStyle,m.ColorStyle,y.DirectionStyle,g.FontStyle,v.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),S=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],_.concat(n.options.matchers).forEach((function(e){var t=a(e,2),i=t[0],o=t[1];(r.matchVisual||o!==L)&&n.addMatcher(i,o)})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(r,x({},p.default.blotName,t[p.default.blotName]))}var n=this.prepareMatching(),i=a(n,2),o=i[0],l=i[1],c=T(this.container,o,l);return C(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new s.default).retain(r.index),a=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,c.default.sources.USER),t.quill.setSelection(n.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=a,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var i=a(n,2),o=i[0],s=i[1];switch(o){case Node.TEXT_NODE:r.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[j]=e[j]||[],e[j].push(s)}))}})),[t,r]}}]),t}(d.default);function O(e,t,r){return"object"===("undefined"===typeof t?"undefined":n(t))?Object.keys(t).reduce((function(e,r){return O(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,o.default)({},x({},t,r),n.attributes))}),new s.default)}function E(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function C(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var a=e.ops[n];if("string"!==typeof a.insert)break;r=a.insert+r}return r.slice(-1*t.length)===t}function A(e){if(0===e.childNodes.length)return!1;var t=E(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,r){return r(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,a){var i=T(a,t,r);return a.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(a,e)}),i),i=(a[j]||[]).reduce((function(e,t){return t(a,e)}),i)),n.concat(i)}),new s.default):new s.default}function P(e,t,r){return O(r,e,!0)}function D(e,t){var r=l.default.Attributor.Attribute.keys(e),n=l.default.Attributor.Class.keys(e),a=l.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(a).forEach((function(t){var r=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(r=N[t],i[r.attrName]=r.value(e)||void 0))})),Object.keys(i).length>0&&(t=O(t,i)),t}function M(e,t){var r=l.default.query(e);if(null==r)return t;if(r.prototype instanceof l.default.Embed){var n={},a=r.value(e);null!=a&&(n[r.blotName]=a,t=(new s.default).insert(n,r.formats(e)))}else"function"===typeof r.formats&&(t=O(t,r.blotName,r.formats(e)));return t}function I(e,t){return C(t,"\n")||(A(e)||t.length()>0&&e.nextSibling&&A(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(A(e)&&null!=e.nextElementSibling&&!C(t,"\n\n")){var r=e.offsetHeight+parseFloat(E(e).marginTop)+parseFloat(E(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function R(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!E(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&A(e.parentNode)||null!=e.previousSibling&&A(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&A(e.parentNode)||null!=e.nextSibling&&A(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=D,t.matchBlot=M,t.matchNewline=I,t.matchSpacing=L,t.matchText=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=o)&&n.__esModule?n:{default:n}).default);s.blotName="bold",s.tagName=["STRONG","B"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(2)),o=u(r(0)),s=u(r(5)),l=u(r(10)),c=u(r(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=(0,l.default)("quill:toolbar"),h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var o=document.createElement("div");m(o,i.options.container),e.container.parentNode.insertBefore(o,e.container),i.container=o}else"string"===typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(a=f.error("Container required for toolbar",i.options),d(i,a))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void f.warn("ignoring attaching to disabled format",r,e);if(null==o.default.query(r))return void f.warn("ignoring attaching to nonexistent format",r,e)}var a="SELECT"===e.tagName?"change":"click";e.addEventListener(a,(function(a){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),a.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=n(u,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,l);else if(o.default.query(r).prototype instanceof o.default.Embed){if(!(l=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,l)),s.default.sources.USER)}else t.quill.format(r,l,s.default.sources.USER);t.update(d)})),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(r){var a=n(r,2),i=a[0],o=a[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[i])s=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){var l=t[i];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+l+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var c=t[i]===o.getAttribute("value")||null!=t[i]&&t[i].toString()===o.getAttribute("value")||null==t[i]&&!o.getAttribute("value");o.classList.toggle("ql-active",c)}else o.classList.toggle("ql-active",null!=t[i])}))}}]),t}(c.default);function p(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach((function(e){if("string"===typeof e)p(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(r,t,n):p(r,t,n)}})),e.appendChild(r)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var a="+1"===e?1:-1;"rtl"===r.direction&&(a*=-1),this.quill.format("indent",n+a,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(28),s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=a:n.style.fill=a)}}]),t}(((n=o)&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(28),s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=r[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=o)&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),i=0;if(a.right>n.right&&(i=n.right-a.right,this.root.style.left=t+i+"px"),a.left<n.left&&(i=n.left-a.left,this.root.style.left=t+i+"px"),a.bottom>n.bottom){var o=a.bottom-a.top,s=e.bottom-e.top+o;this.root.style.top=r-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=h(r(3)),s=h(r(8)),l=r(43),c=h(l),u=h(r(27)),d=r(15),f=h(r(41));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return y(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),f.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,r){e.handlers.link.call(e,!r.format.link)}))}}]),t}(c.default);v.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return y(t,e),i(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,r,a){if(null!=t){if(0===t.length&&a===s.default.sources.USER){var i=e.quill.scroll.descendant(u.default,t.index),o=n(i,2),l=o[0],c=o[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var f=u.default.formats(l.domNode);return e.preview.textContent=f,e.preview.setAttribute("href",f),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=I(r(29)),a=r(36),i=r(38),o=r(64),s=I(r(65)),l=I(r(66)),c=r(67),u=I(c),d=r(37),f=r(26),h=r(39),p=r(40),m=I(r(56)),y=I(r(68)),g=I(r(27)),v=I(r(69)),b=I(r(70)),x=I(r(71)),w=I(r(72)),j=I(r(73)),_=r(13),k=I(_),N=I(r(74)),S=I(r(75)),O=I(r(57)),E=I(r(41)),C=I(r(28)),A=I(r(59)),T=I(r(60)),P=I(r(61)),D=I(r(108)),M=I(r(62));function I(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":f.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":f.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":p.SizeStyle},!0),n.default.register({"formats/align":a.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":o.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":f.ColorStyle,"formats/font":h.FontClass,"formats/size":p.SizeClass,"formats/blockquote":s.default,"formats/code-block":k.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":_.Code,"formats/italic":y.default,"formats/link":g.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":w.default,"formats/video":j.default,"formats/list/item":c.ListItem,"modules/formula":N.default,"modules/syntax":S.default,"modules/toolbar":O.default,"themes/bubble":D.default,"themes/snow":M.default,"ui/icons":E.default,"ui/picker":C.default,"ui/icon-picker":T.default,"ui/color-picker":A.default,"ui/tooltip":P.default},!0),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(0),s=(n=o)&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),c=new l("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="blockquote",i.tagName="blockquote",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);o.blotName="header",o.tagName=["H1","H2","H3","H4","H5","H6"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=l(r(0)),o=l(r(4)),s=l(r(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==h.blotName||r?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:a(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);f.blotName="list-item",f.tagName="LI";var h=function(e){function t(e){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),a=i.default.find(t.target);"checked"===n?a.format("list","unchecked"):"unchecked"===n&&a.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof f)a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=i.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[f],t.ListItem=f,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(56),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=o)&&n.__esModule?n:{default:n}).default);s.blotName="script",s.tagName=["SUB","SUP"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="strike",i.tagName="S",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a)&&n.__esModule?n:{default:n}).default);i.blotName="underline",i.tagName="U",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(0),s=(n=o)&&n.__esModule?n:{default:n},l=r(27),c=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=r(4),s=r(27),l=(n=s)&&n.__esModule?n:{default:n},c=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=l(r(35)),o=l(r(5)),s=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var h=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){o.default.register(f,!0)}}]),t}(s.default);t.FormulaBlot=f,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=l(r(0)),o=l(r(5)),s=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(r(13)).default);f.className="ql-syntax";var h=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),p=function(e){function t(e,r){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!==typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return n.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(a),a=setTimeout((function(){n.highlight(),a=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){o.default.register(h,!0),o.default.register(f,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(f).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),t}(s.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=f,t.CodeToken=h,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),o=d(r(8)),s=r(43),l=d(s),c=r(15),u=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(e){function t(e,r){f(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return p(t,e),a(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);y.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,r){f(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,r,a){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&a===o.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var s=i[i.length-1],l=n.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-l),d=n.quill.getBounds(new c.Range(l,u));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return p(t,e),a(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),a=this.root.querySelector(".ql-tooltip-arrow");if(a.style.marginLeft="",0===r)return r;a.style.marginLeft=-1*r-a.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=y},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=b.prototype=new v;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:s,props:i,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===i?"."+E(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),C(o,t,a,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+E(s=e[c],c);l+=C(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,a,u=i+E(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var i=t(e);return a(e)?i:n(i,r(e))}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),a=r(5866),i=r(1558),o=r(8114),s=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,u=a,d=e.length,f=!0,h=[],p=h;if(r)f=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,u=o,p=new n}else p=t?[]:h;e:for(;++c<d;){var y=e[c],g=t?t(y):y;if(y=r||0!==y?y:0,f&&g===g){for(var v=p.length;v--;)if(p[v]===g)continue e;t&&p.push(g),h.push(y)}else u(p,g,r)||(p!==h&&p.push(g),h.push(y))}return h}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var a=o.call(e);return n&&(t?e[s]=r:delete e[s]),a}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),i=r(2165),o=r(4052),s=r(929);e.exports=function(e,t,r){var l=o(e)?n:i;return r&&s(e,t,r)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,a){return r=!!t(e,n,a)})),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),i=r(438),o=r(9394),s=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,r)=>{var n=r(6989),a=r(3097),i=r(3366),o=r(2597),s=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(r){var o=a(r,e);return void 0===o&&o===t?i(r,e):n(t,o,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),i=r(4079),o=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),i=r(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),i=r(793),o=r(7760),s=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),i=r(6350);e.exports=function(e,t){return i(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,o,s){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:a.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var g=e[f=c[d]],v=t[f];if(i)var b=l?i(v,g,f,t,e,s):i(g,v,f,e,t,s);if(!(void 0===b?g===v||o(g,v,r,i,s):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=r.length;++a<s;){var c=n(i[a],o[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===r(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===i}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),i=r(9987),o=r(5752),s=r(6924),l=r(4052),c=r(4543),u=r(1268),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,y,g){var v=l(e),b=l(t),x=v?f:s(e),w=b?f:s(t),j=(x=x==d?h:x)==h,_=(w=w==d?h:w)==h,k=x==w;if(k&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(k&&!j)return g||(g=new n),v||u(e)?a(e,t,r,m,y,g):i(e,t,x,r,m,y,g);if(!(1&r)){var N=j&&p.call(e,"__wrapped__"),S=_&&p.call(t,"__wrapped__");if(N||S){var O=N?e.value():e,E=S?t.value():t;return g||(g=new n),y(O,E,r,m,g)}}return!!k&&(g||(g=new n),o(e,t,r,m,y,g))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&!1!==a(s[o],o,s););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,i){var o=r.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new n;if(i)var p=i(d,f,u,e,t,h);if(!(void 0===p?a(f,d,3,i,h):p))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),i=16-(a-n);if(n=a,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,i=e===e,o=n(e),s=void 0!==t,l=null===t,c=t===t,u=n(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!r&&c||!i)return 1;if(!a&&!o&&!u&&e<t||u&&r&&i&&!a&&!o||l&&r&&i||!s&&i||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),i=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),i=r(6095),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),i=r(5387),o=r(2070),s=r(6600),l=r(6913),c=r(6996),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=c(n),y=c(a),g=c(i),v=c(o),b=c(s),x=l;(n&&x(new n(new ArrayBuffer(1)))!=p||a&&x(new a)!=u||i&&x(i.resolve())!=d||o&&x(new o)!=f||s&&x(new s)!=h)&&(x=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case y:return u;case g:return d;case v:return f;case b:return h}return t}),e.exports=x},6954:(e,t,r)=>{var n=r(1629),a=r(7857),i=r(6686),o=r(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?f:s).test(o(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,i,o,s){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),i=r(9096),o=r(4052),s=r(929);e.exports=function(e,t,r){var l=o(e)?n:a;return r&&s(e,t,r)&&(t=void 0),l(e,i(t,3))}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),i=r(4052),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),i=r(4190),o=r(1946),s=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(y=!1,x(e),!m)if(null!==n(c))m=!0,D(j);else{var t=n(u);null!==t&&M(w,t.startTime-e)}}function j(e,r){m=!1,y&&(y=!1,v(S),S=-1),p=!0;var i=h;try{for(x(r),f=n(c);null!==f&&(!(f.expirationTime>r)||e&&!C());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?f.callback=s:f===n(c)&&a(c),x(r)}else a(c);f=n(c)}if(null!==f)var l=!0;else{var d=n(u);null!==d&&M(w,d.startTime-r),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,N=null,S=-1,O=5,E=-1;function C(){return!(t.unstable_now()-E<O)}function A(){if(null!==N){var e=t.unstable_now();E=e;var r=!0;try{r=N(!0,e)}finally{r?_():(k=!1,N=null)}}else k=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){g(A,0)};function D(e){N=e,k||(k=!0,_())}function M(e,r){S=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(y?(v(S),S=-1):y=!0,M(w,i-o))):(e.sortIndex=s,r(c,e),m||p||(m=!0,D(j))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),i=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7324:e=>{e.exports=function(e,t,r,n){var a=r?r.call(n,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(a=r?r.call(n,u,d,c):void 0)||void 0===a&&u!==d)return!1}return!0}},7424:(e,t,r)=>{var n=r(755),a=r(2536),i=r(5647),o=r(929),s=i((function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),i=r(9115),o=r(1069);e.exports=function(e){return function(t){t=o(t);var r=a(t)?i(t):void 0,s=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),i=r(2074),o=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=o},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,f=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,y=d(1286742750677284.5),g={};function v(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?E(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),i>(l=(o=Math.ceil(f/7))>l?o+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?E(t,f):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function x(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=N(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=N(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return _(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=w(S(r,o),S(e,o),o),s=!0,E(t,i))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=w(r,e,0,1).times(e),s=!0,r.minus(t)):E(new n(r),a)},g.naturalExponential=g.exp=function(){return j(this)},g.naturalLogarithm=g.ln=function(){return S(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},g.squareRoot=g.sqrt=function(){var e,t,r,n,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=o=(r=u.precision)+3;;)if(n=(i=n).plus(w(c,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(E(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;o+=4}return s=!0,E(n,r)},g.times=g.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,(c=h.length)<(u=m.length)&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],n=o=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,s?E(e,f.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,i),void 0===t?t=n.rounding:b(t,0,8),E(r,e+_(r)+1,t))},g.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=A(n,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),r=A(n=E(new a(n),e+1,t),!0,e+1)),r},g.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?A(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),r=A((n=E(new o(a),e+_(a)+1,t)).abs(),!1,e+_(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return E(new t(e),_(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,r,n,i,o,c,u=this,f=u.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=f.precision,e.eq(a))return E(u,n);if(c=(t=e.e)>=(r=e.d.length-1),o=u.s,c){if((r=h<0?-h:h)<=m){for(i=new f(a),t=Math.ceil(n/7+4),s=!1;r%2&&T((i=i.times(u)).d,t),0!==(r=d(r/2));)T((u=u.times(u)).d,t);return s=!0,e.s<0?new f(a).div(i):E(i,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,i=e.times(S(u,n+12)),s=!0,(i=j(i)).s=o,i},g.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=A(a,(r=_(a))<=o.toExpNeg||r>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),n=A(a=E(new o(a),e,t),e<=(r=_(a))||r<=o.toExpNeg,e)),n},g.toSignificantDigits=g.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,i),void 0===t?t=r.rounding:b(t,0,8)),E(new r(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=_(e),r=e.constructor;return A(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,c,u,d,f,h,m,y,g,v,b,x,w,j,k,N,S,O,C=n.constructor,A=n.s==a.s?1:-1,T=n.d,P=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,S=P.length,k=T.length,y=(m=new C(A)).d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--c,(x=null==i?i=C.precision:o?i+(_(n)-_(a))+1:i)<0)return new C(0);if(x=x/7+2|0,u=0,1==S)for(d=0,P=P[0],x++;(u<k||d)&&x--;u++)w=d*p+(T[u]||0),y[u]=w/P|0,d=w%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),T=e(T,d),S=P.length,k=T.length),j=S,v=(g=T.slice(0,S)).length;v<S;)g[v++]=0;(O=P.slice()).unshift(0),N=P[0],P[1]>=p/2&&++N;do{d=0,(s=t(P,g,S,v))<0?(b=g[0],S!=v&&(b=b*p+(g[1]||0)),(d=b/N|0)>1?(d>=p&&(d=p-1),1==(s=t(f=e(P,d),g,h=f.length,v=g.length))&&(d--,r(f,S<h?O:P,h))):(0==d&&(s=d=1),f=P.slice()),(h=f.length)<v&&f.unshift(0),r(g,f,v),-1==s&&(s=t(P,g,S,v=g.length))<1&&(d++,r(g,S<v?O:P,v)),v=g.length):0===s&&(d++,g=[0]),y[u++]=d,s&&g[0]?g[v++]=T[j]||0:(g=[T[j]],v=1)}while((j++<k||void 0!==g[0])&&x--)}return y[0]||y.shift(),m.e=c,E(m,o?i+_(m)+1:i)}}();function j(e,t){var r,n,i,o,l,c=0,d=0,h=e.constructor,p=h.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new h(a);for(null==t?(s=!1,l=p):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(f(2,d))/Math.LN10*2+5|0,r=n=i=new h(a),h.precision=l;;){if(n=E(n.times(e),l),r=r.times(++c),x((o=i.plus(w(n,r,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=E(i.times(i),l);return h.precision=p,null==t?(s=!0,E(i,p)):i}i=o}}function _(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function k(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function N(e){for(var t="";e--;)t+="0";return t}function S(e,t){var r,n,i,o,c,u,d,f,h,p=1,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new g(0);if(null==t?(s=!1,f=v):f=t,m.eq(10))return null==t&&(s=!0),k(g,f);if(f+=10,g.precision=f,n=(r=x(y)).charAt(0),o=_(m),!(Math.abs(o)<15e14))return d=k(g,f+2,v).times(o+""),m=S(new g(n+"."+r.slice(1)),f-10).plus(d),g.precision=v,null==t?(s=!0,E(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=x((m=m.times(e)).d)).charAt(0),p++;for(o=_(m),n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),f),h=E(m.times(m),f),i=3;;){if(c=E(c.times(h),f),x((d=u.plus(w(c,new g(i),f))).d).slice(0,f)===x(u.d).slice(0,f))return u=u.times(2),0!==o&&(u=u.plus(k(g,f+2,v).times(o+""))),u=w(u,new g(p),f),g.precision=v,null==t?(s=!0,E(u,v)):u;u=d,i+=2}}function O(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var n,a,i,o,l,c,h,m,g=e.d;for(o=1,i=g[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,h=g[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=g.length))return e;for(h=i=g[m],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=h/(i=f(10,o-a-1))%10|0,c=t<0||void 0!==g[m+1]||h%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?h/f(10,o-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return c?(i=_(e),g.length=1,t=t-i-1,g[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=m,i=1,m--):(g.length=m+1,i=f(10,7-n),g[m]=a>0?(h/f(10,o-a)%f(10,a)|0)*i:0),c)for(;;){if(0==m){(g[0]+=i)==p&&(g[0]=1,++e.e);break}if(g[m]+=i,g[m]!=p)break;g[m--]=0,i=1}for(n=g.length;0===g[--n];)g.pop();if(s&&(e.e>y||e.e<-y))throw Error(u+_(e));return e}function C(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?E(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n){for((d=o<0)?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=f.length))&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=f[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?E(t,m):t):new h(0)}function A(e,t,r){var n,a=_(e),i=x(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+N(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+N(-a-1)+i,r&&(n=r-o)>0&&(i+=N(n))):a>=o?(i+=N(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+N(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=N(n))),e.s<0?"-"+i:i}function T(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);O(t,e)}if(i.prototype=g,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=P,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),i=r(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=o},8468:(e,t,r)=>{var n=r(5816),a=r(644),i=r(4020);e.exports=function(e,t,r){return t===t?i(e,t,r):n(e,a,r)}},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},8541:(e,t,r)=>{var n=r(9812),a=r(149),i=r(4052),o=r(9841),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8673:(e,t,r)=>{var n=r(3204),a=r(3713),i=r(6571);e.exports=function(e){return i(e)?n(e):a(e)}},8724:(e,t,r)=>{var n=r(7615),a=r(5051),i=r(2154),o=r(8734),s=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,i=a(e)?Array(e.length):[];return n(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),i=r(6704);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),i=r(4052),o=r(9194),s=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,u=(t=n(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&r(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(f,u)&&(i(e)||a(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),a=r(5029),i=r(3279),o=r(4052),s=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):n(e):s(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),i=r(715);e.exports=function(e){return a(e)?i(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),i=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),i=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),i):void 0}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),i=r(8673);e.exports=function(e){return n(e,i,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=s},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,i){for(var o=-1,s=r(t((n-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!n(s):r(s,l)))var l=s,c=o}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),i=r(3211),o=r(3668),s=r(4160),l=r(2074),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;n|=2,f.set(e,t);var y=o(h(e),h(t),n,c,d,f);return f.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),i=r(8673);e.exports=function(e){return function(t,r,o){var s=Object(t);if(!a(t)){var l=n(r,3);t=i(t),r=function(e){return l(s[e],e,s)}}var c=e(t,r,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(i,o),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".2f04e1dd.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="sphere-frontend:";r.l=(n,a,i,o)=>{if(e[n])e[n].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,o=n[0],s=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunksphere_frontend=self.webpackChunksphere_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0,(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Et,hasStandardBrowserEnv:()=>At,hasStandardBrowserWebWorkerEnv:()=>Tt,navigator:()=>Ct,origin:()=>Pt});var t={};r.r(t),r.d(t,{scaleBand:()=>dh,scaleDiverging:()=>Uv,scaleDivergingLog:()=>zv,scaleDivergingPow:()=>Wv,scaleDivergingSqrt:()=>Vv,scaleDivergingSymlog:()=>Hv,scaleIdentity:()=>Lm,scaleImplicit:()=>ch,scaleLinear:()=>Im,scaleLog:()=>Wm,scaleOrdinal:()=>uh,scalePoint:()=>hh,scalePow:()=>ey,scaleQuantile:()=>fy,scaleQuantize:()=>hy,scaleRadial:()=>ny,scaleSequential:()=>Iv,scaleSequentialLog:()=>Lv,scaleSequentialPow:()=>Fv,scaleSequentialQuantile:()=>qv,scaleSequentialSqrt:()=>Bv,scaleSequentialSymlog:()=>Rv,scaleSqrt:()=>ty,scaleSymlog:()=>Gm,scaleThreshold:()=>py,scaleTime:()=>Tv,scaleUtc:()=>Pv,tickFormat:()=>Dm});var n={};r.r(n),r.d(n,{Decoder:()=>YI,Encoder:()=>VI,PacketType:()=>HI,protocol:()=>zI});var a,i,o=r(5043),s=r.t(o,2),l=r(4391);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}(i=a||(a={})).Pop="POP",i.Push="PUSH",i.Replace="REPLACE";const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,r,n){return void 0===r&&(r=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function y(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l=a.Pop,f=null,y=g();function g(){return(s.state||{idx:null}).idx}function v(){l=a.Pop;let e=g(),t=null==e?null:e-y;y=e,f&&f({action:l,location:x.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:m(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==y&&(y=0,s.replaceState(c({},s.state,{idx:y}),""));let x={get action(){return l},get location(){return e(i,s)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(u,v),f=e,()=>{i.removeEventListener(u,v),f=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let n=p(x.location,e,t);r&&r(n,e),y=g()+1;let c=h(n,y),u=x.createHref(n);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}o&&f&&f({action:l,location:x.location,delta:1})},replace:function(e,t){l=a.Replace;let n=p(x.location,e,t);r&&r(n,e),y=g();let i=h(n,y),c=x.createHref(n);s.replaceState(i,"",c),o&&f&&f({action:l,location:x.location,delta:0})},go:e=>s.go(e)};return x}var v,b;(b=v||(v={})).data="data",b.deferred="deferred",b.redirect="redirect",b.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,r){return void 0===r&&(r="/"),w(e,t,r,!1)}function w(e,t,r,n){let a=I(("string"===typeof t?y(t):t).pathname||"/",r);if(null==a)return null;let i=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=M(a);o=P(i[s],e,n)}return o}function j(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let s=q([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),j(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of _(e.path))a(e,t,n);else a(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=_(n.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,N=3,S=2,O=1,E=10,C=-2,A=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(A)&&(n+=C),t&&(n+=S),r.filter((e=>!A(e))).reduce(((e,t)=>e+(k.test(t)?N:""===t?O:E)),n)}function P(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:q([i,u.pathname]),pathnameBase:$(q([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=q([i,u.pathnameBase]))}return o}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function M(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function L(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let r=R(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function B(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=y(e):(a=c({},e),d(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(null==s)i=r;else{let e=t.length-1;if(!n&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?y(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:U(n),hash:z(a)}}(a,i),u=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!u&&!f||(l.pathname+="/"),l}const q=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],V=(new Set(W),["get",...W]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}const Y=o.createContext(null);const G=o.createContext(null);const X=o.createContext(null);const Q=o.createContext(null);const J=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=o.createContext(null);function ee(){return null!=o.useContext(Q)}function te(){return ee()||d(!1),o.useContext(Q).location}function re(e){o.useContext(X).static||o.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=o.useContext(J);return e?function(){let{router:e}=me(he.UseNavigateStable),t=ge(pe.UseNavigateStable),r=o.useRef(!1);return re((()=>{r.current=!0})),o.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,K({fromRouteId:t},a)))}),[e,t])}():function(){ee()||d(!1);let e=o.useContext(Y),{basename:t,future:r,navigator:n}=o.useContext(X),{matches:a}=o.useContext(J),{pathname:i}=te(),s=JSON.stringify(F(a,r.v7_relativeSplatPath)),l=o.useRef(!1);return re((()=>{l.current=!0})),o.useCallback((function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let o=B(r,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:q([t,o.pathname])),(a.replace?n.replace:n.push)(o,a.state,a)}),[t,n,s,i,e])}()}const ae=o.createContext(null);function ie(){let{matches:e}=o.useContext(J),t=e[e.length-1];return t?t.params:{}}function oe(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=o.useContext(X),{matches:a}=o.useContext(J),{pathname:i}=te(),s=JSON.stringify(F(a,n.v7_relativeSplatPath));return o.useMemo((()=>B(e,JSON.parse(s),i,"path"===r)),[e,s,i,r])}function se(e,t,r,n){ee()||d(!1);let{navigator:i,static:s}=o.useContext(X),{matches:l}=o.useContext(J),c=l[l.length-1],u=c?c.params:{},f=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=te();if(t){var m;let e="string"===typeof t?y(t):t;"/"===f||(null==(m=e.pathname)?void 0:m.startsWith(f))||d(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==f){let e=f.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!s&&r&&r.matches&&r.matches.length>0?r.matches:x(e,{pathname:v});let w=fe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:q([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:q([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,n);return t&&w?o.createElement(Q.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:a.Pop}},w):w}function le(){let e=function(){var e;let t=o.useContext(Z),r=ye(pe.UseRouteError),n=ge(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),r?o.createElement("pre",{style:a},r):null,null)}const ce=o.createElement(le,null);class ue extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(J.Provider,{value:this.props.routeContext},o.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:n}=e,a=o.useContext(Y);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),o.createElement(J.Provider,{value:t},n)}function fe(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let o=0;o<s.length;o++){let e=s[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,n,a)=>{let i,d=!1,f=null,h=null;var p;r&&(i=l&&n.route.id?l[n.route.id]:void 0,f=n.route.errorElement||ce,c&&(u<0&&0===a?(p="route-fallback",!1||ve[p]||(ve[p]=!0),d=!0,h=null):u===a&&(d=!0,h=n.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,a+1)),y=()=>{let t;return t=i?f:d?h:n.route.Component?o.createElement(n.route.Component,null):n.route.element?n.route.element:e,o.createElement(de,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?o.createElement(ue,{location:r.location,revalidation:r.revalidation,component:f,error:i,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()}),null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function me(e){let t=o.useContext(Y);return t||d(!1),t}function ye(e){let t=o.useContext(G);return t||d(!1),t}function ge(e){let t=function(){let e=o.useContext(J);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const ve={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function xe(e){let{to:t,replace:r,state:n,relative:a}=e;ee()||d(!1);let{future:i,static:s}=o.useContext(X),{matches:l}=o.useContext(J),{pathname:c}=te(),u=ne(),f=B(t,F(l,i.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(f);return o.useEffect((()=>u(JSON.parse(h),{replace:r,state:n,relative:a})),[u,h,a,r,n]),null}function we(e){return function(e){let t=o.useContext(J).outlet;return t?o.createElement(ae.Provider,{value:e},t):t}(e.context)}function je(e){d(!1)}function _e(e){let{basename:t="/",children:r=null,location:n,navigationType:i=a.Pop,navigator:s,static:l=!1,future:c}=e;ee()&&d(!1);let u=t.replace(/^\/*/,"/"),f=o.useMemo((()=>({basename:u,navigator:s,static:l,future:K({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof n&&(n=y(n));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=n,b=o.useMemo((()=>{let e=I(h,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:i}}),[u,h,p,m,g,v,i]);return null==b?null:o.createElement(X.Provider,{value:f},o.createElement(Q.Provider,{children:r,value:b}))}function ke(e){let{children:t,location:r}=e;return se(Ne(t),r)}new Promise((()=>{}));o.Component;function Ne(e,t){void 0===t&&(t=[]);let r=[];return o.Children.forEach(e,((e,n)=>{if(!o.isValidElement(e))return;let a=[...t,n];if(e.type===o.Fragment)return void r.push.apply(r,Ne(e.props.children,a));e.type!==je&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,a)),r.push(i)})),r}function Se(e,t){return function(){return e.apply(t,arguments)}}const{toString:Oe}=Object.prototype,{getPrototypeOf:Ee}=Object,Ce=(Ae=Object.create(null),e=>{const t=Oe.call(e);return Ae[t]||(Ae[t]=t.slice(8,-1).toLowerCase())});var Ae;const Te=e=>(e=e.toLowerCase(),t=>Ce(t)===e),Pe=e=>t=>typeof t===e,{isArray:De}=Array,Me=Pe("undefined");const Ie=Te("ArrayBuffer");const Le=Pe("string"),Re=Pe("function"),Fe=Pe("number"),Be=e=>null!==e&&"object"===typeof e,qe=e=>{if("object"!==Ce(e))return!1;const t=Ee(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$e=Te("Date"),Ue=Te("File"),ze=Te("Blob"),He=Te("FileList"),We=Te("URLSearchParams"),[Ve,Ke,Ye,Ge]=["ReadableStream","Request","Response","Headers"].map(Te);function Xe(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),De(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),i=n.length;let o;for(r=0;r<i;r++)o=n[r],t.call(null,e[o],o,e)}}function Qe(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const Je="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ze=e=>!Me(e)&&e!==Je;const et=(tt="undefined"!==typeof Uint8Array&&Ee(Uint8Array),e=>tt&&e instanceof tt);var tt;const rt=Te("HTMLFormElement"),nt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),at=Te("RegExp"),it=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Xe(r,((r,a)=>{let i;!1!==(i=t(r,a,e))&&(n[a]=i||r)})),Object.defineProperties(e,n)};const ot=Te("AsyncFunction"),st=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,n=[],Je.addEventListener("message",(e=>{let{source:t,data:a}=e;t===Je&&a===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),Je.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Re(Je.postMessage)),lt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Je):"undefined"!==typeof process&&process.nextTick||st,ct={isArray:De,isArrayBuffer:Ie,isBuffer:function(e){return null!==e&&!Me(e)&&null!==e.constructor&&!Me(e.constructor)&&Re(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Re(e.append)&&("formdata"===(t=Ce(e))||"object"===t&&Re(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ie(e.buffer),t},isString:Le,isNumber:Fe,isBoolean:e=>!0===e||!1===e,isObject:Be,isPlainObject:qe,isReadableStream:Ve,isRequest:Ke,isResponse:Ye,isHeaders:Ge,isUndefined:Me,isDate:$e,isFile:Ue,isBlob:ze,isRegExp:at,isFunction:Re,isStream:e=>Be(e)&&Re(e.pipe),isURLSearchParams:We,isTypedArray:et,isFileList:He,forEach:Xe,merge:function e(){const{caseless:t}=Ze(this)&&this||{},r={},n=(n,a)=>{const i=t&&Qe(r,a)||a;qe(r[i])&&qe(n)?r[i]=e(r[i],n):qe(n)?r[i]=e({},n):De(n)?r[i]=n.slice():r[i]=n};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Xe(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Xe(t,((t,n)=>{r&&Re(t)?e[n]=Se(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,i,o;const s={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],n&&!n(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==r&&Ee(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ce,kindOfTest:Te,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(De(e))return e;let t=e.length;if(!Fe(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:rt,hasOwnProperty:nt,hasOwnProp:nt,reduceDescriptors:it,freezeMethods:e=>{it(e,((t,r)=>{if(Re(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Re(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return De(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Qe,global:Je,isContextDefined:Ze,isSpecCompliantForm:function(e){return!!(e&&Re(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Be(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=De(e)?[]:{};return Xe(e,((e,t)=>{const i=r(e,n+1);!Me(i)&&(a[t]=i)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:ot,isThenable:e=>e&&(Be(e)||Re(e))&&Re(e.then)&&Re(e.catch),setImmediate:st,asap:lt};function ut(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ct.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const dt=ut.prototype,ft={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ft[e]={value:e}})),Object.defineProperties(ut,ft),Object.defineProperty(dt,"isAxiosError",{value:!0}),ut.from=(e,t,r,n,a,i)=>{const o=Object.create(dt);return ct.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ut.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ht=ut;function pt(e){return ct.isPlainObject(e)||ct.isArray(e)}function mt(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function yt(e,t,r){return e?e.concat(t).map((function(e,t){return e=mt(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const gt=ct.toFlatObject(ct,{},null,(function(e){return/^is[A-Z]/.test(e)}));const vt=function(e,t,r){if(!ct.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=ct.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ct.isUndefined(t[e])}))).metaTokens,a=r.visitor||c,i=r.dots,o=r.indexes,s=(r.Blob||"undefined"!==typeof Blob&&Blob)&&ct.isSpecCompliantForm(t);if(!ct.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ct.isDate(e))return e.toISOString();if(!s&&ct.isBlob(e))throw new ht("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(e)||ct.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let s=e;if(e&&!a&&"object"===typeof e)if(ct.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(ct.isArray(e)&&function(e){return ct.isArray(e)&&!e.some(pt)}(e)||(ct.isFileList(e)||ct.endsWith(r,"[]"))&&(s=ct.toArray(e)))return r=mt(r),s.forEach((function(e,n){!ct.isUndefined(e)&&null!==e&&t.append(!0===o?yt([r],n,i):null===o?r:r+"[]",l(e))})),!1;return!!pt(e)||(t.append(yt(a,r,i),l(e)),!1)}const u=[],d=Object.assign(gt,{defaultVisitor:c,convertValue:l,isVisitable:pt});if(!ct.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!ct.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),ct.forEach(r,(function(r,i){!0===(!(ct.isUndefined(r)||null===r)&&a.call(t,r,ct.isString(i)?i.trim():i,n,d))&&e(r,n?n.concat(i):[i])})),u.pop()}}(e),t};function bt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function xt(e,t){this._pairs=[],e&&vt(e,this,t)}const wt=xt.prototype;wt.append=function(e,t){this._pairs.push([e,t])},wt.toString=function(e){const t=e?function(t){return e.call(this,t,bt)}:bt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const jt=xt;function _t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kt(e,t,r){if(!t)return e;const n=r&&r.encode||_t;ct.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(i=a?a(t,r):ct.isURLSearchParams(t)?t.toString():new jt(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Nt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ct.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},St={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ot={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:jt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Et="undefined"!==typeof window&&"undefined"!==typeof document,Ct="object"===typeof navigator&&navigator||void 0,At=Et&&(!Ct||["ReactNative","NativeScript","NS"].indexOf(Ct.product)<0),Tt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Pt=Et&&window.location.href||"http://localhost",Dt={...e,...Ot};const Mt=function(e){function t(e,r,n,a){let i=e[a++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),s=a>=e.length;if(i=!i&&ct.isArray(n)?n.length:i,s)return ct.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!o;n[i]&&ct.isObject(n[i])||(n[i]=[]);return t(e,r,n[i],a)&&ct.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}(n[i])),!o}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const r={};return ct.forEachEntry(e,((e,n)=>{t(function(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const It={transitional:St,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=ct.isObject(e);a&&ct.isHTMLForm(e)&&(e=new FormData(e));if(ct.isFormData(e))return n?JSON.stringify(Mt(e)):e;if(ct.isArrayBuffer(e)||ct.isBuffer(e)||ct.isStream(e)||ct.isFile(e)||ct.isBlob(e)||ct.isReadableStream(e))return e;if(ct.isArrayBufferView(e))return e.buffer;if(ct.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vt(e,new Dt.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Dt.isNode&&ct.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=ct.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return vt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(ct.isString(e))try{return(t||JSON.parse)(e),ct.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||It.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ct.isResponse(e)||ct.isReadableStream(e))return e;if(e&&ct.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw ht.from(a,ht.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dt.classes.FormData,Blob:Dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],(e=>{It.headers[e]={}}));const Lt=It,Rt=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ft=Symbol("internals");function Bt(e){return e&&String(e).trim().toLowerCase()}function qt(e){return!1===e||null==e?e:ct.isArray(e)?e.map(qt):String(e)}function $t(e,t,r,n,a){return ct.isFunction(n)?n.call(this,t,r):(a&&(t=r),ct.isString(t)?ct.isString(n)?-1!==t.indexOf(n):ct.isRegExp(n)?n.test(t):void 0:void 0)}class Ut{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=Bt(t);if(!a)throw new Error("header name must be a non-empty string");const i=ct.findKey(n,a);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=qt(e))}const i=(e,t)=>ct.forEach(e,((e,r)=>a(e,r,t)));if(ct.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(ct.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Rt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(ct.isHeaders(e))for(const[o,s]of e.entries())a(s,o,r);else null!=e&&a(t,e,r);return this}get(e,t){if(e=Bt(e)){const r=ct.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(ct.isFunction(t))return t.call(this,e,r);if(ct.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bt(e)){const r=ct.findKey(this,e);return!(!r||void 0===this[r]||t&&!$t(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=Bt(e)){const a=ct.findKey(r,e);!a||t&&!$t(0,r[a],a,t)||(delete r[a],n=!0)}}return ct.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!$t(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return ct.forEach(this,((n,a)=>{const i=ct.findKey(r,a);if(i)return t[i]=qt(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();o!==a&&delete t[a],t[o]=qt(n),r[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ct.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&ct.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ft]=this[Ft]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Bt(e);t[n]||(!function(e,t){const r=ct.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return ct.isArray(e)?e.forEach(n):n(e),this}}Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ct.reduceDescriptors(Ut.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),ct.freezeMethods(Ut);const zt=Ut;function Ht(e,t){const r=this||Lt,n=t||r,a=zt.from(n.headers);let i=n.data;return ct.forEach(e,(function(e){i=e.call(r,i,a.normalize(),t?t.status:void 0)})),a.normalize(),i}function Wt(e){return!(!e||!e.__CANCEL__)}function Vt(e,t,r){ht.call(this,null==e?"canceled":e,ht.ERR_CANCELED,t,r),this.name="CanceledError"}ct.inherits(Vt,ht,{__CANCEL__:!0});const Kt=Vt;function Yt(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ht("Request failed with status code "+r.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Gt=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,i=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=n[o];a||(a=l),r[i]=s,n[i]=l;let u=o,d=0;for(;u!==i;)d+=r[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-a<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const Xt=function(e,t){let r,n,a=0,i=1e3/t;const o=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?o(l,e):(r=l,n||(n=setTimeout((()=>{n=null,o(r)}),i-t)))},()=>r&&o(r)]},Qt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=Gt(50,250);return Xt((r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,s=i-n,l=a(s);n=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},Jt=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Zt=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ct.asap((()=>e(...r)))},er=Dt.hasStandardBrowserEnv?(tr=new URL(Dt.origin),rr=Dt.navigator&&/(msie|trident)/i.test(Dt.navigator.userAgent),e=>(e=new URL(e,Dt.origin),tr.protocol===e.protocol&&tr.host===e.host&&(rr||tr.port===e.port))):()=>!0;var tr,rr;const nr=Dt.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];ct.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ct.isString(n)&&o.push("path="+n),ct.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ar(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&n||0==r?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ir=e=>e instanceof zt?{...e}:e;function or(e,t){t=t||{};const r={};function n(e,t,r,n){return ct.isPlainObject(e)&&ct.isPlainObject(t)?ct.merge.call({caseless:n},e,t):ct.isPlainObject(t)?ct.merge({},t):ct.isArray(t)?t.slice():t}function a(e,t,r,a){return ct.isUndefined(t)?ct.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function i(e,t){if(!ct.isUndefined(t))return n(void 0,t)}function o(e,t){return ct.isUndefined(t)?ct.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,a,i){return i in t?n(r,a):i in e?n(void 0,r):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,r)=>a(ir(e),ir(t),0,!0)};return ct.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=l[n]||a,o=i(e[n],t[n],n);ct.isUndefined(o)&&i!==s||(r[n]=o)})),r}const sr=e=>{const t=or({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:l}=t;if(t.headers=s=zt.from(s),t.url=kt(ar(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ct.isFormData(n))if(Dt.hasStandardBrowserEnv||Dt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(r=s.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Dt.hasStandardBrowserEnv&&(a&&ct.isFunction(a)&&(a=a(t)),a||!1!==a&&er(t.url))){const e=i&&o&&nr.read(o);e&&s.set(i,e)}return t},lr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=sr(e);let a=n.data;const i=zt.from(n.headers).normalize();let o,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:h}=n;function p(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function y(){if(!m)return;const n=zt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Yt((function(e){t(e),p()}),(function(e){r(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(r(new ht("Request aborted",ht.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new ht("Network Error",ht.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||St;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new ht(t,a.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,m)),m=null},void 0===a&&i.setContentType(null),"setRequestHeader"in m&&ct.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),ct.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),d&&"json"!==d&&(m.responseType=n.responseType),h&&([l,u]=Qt(h,!0),m.addEventListener("progress",l)),f&&m.upload&&([s,c]=Qt(f),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{m&&(r(!t||t.type?new Kt(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===Dt.protocols.indexOf(g)?r(new ht("Unsupported protocol "+g+":",ht.ERR_BAD_REQUEST,e)):m.send(a||null)}))},cr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof ht?t:new Kt(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,a(new ht(`timeout ${t} of ms exceeded`,ht.ETIMEDOUT))}),t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:s}=n;return s.unsubscribe=()=>ct.asap(o),s}},ur=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},dr=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},fr=(e,t,r,n)=>{const a=async function*(e,t){for await(const r of dr(e))yield*ur(r,t)}(e,t);let i,o=0,s=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return s(),void e.close();let i=n.byteLength;if(r){let e=o+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw s(t),t}},cancel:e=>(s(e),a.return())},{highWaterMark:2})},hr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,pr=hr&&"function"===typeof ReadableStream,mr=hr&&("function"===typeof TextEncoder?(yr=new TextEncoder,e=>yr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var yr;const gr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(a){return!1}},vr=pr&&gr((()=>{let e=!1;const t=new Request(Dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),br=pr&&gr((()=>ct.isReadableStream(new Response("").body))),xr={stream:br&&(e=>e.body)};var wr;hr&&(wr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!xr[e]&&(xr[e]=ct.isFunction(wr[e])?t=>t[e]():(t,r)=>{throw new ht(`Response type '${e}' is not supported`,ht.ERR_NOT_SUPPORT,r)})})));const jr=async(e,t)=>{const r=ct.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(ct.isBlob(e))return e.size;if(ct.isSpecCompliantForm(e)){const t=new Request(Dt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ct.isArrayBufferView(e)||ct.isArrayBuffer(e)?e.byteLength:(ct.isURLSearchParams(e)&&(e+=""),ct.isString(e)?(await mr(e)).byteLength:void 0)})(t):r},_r={http:null,xhr:lr,fetch:hr&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=sr(e);c=c?(c+"").toLowerCase():"text";let h,p=cr([a,i&&i.toAbortSignal()],o);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&vr&&"get"!==r&&"head"!==r&&0!==(y=await jr(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(ct.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=Jt(y,Qt(Zt(l)));n=fr(r.body,65536,e,t)}}ct.isString(d)||(d=d?"include":"omit");const a="credentials"in Request.prototype;h=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:a?d:void 0});let i=await fetch(h);const o=br&&("stream"===c||"response"===c);if(br&&(s||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=ct.toFiniteNumber(i.headers.get("content-length")),[r,n]=s&&Jt(t,Qt(Zt(s),!0))||[];i=new Response(fr(i.body,65536,r,(()=>{n&&n(),m&&m()})),e)}c=c||"text";let g=await xr[ct.findKey(xr,c)||"text"](i,e);return!o&&m&&m(),await new Promise(((t,r)=>{Yt(t,r,{data:g,headers:zt.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:h})}))}catch(g){if(m&&m(),g&&"TypeError"===g.name&&/fetch/i.test(g.message))throw Object.assign(new ht("Network Error",ht.ERR_NETWORK,e,h),{cause:g.cause||g});throw ht.from(g,g&&g.code,e,h)}})};ct.forEach(_r,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));const kr=e=>`- ${e}`,Nr=e=>ct.isFunction(e)||null===e||!1===e,Sr=e=>{e=ct.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!Nr(r)&&(n=_r[(t=String(r)).toLowerCase()],void 0===n))throw new ht(`Unknown adapter '${t}'`);if(n)break;a[t||"#"+i]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(kr).join("\n"):" "+kr(e[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Or(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kt(null,e)}function Er(e){Or(e),e.headers=zt.from(e.headers),e.data=Ht.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Sr(e.adapter||Lt.adapter)(e).then((function(t){return Or(e),t.data=Ht.call(e,e.transformResponse,t),t.headers=zt.from(t.headers),t}),(function(t){return Wt(t)||(Or(e),t&&t.response&&(t.response.data=Ht.call(e,e.transformResponse,t.response),t.response.headers=zt.from(t.response.headers))),Promise.reject(t)}))}const Cr="1.8.1",Ar={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ar[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Tr={};Ar.transitional=function(e,t,r){function n(e,t){return"[Axios v1.8.1] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,i)=>{if(!1===e)throw new ht(n(a," has been removed"+(t?" in "+t:"")),ht.ERR_DEPRECATED);return t&&!Tr[a]&&(Tr[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,i)}},Ar.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const Pr={assertOptions:function(e,t,r){if("object"!==typeof e)throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const t=e[i],r=void 0===t||o(t,i,e);if(!0!==r)throw new ht("option "+i+" must be "+r,ht.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ht("Unknown option "+i,ht.ERR_BAD_OPTION)}},validators:Ar},Dr=Pr.validators;class Mr{constructor(e){this.defaults=e,this.interceptors={request:new Nt,response:new Nt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=or(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&Pr.assertOptions(r,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),null!=n&&(ct.isFunction(n)?t.paramsSerializer={serialize:n}:Pr.assertOptions(n,{encode:Dr.function,serialize:Dr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Pr.assertOptions(t,{baseUrl:Dr.spelling("baseURL"),withXsrfToken:Dr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&ct.merge(a.common,a[t.method]);a&&ct.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=zt.concat(i,a);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Er.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let f=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{f=e(f)}catch(h){t.call(this,h);break}}try{c=Er.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return kt(ar((e=or(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ct.forEach(["delete","get","head","options"],(function(e){Mr.prototype[e]=function(t,r){return this.request(or(r||{},{method:e,url:t,data:(r||{}).data}))}})),ct.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(or(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Mr.prototype[e]=t(),Mr.prototype[e+"Form"]=t(!0)}));const Ir=Mr;class Lr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new Kt(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lr((function(t){e=t})),cancel:e}}}const Rr=Lr;const Fr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fr).forEach((e=>{let[t,r]=e;Fr[r]=t}));const Br=Fr;const qr=function e(t){const r=new Ir(t),n=Se(Ir.prototype.request,r);return ct.extend(n,Ir.prototype,r,{allOwnKeys:!0}),ct.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(or(t,r))},n}(Lt);qr.Axios=Ir,qr.CanceledError=Kt,qr.CancelToken=Rr,qr.isCancel=Wt,qr.VERSION=Cr,qr.toFormData=vt,qr.AxiosError=ht,qr.Cancel=qr.CanceledError,qr.all=function(e){return Promise.all(e)},qr.spread=function(e){return function(t){return e.apply(null,t)}},qr.isAxiosError=function(e){return ct.isObject(e)&&!0===e.isAxiosError},qr.mergeConfig=or,qr.AxiosHeaders=zt,qr.formToJSON=e=>Mt(ct.isHTMLForm(e)?new FormData(e):e),qr.getAdapter=Sr,qr.HttpStatusCode=Br,qr.default=qr;const $r=qr,Ur="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?`${window.location.protocol}//${window.location.host}`:window.location.origin;console.log("API Configuration:",{baseUrl:Ur,fullUrl:`${Ur}/api/`,environment:"production",hostname:window.location.hostname});const zr={};zr.CancelToken=$r.CancelToken,zr.isCancel=$r.isCancel;const Hr=$r.create({baseURL:Ur,headers:{"Content-Type":"application/json"},timeout:18e4,withCredentials:!1,maxContentLength:1e7,maxRedirects:5,maxBodyLength:1e7,retryConfig:{retries:2}});Object.setPrototypeOf(zr,Hr),Object.assign(zr,Hr),zr.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Token ${t}`),e}),(e=>Promise.reject(e))),zr.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)}));const Wr=zr;var Vr=r(579);const Kr=(0,o.createContext)(null),Yr=e=>{let{children:t}=e;const[r,n]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{i(!0);const e=localStorage.getItem("token"),t=localStorage.getItem("business_id");if(console.log("Checking auth status. Token exists:",!!e,"Business ID exists:",!!t),e&&t)try{$r.defaults.headers.common.Authorization=`Token ${e}`,Wr.defaults.headers.common.Authorization=`Token ${e}`,console.log("Checking auth status with token:",e);const r="/api/auth/users/me/";console.log("Checking auth status at URL:",r);const a=await Wr.get(r);console.log("Auth check response:",a),n({...a.data,business_id:t}),i(!1)}catch(r){console.error("Auth check failed:",r),localStorage.removeItem("token"),localStorage.removeItem("business_id"),delete $r.defaults.headers.common.Authorization,delete Wr.defaults.headers.common.Authorization,n(null),i(!1)}else console.log("No token or business ID found. User is not logged in."),n(null),i(!1)})()}),[]);const c={currentUser:r,setCurrentUser:n,loading:a,error:s,login:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(null);try{const i={email:e,password:t};r&&(i.business_id=r),console.log("Login data being sent:",JSON.stringify(i,null,2));const o="/api/auth/token/login/";console.log("Sending login request to:",o);const s=await Wr.post(o,i);if(console.log("Login response:",s),!s.data||!s.data.token)throw new Error("Invalid response from server. Token not found.");const{token:l,business_id:c,user_id:u}=s.data;localStorage.setItem("token",l),localStorage.setItem("business_id",c),$r.defaults.headers.common.Authorization=`Token ${l}`,Wr.defaults.headers.common.Authorization=`Token ${l}`;let d={};try{const e="/api/auth/users/me/",t=await Wr.get(e);console.log("User data response:",t),d=t.data}catch(a){console.error("Error fetching user data:",a),d={id:u,email:e}}return n({...d,business_id:c}),!0}catch(i){if(console.error("Login error:",i),i.response){const e=i.response.data;if(console.error("Error response:",e),"object"===typeof e){const t=Object.entries(e).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("\n");l(t)}else l(e||`Server error: ${i.response.status}`)}else i.request?l("Network error. Please check your internet connection."):l(i.message||"Login failed");return!1}},register:async e=>{l(null);try{const t={...e,username:e.email},r="/api/auth/users/";console.log("Sending registration request to:",r),console.log("Registration data:",t);const n=await Wr.post(r,t);return console.log("Registration response:",n),!0}catch(t){if(console.error("Registration error:",t),t.response){const e=t.response.data;if(console.error("Error response:",e),"object"===typeof e){const t=Object.entries(e).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("\n");l(t)}else l(e||`Server error: ${t.response.status}`)}else t.request?l("Network error. Please check your internet connection."):l(t.message||"Registration failed");return!1}},logout:async()=>{try{const e="/api/auth/token/logout/";console.log("Sending logout request to:",e),await Wr.post(e)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),localStorage.removeItem("business_id"),delete $r.defaults.headers.common.Authorization,delete Wr.defaults.headers.common.Authorization,n(null)}},isAuthenticated:()=>!!r};return(0,Vr.jsx)(Kr.Provider,{value:c,children:t})},Gr=()=>{const e=(0,o.useContext)(Kr);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e};var Xr=r(7950),Qr=r.t(Xr,2);function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jr.apply(this,arguments)}function Zr(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const en=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(KR){}new Map;const tn=s.startTransition;Qr.flushSync,s.useId;function rn(e){let{basename:t,children:r,future:n,window:a}=e,i=o.useRef();var s;null==i.current&&(i.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),g((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return p("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,s)));let l=i.current,[c,u]=o.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},f=o.useCallback((e=>{d&&tn?tn((()=>u(e))):u(e)}),[u,d]);return o.useLayoutEffect((()=>l.listen(f)),[l,f]),o.useEffect((()=>be(n)),[n]),o.createElement(_e,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const nn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,an=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=o.forwardRef((function(e,t){let r,{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h}=e,p=Zr(e,en),{basename:y}=o.useContext(X),g=!1;if("string"===typeof u&&an.test(u)&&(r=u,nn))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=I(t.pathname,y);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:g=!0}catch(KR){}let v=function(e,t){let{relative:r}=void 0===t?{}:t;ee()||d(!1);let{basename:n,navigator:a}=o.useContext(X),{hash:i,pathname:s,search:l}=oe(e,{relative:r}),c=s;return"/"!==n&&(c="/"===s?n:q([n,s])),a.createHref({pathname:c,search:l,hash:i})}(u,{relative:a}),b=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=te(),d=oe(e,{relative:s});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:m(u)===m(d);c(e,{replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:l})}}),[u,c,d,n,a,r,e,i,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:h});return o.createElement("a",Jr({},p,{href:r||v,onClick:g||i?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var sn,ln,cn,un;(ln=sn||(sn={})).UseScrollRestoration="useScrollRestoration",ln.UseSubmit="useSubmit",ln.UseSubmitFetcher="useSubmitFetcher",ln.UseFetcher="useFetcher",ln.useViewTransitionState="useViewTransitionState",(un=cn||(cn={})).UseFetcher="useFetcher",un.UseFetchers="useFetchers",un.UseScrollRestoration="useScrollRestoration";const dn=e=>{let{icon:t,title:r,description:n}=e;return(0,Vr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[(0,Vr.jsx)("div",{className:"inline-flex items-center justify-center p-3 bg-indigo-50 text-indigo-600 rounded-xl mb-5",children:t}),(0,Vr.jsx)("h3",{className:"text-xl font-bold mb-3 text-gray-800",children:r}),(0,Vr.jsx)("p",{className:"text-gray-600 leading-relaxed",children:n}),(0,Vr.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-100",children:(0,Vr.jsxs)("a",{href:"#",className:"text-indigo-600 text-sm font-medium hover:text-indigo-800 flex items-center",children:["\u8a73\u7d30\u3092\u898b\u308b",(0,Vr.jsx)("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})},fn=e=>{let{title:t,description:r}=e;return(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,Vr.jsx)("svg",{className:"h-5 w-5 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Vr.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Vr.jsxs)("div",{className:"ml-3",children:[(0,Vr.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:t}),(0,Vr.jsx)("p",{className:"mt-1 text-gray-600",children:r})]})]})},hn=e=>{let{icon:t,title:r,description:n}=e;return(0,Vr.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100",children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Vr.jsx)("div",{className:"text-2xl mr-3",children:t}),(0,Vr.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:r})]}),(0,Vr.jsx)("p",{className:"text-gray-600 text-sm",children:n})]})},pn=()=>{const{isAuthenticated:e,loading:t}=Gr(),r=ne();return(0,o.useEffect)((()=>{!t&&e()&&r("/dashboard")}),[e,t,r]),t?(0,Vr.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):(0,Vr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white font-sans",children:[(0,Vr.jsx)("header",{className:"relative z-10",children:(0,Vr.jsx)("nav",{className:"container mx-auto px-6 py-4",children:(0,Vr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vr.jsx)("div",{className:"flex items-center",children:(0,Vr.jsx)("div",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-blue-500",children:"Sphere"})}),(0,Vr.jsx)("div",{className:"space-x-4",children:e()?(0,Vr.jsx)(on,{to:"/dashboard",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition-all",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(on,{to:"/login",className:"px-6 py-2 text-indigo-700 border border-indigo-300 rounded-lg hover:bg-indigo-50 transition-all",children:"\u30ed\u30b0\u30a4\u30f3"}),(0,Vr.jsx)(on,{to:"/register",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition-all",children:"\u7121\u6599\u3067\u59cb\u3081\u308b"})]})})]})})}),(0,Vr.jsxs)("main",{children:[(0,Vr.jsxs)("section",{className:"relative overflow-hidden pt-16 pb-24",children:[(0,Vr.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 to-blue-50 opacity-80"}),(0,Vr.jsx)("div",{className:"container mx-auto px-6 relative z-10",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,Vr.jsxs)("div",{className:"max-w-xl",children:[(0,Vr.jsx)("span",{className:"inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium mb-6",children:"\u4f1a\u8a08\u4e8b\u52d9\u6240\u5c02\u7528\u30c4\u30fc\u30eb"}),(0,Vr.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["\u4f1a\u8a08\u4e8b\u52d9\u6240\u306e\u696d\u52d9\u52b9\u7387\u3092",(0,Vr.jsx)("br",{}),"\u98db\u8e8d\u7684\u306b\u5411\u4e0a\u3055\u305b\u308b",(0,Vr.jsx)("br",{}),"\u4e00\u5143\u7ba1\u7406\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0"]}),(0,Vr.jsx)("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"\u9867\u554f\u5148\u3054\u3068\u306e\u7533\u544a\u671f\u9650\u7ba1\u7406\u3001\u30b9\u30bf\u30c3\u30d5\u306e\u30bf\u30b9\u30af\u914d\u5206\u3001\u696d\u52d9\u306e\u9032\u6357\u72b6\u6cc1\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u628a\u63e1\u3002\u4f1a\u8a08\u4e8b\u52d9\u6240\u7279\u6709\u306e\u8907\u96d1\u306a\u696d\u52d9\u30d5\u30ed\u30fc\u3092\u5b8c\u5168\u306b\u81ea\u52d5\u5316\u3057\u3001\u30df\u30b9\u3084\u6f0f\u308c\u3092\u9632\u304e\u307e\u3059\u3002"}),(0,Vr.jsx)("div",{className:"flex flex-wrap gap-4",children:e()?(0,Vr.jsx)(on,{to:"/dashboard",className:"px-8 py-3 bg-indigo-600 text-white rounded-lg shadow-lg hover:bg-indigo-700 transition-all text-lg font-medium",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3078"}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(on,{to:"/register",className:"px-8 py-3 bg-indigo-600 text-white rounded-lg shadow-lg hover:bg-indigo-700 transition-all text-lg font-medium flex items-center",children:["\u7121\u6599\u3067\u30c7\u30e2\u3092\u4f53\u9a13",(0,Vr.jsx)("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),(0,Vr.jsx)(on,{to:"/login",className:"px-8 py-3 bg-white text-indigo-700 border border-indigo-200 rounded-lg hover:bg-indigo-50 transition-all text-lg font-medium",children:"\u30ed\u30b0\u30a4\u30f3"})]})}),(0,Vr.jsxs)("div",{className:"mt-8 flex items-center text-gray-500 text-sm",children:[(0,Vr.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Vr.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Vr.jsx)("span",{children:"\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u4e0d\u8981\u30fb\u521d\u671f\u8cbb\u7528\u30bc\u30ed\u5186"})]})]}),(0,Vr.jsxs)("div",{className:"relative hidden md:block",children:[(0,Vr.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-3xl opacity-10 transform rotate-6"}),(0,Vr.jsxs)("div",{className:"relative bg-white shadow-xl rounded-2xl p-6 border border-gray-100",children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Vr.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-2"}),(0,Vr.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),(0,Vr.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),(0,Vr.jsx)("div",{className:"ml-4 text-sm text-gray-600 font-medium",children:"\u9867\u554f\u5148\u5225\u696d\u52d9\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"})]}),(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[(0,Vr.jsxs)("div",{className:"flex justify-between",children:[(0,Vr.jsx)("h3",{className:"font-bold text-blue-800",children:"\u6cd5\u4eba\u7a0e\u78ba\u5b9a\u7533\u544a"}),(0,Vr.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"\u9032\u884c\u4e2d"})]}),(0,Vr.jsx)("p",{className:"text-blue-700 mt-2 text-sm",children:"\u682a\u5f0f\u4f1a\u793e\u5c71\u7530\u5546\u4e8b - 3\u6708\u6c7a\u7b97 - \u671f\u9650: 5\u670831\u65e5"})]}),(0,Vr.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-500",children:[(0,Vr.jsxs)("div",{className:"flex justify-between",children:[(0,Vr.jsx)("h3",{className:"font-bold text-green-800",children:"\u6d88\u8cbb\u7a0e\u7533\u544a"}),(0,Vr.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"\u5b8c\u4e86"})]}),(0,Vr.jsx)("p",{className:"text-green-700 mt-2 text-sm",children:"\u5408\u540c\u4f1a\u793e\u6589\u85e4 - \u7b2c2\u671f - \u5b8c\u4e86\u65e5: 3\u670815\u65e5"})]}),(0,Vr.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border-l-4 border-purple-500",children:[(0,Vr.jsxs)("div",{className:"flex justify-between",children:[(0,Vr.jsx)("h3",{className:"font-bold text-purple-800",children:"\u6708\u6b21\u51e6\u7406"}),(0,Vr.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"\u671f\u9650\u9593\u8fd1"})]}),(0,Vr.jsx)("p",{className:"text-purple-700 mt-2 text-sm",children:"\u7530\u4e2d\u5546\u5e97 - 2\u6708\u5ea6 - \u671f\u9650: 3\u670825\u65e5"})]}),(0,Vr.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 border-l-4 border-indigo-500",children:[(0,Vr.jsxs)("div",{className:"flex justify-between",children:[(0,Vr.jsx)("h3",{className:"font-bold text-indigo-800",children:"\u6c7a\u7b97\u6e96\u5099"}),(0,Vr.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded-full",children:"\u672a\u7740\u624b"})]}),(0,Vr.jsx)("p",{className:"text-indigo-700 mt-2 text-sm",children:"\u682a\u5f0f\u4f1a\u793e\u9234\u6728\u88fd\u4f5c\u6240 - 5\u6708\u6c7a\u7b97 - \u958b\u59cb\u4e88\u5b9a: 4\u67081\u65e5"})]})]})]})]})]})}),(0,Vr.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-white to-transparent"})]}),(0,Vr.jsx)("section",{className:"py-20",children:(0,Vr.jsxs)("div",{className:"container mx-auto px-6",children:[(0,Vr.jsxs)("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[(0,Vr.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"\u4f1a\u8a08\u4e8b\u52d9\u6240\u7279\u6709\u306e\u8ab2\u984c\u3092\u5168\u3066\u89e3\u6c7a"}),(0,Vr.jsx)("p",{className:"text-gray-600",children:"\u7a0e\u7406\u58eb\u4e8b\u52d9\u6240\u30fb\u4f1a\u8a08\u4e8b\u52d9\u6240\u7279\u6709\u306e\u696d\u52d9\u30d5\u30ed\u30fc\u3092\u5fb9\u5e95\u5206\u6790\u3057\u3001\u5c02\u7528\u8a2d\u8a08\u3055\u308c\u305f\u552f\u4e00\u306e\u696d\u52d9\u7ba1\u7406\u30c4\u30fc\u30eb"})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Vr.jsx)(dn,{icon:(0,Vr.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),title:"\u671f\u9650\u7ba1\u7406\u306e\u81ea\u52d5\u5316",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3054\u3068\u306e\u6c7a\u7b97\u671f\u30fb\u7d0d\u671f\u3092\u81ea\u52d5\u8a08\u7b97\u3002\u8907\u6570\u5e74\u5ea6\u306e\u7a0e\u52d9\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u4e00\u62ec\u7ba1\u7406\u3057\u3001\u91cd\u8981\u306a\u63d0\u51fa\u671f\u9650\u306e\u898b\u843d\u3068\u3057\u3092\u9632\u6b62\u3057\u307e\u3059\u3002"}),(0,Vr.jsx)(dn,{icon:(0,Vr.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),title:"\u6700\u9069\u306a\u30bf\u30b9\u30af\u914d\u5206",description:"\u30b9\u30bf\u30c3\u30d5\u306e\u30b9\u30ad\u30eb\u3068\u7a3c\u50cd\u72b6\u6cc1\u306b\u57fa\u3065\u304d\u3001\u6700\u9069\u306a\u696d\u52d9\u5206\u62c5\u3092\u81ea\u52d5\u63d0\u6848\u3002\u30c1\u30fc\u30e0\u5168\u4f53\u306e\u751f\u7523\u6027\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002"}),(0,Vr.jsx)(dn,{icon:(0,Vr.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),title:"\u7a0e\u52d9\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u642d\u8f09",description:"\u6cd5\u4eba\u7a0e\u30fb\u6240\u5f97\u7a0e\u30fb\u6d88\u8cbb\u7a0e\u306a\u3069\u3001\u7a0e\u76ee\u5225\u306e\u6a19\u6e96\u4f5c\u696d\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u642d\u8f09\u3002\u696d\u7a2e\u3084\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5408\u308f\u305b\u305f\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3082\u53ef\u80fd\u3067\u3059\u3002"})]})]})}),(0,Vr.jsx)("section",{className:"py-16 bg-gradient-to-br from-indigo-50 to-white relative overflow-hidden",children:(0,Vr.jsx)("div",{className:"container mx-auto px-6 relative z-10",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("span",{className:"inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium mb-6",children:"\u5c02\u9580\u5bb6\u306e\u305f\u3081\u306e\u8a2d\u8a08"}),(0,Vr.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"\u5c0e\u5165\u4e8b\u52d9\u6240\u306e\u5e73\u5747\u3067\u696d\u52d9\u52b9\u738740%\u5411\u4e0a\u3001\u6b8b\u696d\u6642\u959350%\u524a\u6e1b"}),(0,Vr.jsxs)("div",{className:"space-y-6",children:[(0,Vr.jsx)(fn,{title:"\u7533\u544a\u696d\u52d9\u306e\u52b9\u7387\u5316",description:"\u6a19\u6e96\u5316\u3055\u308c\u305f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3068\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\u306b\u3088\u308a\u3001\u30df\u30b9\u3084\u624b\u623b\u308a\u3092\u5927\u5e45\u306b\u524a\u6e1b\u3002"}),(0,Vr.jsx)(fn,{title:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u9032\u6357\u7ba1\u7406",description:"\u5168\u3066\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u696d\u52d9\u306e\u9032\u6357\u72b6\u6cc1\u3092\u4e00\u753b\u9762\u3067\u628a\u63e1\u3002\u554f\u984c\u306e\u65e9\u671f\u767a\u898b\u3068\u5bfe\u5fdc\u304c\u53ef\u80fd\u306b\u3002"}),(0,Vr.jsx)(fn,{title:"\u30ea\u30bd\u30fc\u30b9\u6700\u9069\u5316",description:"\u5404\u30b9\u30bf\u30c3\u30d5\u306e\u7a3c\u50cd\u72b6\u6cc1\u3068\u30b9\u30ad\u30eb\u3092\u53ef\u8996\u5316\u3057\u3001\u6700\u9069\u306a\u4eba\u54e1\u914d\u7f6e\u3092\u5b9f\u73fe\u3002"}),(0,Vr.jsx)(fn,{title:"\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u5186\u6ed1\u5316",description:"\u30bf\u30b9\u30af\u3054\u3068\u306e\u30b9\u30ec\u30c3\u30c9\u5316\u3055\u308c\u305f\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3001\u60c5\u5831\u306e\u5206\u6563\u3092\u9632\u6b62\u3002"})]})]}),(0,Vr.jsx)("div",{className:"relative",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6 border border-gray-100",children:[(0,Vr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Vr.jsx)("h3",{className:"font-bold text-gray-800",children:"\u751f\u7523\u6027\u5206\u6790\u30ec\u30dd\u30fc\u30c8"}),(0,Vr.jsx)("span",{className:"text-sm text-gray-500",children:"\u5148\u6708\u6bd4 +28%"})]}),(0,Vr.jsxs)("div",{className:"space-y-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Vr.jsx)("span",{className:"text-gray-600 text-sm",children:"\u6cd5\u4eba\u7a0e\u7533\u544a\u696d\u52d9"}),(0,Vr.jsx)("span",{className:"text-gray-900 font-medium text-sm",children:"87%"})]}),(0,Vr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Vr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:"87%"}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Vr.jsx)("span",{className:"text-gray-600 text-sm",children:"\u6d88\u8cbb\u7a0e\u7533\u544a\u696d\u52d9"}),(0,Vr.jsx)("span",{className:"text-gray-900 font-medium text-sm",children:"92%"})]}),(0,Vr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Vr.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"92%"}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Vr.jsx)("span",{className:"text-gray-600 text-sm",children:"\u6240\u5f97\u7a0e\u7533\u544a\u696d\u52d9"}),(0,Vr.jsx)("span",{className:"text-gray-900 font-medium text-sm",children:"76%"})]}),(0,Vr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Vr.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"76%"}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Vr.jsx)("span",{className:"text-gray-600 text-sm",children:"\u6708\u6b21\u51e6\u7406\u696d\u52d9"}),(0,Vr.jsx)("span",{className:"text-gray-900 font-medium text-sm",children:"94%"})]}),(0,Vr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Vr.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"94%"}})})]})]}),(0,Vr.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:(0,Vr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("div",{className:"text-gray-500 text-sm",children:"\u5408\u8a08\u7a3c\u50cd\u6642\u9593"}),(0,Vr.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"168.5h"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("div",{className:"text-gray-500 text-sm",children:"\u5b8c\u4e86\u30bf\u30b9\u30af\u6570"}),(0,Vr.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"124"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("div",{className:"text-gray-500 text-sm",children:"\u9867\u5ba2\u6e80\u8db3\u5ea6"}),(0,Vr.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"4.9/5"})]})]})})]})})]})})}),(0,Vr.jsx)("section",{className:"py-16",children:(0,Vr.jsxs)("div",{className:"container mx-auto px-6",children:[(0,Vr.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-center text-gray-800 mb-12",children:["\u4f1a\u8a08\u4e8b\u52d9\u6240\u306e\u696d\u52d9\u306b\u7279\u5316\u3057\u305f",(0,Vr.jsx)("br",{}),"\u5fc5\u8981\u6a5f\u80fd\u3092\u5168\u3066\u642d\u8f09"]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Vr.jsx)(hn,{icon:"\ud83d\udcc5",title:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u7ba1\u7406",description:"\u8907\u6570\u306e\u9867\u554f\u5148\u306e\u6c7a\u7b97\u671f\u3084\u7533\u544a\u671f\u9650\u3092\u4e00\u5143\u7ba1\u7406\u3002\u81ea\u52d5\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3067\u671f\u9650\u5207\u308c\u3092\u9632\u6b62\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udccb",title:"\u7a0e\u52d9\u7533\u544a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8",description:"\u6cd5\u4eba\u7a0e\u30fb\u6240\u5f97\u7a0e\u30fb\u6d88\u8cbb\u7a0e\u306a\u3069\u3001\u5404\u7a2e\u7533\u544a\u306b\u5fc5\u8981\u306a\u4f5c\u696d\u30b9\u30c6\u30c3\u30d7\u3092\u7db2\u7f85\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udc65",title:"\u9867\u554f\u5148\u60c5\u5831\u7ba1\u7406",description:"\u9867\u554f\u5148\u306e\u57fa\u672c\u60c5\u5831\u3001\u7a0e\u52d9\u60c5\u5831\u3001\u5951\u7d04\u60c5\u5831\u3092\u4e00\u5143\u7ba1\u7406\u3002\u91cd\u8981\u66f8\u985e\u3082\u6dfb\u4ed8\u53ef\u80fd\u3002"}),(0,Vr.jsx)(hn,{icon:"\u23f1\ufe0f",title:"\u6642\u9593\u8a18\u9332\u30fb\u5de5\u6570\u5206\u6790",description:"\u30bf\u30b9\u30af\u5225\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5225\u306e\u4f5c\u696d\u6642\u9593\u8a18\u9332\u3068\u5206\u6790\u3002\u6599\u91d1\u30d7\u30e9\u30f3\u6700\u9069\u5316\u306b\u3082\u6d3b\u7528\u53ef\u80fd\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udcca",title:"\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u53ef\u8996\u5316",description:"\u30b9\u30bf\u30c3\u30d5\u3054\u3068\u306e\u696d\u52d9\u8ca0\u8377\u3068\u9032\u6357\u72b6\u6cc1\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3002\u6700\u9069\u306a\u4eba\u54e1\u914d\u7f6e\u3092\u652f\u63f4\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udd04",title:"\u627f\u8a8d\u30ef\u30fc\u30af\u30d5\u30ed\u30fc",description:"\u4f5c\u696d\u62c5\u5f53\u8005\u3068\u30ec\u30d3\u30e5\u30fc\u62c5\u5f53\u8005\u306e\u5f79\u5272\u3092\u660e\u78ba\u5316\u3002\u627f\u8a8d\u30d5\u30ed\u30fc\u3067\u30df\u30b9\u3092\u9632\u6b62\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udcdd",title:"\u696d\u52d9\u30de\u30cb\u30e5\u30a2\u30eb",description:"\u30ca\u30ec\u30c3\u30b8\u30d9\u30fc\u30b9\u6a5f\u80fd\u3067\u696d\u52d9\u624b\u9806\u3092\u5171\u6709\u3002\u65b0\u4eba\u6559\u80b2\u3084\u54c1\u8cea\u306e\u6a19\u6e96\u5316\u306b\u8ca2\u732e\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udd14",title:"\u901a\u77e5\u30fb\u30a2\u30e9\u30fc\u30c8",description:"\u91cd\u8981\u306a\u671f\u9650\u3084\u627f\u8a8d\u4f9d\u983c\u3092\u30e1\u30fc\u30eb\u30fb\u30a2\u30d7\u30ea\u5185\u901a\u77e5\u3067\u304a\u77e5\u3089\u305b\u3002\u898b\u843d\u3068\u3057\u3092\u9632\u6b62\u3002"}),(0,Vr.jsx)(hn,{icon:"\ud83d\udcac",title:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u306e\u3084\u308a\u53d6\u308a\u3092\u30bf\u30b9\u30af\u306b\u7d10\u3065\u3051\u3066\u8a18\u9332\u3002\u60c5\u5831\u306e\u4e00\u5143\u7ba1\u7406\u3092\u5b9f\u73fe\u3002"})]})]})}),(0,Vr.jsx)("section",{className:"py-20 bg-indigo-600 text-white",children:(0,Vr.jsxs)("div",{className:"container mx-auto px-6 text-center",children:[(0,Vr.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"\u4f1a\u8a08\u4e8b\u52d9\u6240\u306e\u696d\u52d9\u52b9\u7387\u5316\u3092\u4eca\u3059\u3050\u4f53\u9a13"}),(0,Vr.jsx)("p",{className:"text-indigo-100 max-w-2xl mx-auto mb-8 text-lg",children:"\u521d\u671f\u8cbb\u7528\u30bc\u30ed\u5186\u300130\u65e5\u9593\u306e\u7121\u6599\u30c8\u30e9\u30a4\u30a2\u30eb\u3002\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u306e\u767b\u9332\u3082\u4e0d\u8981\u3067\u3059\u3002"}),(0,Vr.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,Vr.jsx)(on,{to:"/register",className:"px-8 py-3 bg-white text-indigo-700 rounded-lg shadow-lg hover:bg-indigo-50 transition-all text-lg font-medium",children:"\u7121\u6599\u30c7\u30e2\u3092\u7533\u3057\u8fbc\u3080"}),(0,Vr.jsx)(on,{to:"/login",className:"px-8 py-3 bg-indigo-700 text-white border border-indigo-500 rounded-lg hover:bg-indigo-800 transition-all text-lg font-medium",children:"\u65e2\u5b58\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3"})]})]})})]}),(0,Vr.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,Vr.jsxs)("div",{className:"container mx-auto px-6",children:[(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("div",{className:"text-2xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-blue-400",children:"Sphere"}),(0,Vr.jsx)("p",{className:"text-gray-400 mb-6",children:"\u4f1a\u8a08\u4e8b\u52d9\u6240\u5c02\u7528\u306e\u696d\u52d9\u52b9\u7387\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3002\u30bf\u30b9\u30af\u7ba1\u7406\u304b\u3089\u9867\u554f\u5148\u7ba1\u7406\u3001\u6642\u9593\u8a18\u9332\u307e\u3067\u4e00\u5143\u5316\u3002"}),(0,Vr.jsxs)("div",{className:"flex space-x-4",children:[(0,Vr.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,Vr.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Vr.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),(0,Vr.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,Vr.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Vr.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),(0,Vr.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:(0,Vr.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Vr.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u88fd\u54c1\u60c5\u5831"}),(0,Vr.jsxs)("ul",{className:"space-y-3 text-gray-400",children:[(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u6a5f\u80fd\u4e00\u89a7"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u6599\u91d1\u30d7\u30e9\u30f3"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u5c0e\u5165\u4e8b\u4f8b"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u30b5\u30dd\u30fc\u30c8\u4f53\u5236"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u60c5\u5831"})})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u4f1a\u793e\u60c5\u5831"}),(0,Vr.jsxs)("ul",{className:"space-y-3 text-gray-400",children:[(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u4f01\u696d\u6982\u8981"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u30df\u30c3\u30b7\u30e7\u30f3"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u30d6\u30ed\u30b0"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u63a1\u7528\u60c5\u5831"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u304a\u554f\u3044\u5408\u308f\u305b"})})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u6cd5\u7684\u60c5\u5831"}),(0,Vr.jsxs)("ul",{className:"space-y-3 text-gray-400",children:[(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u5229\u7528\u898f\u7d04"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("a",{href:"#",className:"hover:text-indigo-300 transition-colors",children:"\u7279\u5b9a\u5546\u53d6\u5f15\u6cd5\u306b\u57fa\u3065\u304f\u8868\u8a18"})})]})]})]}),(0,Vr.jsxs)("div",{className:"border-t border-gray-800 mt-12 pt-8 text-gray-400 text-sm",children:["\xa9 ",(new Date).getFullYear()," Sphere. All rights reserved."]})]})})]})};var mn=e=>"checkbox"===e.type,yn=e=>e instanceof Date,gn=e=>null==e;const vn=e=>"object"===typeof e;var bn=e=>!gn(e)&&!Array.isArray(e)&&vn(e)&&!yn(e),xn=e=>bn(e)&&e.target?mn(e.target)?e.target.checked:e.target.value:e,wn=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),jn="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function _n(e){let t;const r=Array.isArray(e),n="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(jn&&(e instanceof Blob||n)||!r&&!bn(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return bn(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=_n(e[r]));else t=e}return t}var kn=e=>Array.isArray(e)?e.filter(Boolean):[],Nn=e=>void 0===e,Sn=(e,t,r)=>{if(!t||!bn(e))return r;const n=kn(t.split(/[,[\].]+?/)).reduce(((e,t)=>gn(e)?e:e[t]),e);return Nn(n)||n===e?Nn(e[t])?r:e[t]:n},On=e=>"boolean"===typeof e,En=e=>/^\w*$/.test(e),Cn=e=>kn(e.replace(/["|']|\]/g,"").split(/\.|\[/)),An=(e,t,r)=>{let n=-1;const a=En(t)?[t]:Cn(t),i=a.length,o=i-1;for(;++n<i;){const t=a[n];let i=r;if(n!==o){const r=e[t];i=bn(r)||Array.isArray(r)?r:isNaN(+a[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}return e};const Tn="blur",Pn="focusout",Dn="change",Mn="onBlur",In="onChange",Ln="onSubmit",Rn="onTouched",Fn="all",Bn="max",qn="min",$n="maxLength",Un="minLength",zn="pattern",Hn="required",Wn="validate",Vn=o.createContext(null),Kn=()=>o.useContext(Vn);var Yn=function(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Fn&&(t._proxyFormState[a]=!n||Fn),r&&(r[a]=!0),e[a]}});return a},Gn=e=>bn(e)&&!Object.keys(e).length,Xn=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Gn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!n||Fn)))},Qn=e=>Array.isArray(e)?e:[e],Jn=(e,t,r)=>!e||!t||e===t||Qn(e).some((e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e))));function Zn(e){const t=o.useRef(e);t.current=e,o.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}var ea=e=>"string"===typeof e,ta=(e,t,r,n,a)=>ea(e)?(n&&t.watch.add(e),Sn(r,e,a)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),Sn(r,e)))):(n&&(t.watchAll=!0),r);function ra(e){const t=Kn(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,s=wn(a._names.array,r),l=function(e){const t=Kn(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:s}=e||{},l=o.useRef(n);l.current=n,Zn({disabled:i,subject:r._subjects.values,next:e=>{Jn(l.current,e.name,s)&&u(_n(ta(l.current,r._names,e.values||r._formValues,!1,a)))}});const[c,u]=o.useState(r._getWatch(n,a));return o.useEffect((()=>r._removeUnmounted())),c}({control:a,name:r,defaultValue:Sn(a._formValues,r,Sn(a._defaultValues,r,e.defaultValue)),exact:!0}),c=function(e){const t=Kn(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[s,l]=o.useState(r._formState),c=o.useRef(!0),u=o.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=o.useRef(a);return d.current=a,Zn({disabled:n,next:e=>c.current&&Jn(d.current,e.name,i)&&Xn(e,u.current,r._updateFormState)&&l({...r._formState,...e}),subject:r._subjects.state}),o.useEffect((()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1})),[r]),o.useMemo((()=>Yn(s,r,u.current,!1)),[s,r])}({control:a,name:r,exact:!0}),u=o.useRef(a.register(r,{...e.rules,value:l,...On(e.disabled)?{disabled:e.disabled}:{}})),d=o.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Sn(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Sn(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Sn(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Sn(c.validatingFields,r)},error:{enumerable:!0,get:()=>Sn(c.errors,r)}})),[c,r]),f=o.useMemo((()=>({name:r,value:l,...On(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:e=>u.current.onChange({target:{value:xn(e),name:r},type:Dn}),onBlur:()=>u.current.onBlur({target:{value:Sn(a._formValues,r),name:r},type:Tn}),ref:e=>{const t=Sn(a._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[r,a._formValues,n,c.disabled,l,a._fields]);return o.useEffect((()=>{const e=a._options.shouldUnregister||i,t=(e,t)=>{const r=Sn(a._fields,e);r&&r._f&&(r._f.mount=t)};if(t(r,!0),e){const e=_n(Sn(a._options.defaultValues,r));An(a._defaultValues,r,e),Nn(Sn(a._formValues,r))&&An(a._formValues,r,e)}return!s&&a.register(r),()=>{(s?e&&!a._state.action:e)?a.unregister(r):t(r,!1)}}),[r,a,s,i]),o.useEffect((()=>{a._updateDisabledField({disabled:n,fields:a._fields,name:r})}),[n,r,a]),o.useMemo((()=>({field:f,formState:c,fieldState:d})),[f,c,d])}const na=e=>e.render(ra(e));var aa=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},ia=e=>({isOnSubmit:!e||e===Ln,isOnBlur:e===Mn,isOnChange:e===In,isOnAll:e===Fn,isOnTouch:e===Rn}),oa=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const sa=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const r=Sn(e,a);if(r){const{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(sa(i,t))break}else if(bn(i)&&sa(i,t))break}}};var la=(e,t,r)=>{const n=Qn(Sn(e,r));return An(n,"root",t[r]),An(e,r,n),e},ca=e=>"file"===e.type,ua=e=>"function"===typeof e,da=e=>{if(!jn)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fa=e=>ea(e),ha=e=>"radio"===e.type,pa=e=>e instanceof RegExp;const ma={value:!1,isValid:!1},ya={value:!0,isValid:!0};var ga=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nn(e[0].attributes.value)?Nn(e[0].value)||""===e[0].value?ya:{value:e[0].value,isValid:!0}:ya:ma}return ma};const va={isValid:!1,value:null};var ba=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),va):va;function xa(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(fa(e)||Array.isArray(e)&&e.every(fa)||On(e)&&!e)return{type:r,message:fa(e)?e:"",ref:t}}var wa=e=>bn(e)&&!pa(e)?e:{value:e,message:""},ja=async(e,t,r,n,a,i)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:p,name:m,valueAsNumber:y,mount:g}=e._f,v=Sn(r,m);if(!g||t.has(m))return{};const b=s?s[0]:o,x=e=>{a&&b.reportValidity&&(b.setCustomValidity(On(e)?"":e||""),b.reportValidity())},w={},j=ha(o),_=mn(o),k=j||_,N=(y||ca(o))&&Nn(o.value)&&Nn(v)||da(o)&&""===o.value||""===v||Array.isArray(v)&&!v.length,S=aa.bind(null,m,n,w),O=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$n,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Un;const i=e?t:r;w[m]={type:e?n:a,message:i,ref:o,...S(e?n:a,i)}};if(i?!Array.isArray(v)||!v.length:l&&(!k&&(N||gn(v))||On(v)&&!v||_&&!ga(s).isValid||j&&!ba(s).isValid)){const{value:e,message:t}=fa(l)?{value:!!l,message:l}:wa(l);if(e&&(w[m]={type:Hn,message:t,ref:b,...S(Hn,t)},!n))return x(t),w}if(!N&&(!gn(d)||!gn(f))){let e,t;const r=wa(f),a=wa(d);if(gn(v)||isNaN(v)){const n=o.valueAsDate||new Date(v),i=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;ea(r.value)&&v&&(e=s?i(v)>i(r.value):l?v>r.value:n>new Date(r.value)),ea(a.value)&&v&&(t=s?i(v)<i(a.value):l?v<a.value:n<new Date(a.value))}else{const n=o.valueAsNumber||(v?+v:v);gn(r.value)||(e=n>r.value),gn(a.value)||(t=n<a.value)}if((e||t)&&(O(!!e,r.message,a.message,Bn,qn),!n))return x(w[m].message),w}if((c||u)&&!N&&(ea(v)||i&&Array.isArray(v))){const e=wa(c),t=wa(u),r=!gn(e.value)&&v.length>+e.value,a=!gn(t.value)&&v.length<+t.value;if((r||a)&&(O(r,e.message,t.message),!n))return x(w[m].message),w}if(h&&!N&&ea(v)){const{value:e,message:t}=wa(h);if(pa(e)&&!v.match(e)&&(w[m]={type:zn,message:t,ref:o,...S(zn,t)},!n))return x(t),w}if(p)if(ua(p)){const e=xa(await p(v,r),b);if(e&&(w[m]={...e,...S(Wn,e.message)},!n))return x(e.message),w}else if(bn(p)){let e={};for(const t in p){if(!Gn(e)&&!n)break;const a=xa(await p[t](v,r),b,t);a&&(e={...a,...S(t,a.message)},x(a.message),n&&(w[m]=e))}if(!Gn(e)&&(w[m]={ref:b,...e},!n))return w}return x(!0),w};function _a(e,t){const r=Array.isArray(t)?t:En(t)?[t]:Cn(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Nn(e)?n++:e[t[n++]];return e}(e,r),a=r.length-1,i=r[a];return n&&delete n[i],0!==a&&(bn(n)&&Gn(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nn(e[t]))return!1;return!0}(n))&&_a(e,r.slice(0,-1)),e}var ka=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Na=e=>gn(e)||!vn(e);function Sa(e,t){if(Na(e)||Na(t))return e===t;if(yn(e)&&yn(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(yn(r)&&yn(e)||bn(r)&&bn(e)||Array.isArray(r)&&Array.isArray(e)?!Sa(r,e):r!==e)return!1}}return!0}var Oa=e=>"select-multiple"===e.type,Ea=e=>da(e)&&e.isConnected,Ca=e=>{for(const t in e)if(ua(e[t]))return!0;return!1};function Aa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(bn(e)||r)for(const n in e)Array.isArray(e[n])||bn(e[n])&&!Ca(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Aa(e[n],t[n])):gn(e[n])||(t[n]=!0);return t}function Ta(e,t,r){const n=Array.isArray(e);if(bn(e)||n)for(const a in e)Array.isArray(e[a])||bn(e[a])&&!Ca(e[a])?Nn(t)||Na(r[a])?r[a]=Array.isArray(e[a])?Aa(e[a],[]):{...Aa(e[a])}:Ta(e[a],gn(t)?{}:t[a],r[a]):r[a]=!Sa(e[a],t[a]);return r}var Pa=(e,t)=>Ta(e,t,Aa(t)),Da=(e,t)=>{let{valueAsNumber:r,valueAsDate:n,setValueAs:a}=t;return Nn(e)?e:r?""===e?NaN:e?+e:e:n&&ea(e)?new Date(e):a?a(e):e};function Ma(e){const t=e.ref;return ca(t)?t.files:ha(t)?ba(e.refs).value:Oa(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):mn(t)?ga(e.refs).value:Da(Nn(t.value)?e.ref.value:t.value,e)}var Ia=e=>Nn(e)?e:pa(e)?e.source:bn(e)?pa(e.value)?e.value.source:e.value:e;const La="AsyncFunction";function Ra(e,t,r){const n=Sn(e,r);if(n||En(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),i=Sn(t,n),o=Sn(e,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(o&&o.type)return{name:n,error:o};a.pop()}return{name:r}}const Fa={mode:Ln,reValidateMode:In,shouldFocusError:!0};function Ba(){let e,t={...Fa,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},r={submitCount:0,isDirty:!1,isLoading:ua(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=(bn(t.defaultValues)||bn(t.values))&&_n(t.defaultValues||t.values)||{},i=t.shouldUnregister?{}:_n(a),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:ka(),array:ka(),state:ka()},d=ia(t.mode),f=ia(t.reValidateMode),h=t.criteriaMode===Fn,p=async e=>{if(!t.disabled&&(c.isValid||e)){const e=t.resolver?Gn((await b()).errors):await x(n,!0);e!==r.isValid&&u.state.next({isValid:e})}},m=(e,n)=>{t.disabled||!c.isValidating&&!c.validatingFields||((e||Array.from(s.mount)).forEach((e=>{e&&(n?An(r.validatingFields,e,n):_a(r.validatingFields,e))})),u.state.next({validatingFields:r.validatingFields,isValidating:!Gn(r.validatingFields)}))},y=(e,t,r,s)=>{const l=Sn(n,e);if(l){const n=Sn(i,e,Nn(r)?Sn(a,e):r);Nn(n)||s&&s.defaultChecked||t?An(i,e,t?n:Ma(l._f)):_(e,n),o.mount&&p()}},g=(e,i,o,s,l)=>{let d=!1,f=!1;const h={name:e};if(!t.disabled){const t=!!(Sn(n,e)&&Sn(n,e)._f&&Sn(n,e)._f.disabled);if(!o||s){c.isDirty&&(f=r.isDirty,r.isDirty=h.isDirty=w(),d=f!==h.isDirty);const n=t||Sa(Sn(a,e),i);f=!(t||!Sn(r.dirtyFields,e)),n||t?_a(r.dirtyFields,e):An(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,d=d||c.dirtyFields&&f!==!n}if(o){const t=Sn(r.touchedFields,e);t||(An(r.touchedFields,e,o),h.touchedFields=r.touchedFields,d=d||c.touchedFields&&t!==o)}d&&l&&u.state.next(h)}return d?h:{}},v=(n,a,i,o)=>{const s=Sn(r.errors,n),d=c.isValid&&On(a)&&r.isValid!==a;var f;if(t.delayError&&i?(f=()=>((e,t)=>{An(r.errors,e,t),u.state.next({errors:r.errors})})(n,i),e=e=>{clearTimeout(l),l=setTimeout(f,e)},e(t.delayError)):(clearTimeout(l),e=null,i?An(r.errors,n,i):_a(r.errors,n)),(i?!Sa(s,i):s)||!Gn(o)||d){const e={...o,...d&&On(a)?{isValid:a}:{},errors:r.errors,name:n};r={...r,...e},u.state.next(e)}},b=async e=>{m(e,!0);const r=await t.resolver(i,t.context,((e,t,r,n)=>{const a={};for(const i of e){const e=Sn(t,i);e&&An(a,i,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}})(e||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return m(e),r},x=async function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const l in e){const u=e[l];if(u){const{_f:e,...d}=u;if(e){const d=s.array.has(e.name),f=u._f&&(!!(o=u._f)&&!!o.validate&&!!(ua(o.validate)&&o.validate.constructor.name===La||bn(o.validate)&&Object.values(o.validate).find((e=>e.constructor.name===La))));f&&c.validatingFields&&m([l],!0);const p=await ja(u,s.disabled,i,h,t.shouldUseNativeValidation&&!n,d);if(f&&c.validatingFields&&m([l]),p[e.name]&&(a.valid=!1,n))break;!n&&(Sn(p,e.name)?d?la(r.errors,p,e.name):An(r.errors,e.name,p[e.name]):_a(r.errors,e.name))}!Gn(d)&&await x(d,n,a)}}var o;return a.valid},w=(e,r)=>!t.disabled&&(e&&r&&An(i,e,r),!Sa(C(),a)),j=(e,t,r)=>ta(e,s,{...o.mount?i:Nn(t)?a:ea(e)?{[e]:t}:t},r,t),_=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Sn(n,e);let o=t;if(a){const r=a._f;r&&(!r.disabled&&An(i,e,Da(t,r)),o=da(r.ref)&&gn(t)?"":t,Oa(r.ref)?[...r.ref.options].forEach((e=>e.selected=o.includes(e.value))):r.refs?mn(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):r.refs[0]&&(r.refs[0].checked=!!o):r.refs.forEach((e=>e.checked=e.value===o)):ca(r.ref)?r.ref.value="":(r.ref.value=o,r.ref.type||u.values.next({name:e,values:{...i}})))}(r.shouldDirty||r.shouldTouch)&&g(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&E(e)},k=(e,t,r)=>{for(const a in t){const i=t[a],o=`${e}.${a}`,l=Sn(n,o);(s.array.has(e)||bn(i)||l&&!l._f)&&!yn(i)?k(o,i,r):_(o,i,r)}},N=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=Sn(n,e),f=s.array.has(e),h=_n(t);An(i,e,h),f?(u.array.next({name:e,values:{...i}}),(c.isDirty||c.dirtyFields)&&l.shouldDirty&&u.state.next({name:e,dirtyFields:Pa(a,i),isDirty:w(e,h)})):!d||d._f||gn(h)?_(e,h,l):k(e,h,l),oa(e,s)&&u.state.next({...r}),u.values.next({name:o.mount?e:void 0,values:{...i}})},S=async a=>{o.mount=!0;const l=a.target;let y=l.name,w=!0;const j=Sn(n,y),_=e=>{w=Number.isNaN(e)||yn(e)&&isNaN(e.getTime())||Sa(e,Sn(i,y,e))};if(j){let o,N;const S=l.type?Ma(j._f):xn(a),O=a.type===Tn||a.type===Pn,C=!((k=j._f).mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate))&&!t.resolver&&!Sn(r.errors,y)&&!j._f.deps||((e,t,r,n,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:!(r?n.isOnChange:a.isOnChange)||e))(O,Sn(r.touchedFields,y),r.isSubmitted,f,d),A=oa(y,s,O);An(i,y,S),O?(j._f.onBlur&&j._f.onBlur(a),e&&e(0)):j._f.onChange&&j._f.onChange(a);const T=g(y,S,O,!1),P=!Gn(T)||A;if(!O&&u.values.next({name:y,type:a.type,values:{...i}}),C)return c.isValid&&("onBlur"===t.mode&&O?p():O||p()),P&&u.state.next({name:y,...A?{}:T});if(!O&&A&&u.state.next({...r}),t.resolver){const{errors:e}=await b([y]);if(_(S),w){const t=Ra(r.errors,n,y),a=Ra(e,n,t.name||y);o=a.error,y=a.name,N=Gn(e)}}else m([y],!0),o=(await ja(j,s.disabled,i,h,t.shouldUseNativeValidation))[y],m([y]),_(S),w&&(o?N=!1:c.isValid&&(N=await x(n,!0)));w&&(j._f.deps&&E(j._f.deps),v(y,N,o,T))}var k},O=(e,t)=>{if(Sn(r.errors,t)&&e.focus)return e.focus(),1},E=async function(e){let a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Qn(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=Sn(t,n);e?An(r.errors,n,e):_a(r.errors,n)}else r.errors=t;return t})(Nn(e)?e:l);a=Gn(t),i=e?!l.some((e=>Sn(t,e))):a}else e?(i=(await Promise.all(l.map((async e=>{const t=Sn(n,e);return await x(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||r.isValid)&&p()):i=a=await x(n);return u.state.next({...!ea(e)||c.isValid&&a!==r.isValid?{}:{name:e},...t.resolver||!e?{isValid:a}:{},errors:r.errors}),o.shouldFocus&&!i&&sa(n,O,e?l:s.mount),i},C=e=>{const t={...o.mount?i:a};return Nn(e)?t:ea(e)?Sn(t,e):e.map((e=>Sn(t,e)))},A=(e,t)=>({invalid:!!Sn((t||r).errors,e),isDirty:!!Sn((t||r).dirtyFields,e),error:Sn((t||r).errors,e),isValidating:!!Sn(r.validatingFields,e),isTouched:!!Sn((t||r).touchedFields,e)}),T=(e,t,a)=>{const i=(Sn(n,e,{_f:{}})._f||{}).ref,o=Sn(r.errors,e)||{},{ref:s,message:l,type:c,...d}=o;An(r.errors,e,{...d,...t,ref:i}),u.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&i&&i.focus&&i.focus()},P=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?Qn(e):s.mount)s.mount.delete(l),s.array.delete(l),o.keepValue||(_a(n,l),_a(i,l)),!o.keepError&&_a(r.errors,l),!o.keepDirty&&_a(r.dirtyFields,l),!o.keepTouched&&_a(r.touchedFields,l),!o.keepIsValidating&&_a(r.validatingFields,l),!t.shouldUnregister&&!o.keepDefaultValue&&_a(a,l);u.values.next({values:{...i}}),u.state.next({...r,...o.keepDirty?{isDirty:w()}:{}}),!o.keepIsValid&&p()},D=e=>{let{disabled:t,name:r,field:n,fields:a}=e;(On(t)&&o.mount||t||s.disabled.has(r))&&(t?s.disabled.add(r):s.disabled.delete(r),g(r,Ma(n?n._f:Sn(a,r)._f),!1,!1,!0))},M=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Sn(n,e);const l=On(r.disabled)||On(t.disabled);return An(n,e,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:e}},name:e,mount:!0,...r}}),s.mount.add(e),i?D({field:i,disabled:On(r.disabled)?r.disabled:t.disabled,name:e}):y(e,!0,r.value),{...l?{disabled:r.disabled||t.disabled}:{},...t.progressive?{required:!!r.required,min:Ia(r.min),max:Ia(r.max),minLength:Ia(r.minLength),maxLength:Ia(r.maxLength),pattern:Ia(r.pattern)}:{},name:e,onChange:S,onBlur:S,ref:l=>{if(l){M(e,r),i=Sn(n,e);const t=Nn(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,o=(e=>ha(e)||mn(e))(t),s=i._f.refs||[];if(o?s.find((e=>e===t)):t===i._f.ref)return;An(n,e,{_f:{...i._f,...o?{refs:[...s.filter(Ea),t,...Array.isArray(Sn(a,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),y(e,!1,void 0,t)}else i=Sn(n,e,{}),i._f&&(i._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!wn(s.array,e)||!o.action)&&s.unMount.add(e)}}},I=()=>t.shouldFocusError&&sa(n,O,s.mount),L=(e,a)=>async o=>{let l;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=_n(i);if(s.disabled.size)for(const e of s.disabled)An(c,e,void 0);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await b();r.errors=e,c=t}else await x(n);if(_a(r.errors,"root"),Gn(r.errors)){u.state.next({errors:{}});try{await e(c,o)}catch(d){l=d}}else a&&await a({...r.errors},o),I(),setTimeout(I);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gn(r.errors)&&!l,submitCount:r.submitCount+1,errors:r.errors}),l)throw l},R=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=e?_n(e):a,f=_n(d),h=Gn(e),p=h?a:f;if(l.keepDefaultValues||(a=d),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...s.mount,...Object.keys(Pa(a,i))]);for(const t of Array.from(e))Sn(r.dirtyFields,t)?An(p,t,Sn(i,t)):N(t,Sn(p,t))}else{if(jn&&Nn(e))for(const e of s.mount){const t=Sn(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(da(e)){const t=e.closest("form");if(t){t.reset();break}}}}n={}}i=t.shouldUnregister?l.keepDefaultValues?_n(a):{}:_n(p),u.array.next({values:{...p}}),u.values.next({values:{...p}})}s={mount:l.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,o.watch=!!t.shouldUnregister,u.state.next({submitCount:l.keepSubmitCount?r.submitCount:0,isDirty:!h&&(l.keepDirty?r.isDirty:!(!l.keepDefaultValues||Sa(e,a))),isSubmitted:!!l.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:l.keepDirtyValues?l.keepDefaultValues&&i?Pa(a,i):r.dirtyFields:l.keepDefaultValues&&e?Pa(a,e):l.keepDirty?r.dirtyFields:{},touchedFields:l.keepTouched?r.touchedFields:{},errors:l.keepErrors?r.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>R(ua(e)?e(i):e,t);return{control:{register:M,unregister:P,getFieldState:A,handleSubmit:L,setError:T,_executeSchema:b,_getWatch:j,_getDirty:w,_updateValid:p,_removeUnmounted:()=>{for(const e of s.unMount){const t=Sn(n,e);t&&(t._f.refs?t._f.refs.every((e=>!Ea(e))):!Ea(t._f.ref))&&P(e)}s.unMount=new Set},_updateFieldArray:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(d&&l&&!t.disabled){if(o.action=!0,h&&Array.isArray(Sn(n,e))){const t=l(Sn(n,e),d.argA,d.argB);f&&An(n,e,t)}if(h&&Array.isArray(Sn(r.errors,e))){const t=l(Sn(r.errors,e),d.argA,d.argB);f&&An(r.errors,e,t),((e,t)=>{!kn(Sn(e,t)).length&&_a(e,t)})(r.errors,e)}if(c.touchedFields&&h&&Array.isArray(Sn(r.touchedFields,e))){const t=l(Sn(r.touchedFields,e),d.argA,d.argB);f&&An(r.touchedFields,e,t)}c.dirtyFields&&(r.dirtyFields=Pa(a,i)),u.state.next({name:e,isDirty:w(e,s),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else An(i,e,s)},_updateDisabledField:D,_getFieldArray:e=>kn(Sn(o.mount?i:a,e,t.shouldUnregister?Sn(a,e,[]):[])),_reset:R,_resetDefaultValues:()=>ua(t.defaultValues)&&t.defaultValues().then((e=>{F(e,t.resetOptions),u.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{On(e)&&(u.state.next({disabled:e}),sa(n,((t,r)=>{const a=Sn(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach((t=>{t.disabled=a._f.disabled||e})))}),0,!1))},_subjects:u,_proxyFormState:c,_setErrors:e=>{r.errors=e,u.state.next({errors:r.errors,isValid:!1})},get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(e){o=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:E,register:M,handleSubmit:L,watch:(e,t)=>ua(e)?u.values.subscribe({next:r=>e(j(void 0,t),r)}):j(e,t,!0),setValue:N,getValues:C,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Sn(n,e)&&(Nn(t.defaultValue)?N(e,_n(Sn(a,e))):(N(e,t.defaultValue),An(a,e,_n(t.defaultValue))),t.keepTouched||_a(r.touchedFields,e),t.keepDirty||(_a(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,_n(Sn(a,e))):w()),t.keepError||(_a(r.errors,e),c.isValid&&p()),u.state.next({...r}))},clearErrors:e=>{e&&Qn(e).forEach((e=>_a(r.errors,e))),u.state.next({errors:e?r.errors:{}})},unregister:P,setError:T,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Sn(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&ua(e.select)&&e.select())}},getFieldState:A}}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=o.useRef(void 0),r=o.useRef(void 0),[n,a]=o.useState({isDirty:!1,isValidating:!1,isLoading:ua(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ua(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ba(e),formState:n});const i=t.current.control;return i._options=e,Zn({subject:i._subjects.state,next:e=>{Xn(e,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),o.useEffect((()=>i._disableForm(e.disabled)),[i,e.disabled]),o.useEffect((()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==n.isDirty&&i._subjects.state.next({isDirty:e})}}),[i,n.isDirty]),o.useEffect((()=>{e.values&&!Sa(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a((e=>({...e})))):i._resetDefaultValues()}),[e.values,i]),o.useEffect((()=>{e.errors&&i._setErrors(e.errors)}),[e.errors,i]),o.useEffect((()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()})),o.useEffect((()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})}),[e.shouldUnregister,i]),t.current.formState=Yn(n,i),t.current}const $a=()=>{const{register:e,handleSubmit:t,formState:{errors:r}}=qa(),{login:n,error:a,isAuthenticated:i}=Gr(),[s,l]=(0,o.useState)(!1),c=ne();(0,o.useEffect)((()=>{i()&&c("/dashboard")}),[i,c]);return(0,Vr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Vr.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-card",children:[(0,Vr.jsx)("div",{children:(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("h1",{className:"text-3xl font-bold text-primary-700 mb-2",children:"Sphere"}),(0,Vr.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3"}),(0,Vr.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["\u307e\u305f\u306f"," ",(0,Vr.jsx)(on,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"\u65b0\u898f\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"})]})]})}),a&&(0,Vr.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm mb-4",children:"object"===typeof a?Object.entries(a).map((e=>{let[t,r]=e;return(0,Vr.jsxs)("div",{className:"mb-1 last:mb-0",children:[t,": ",r]},t)})):a.split("\n").map(((e,t)=>(0,Vr.jsx)("div",{className:"mb-1 last:mb-0",children:e},t)))}),(0,Vr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:t((async e=>{l(!0);try{await n(e.email,e.password,e.businessId)&&c("/dashboard")}finally{l(!1)}})),children:[(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsx)("input",{id:"email",type:"email",autoComplete:"email",className:`appearance-none relative block w-full px-4 py-3 border ${r.email?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"your.email@example.com",...e("email",{required:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}})}),r.email&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.email.message})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),(0,Vr.jsx)("input",{id:"password",type:"password",autoComplete:"current-password",className:`appearance-none relative block w-full px-4 py-3 border ${r.password?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",...e("password",{required:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059",minLength:{value:6,message:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}})}),r.password&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.password.message})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"businessId",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30d3\u30b8\u30cd\u30b9ID (\u4efb\u610f)"}),(0,Vr.jsx)("input",{id:"businessId",type:"text",className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm",placeholder:"your-business-id",defaultValue:"3",...e("businessId")}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u300c3\u300d\u306fAdmin Business\u3092\u6307\u3057\u307e\u3059\u3002 \u307e\u305f\u306f\u300c4\u300d\u306f\u5cf6\u8c37\u3055\u3093\u306e\u30d3\u30b8\u30cd\u30b9\u3092\u6307\u3057\u307e\u3059\u3002"})]})]}),(0,Vr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Vr.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u3092\u4fdd\u5b58"})]}),(0,Vr.jsx)("div",{className:"text-sm",children:(0,Vr.jsx)("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u304a\u5fd8\u308c\u3067\u3059\u304b\uff1f"})})]}),(0,Vr.jsx)("div",{children:(0,Vr.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors "+(s?"opacity-70 cursor-not-allowed":""),children:s?(0,Vr.jsxs)("span",{className:"flex items-center",children:[(0,Vr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Vr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Vr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u30ed\u30b0\u30a4\u30f3\u4e2d..."]}):"\u30ed\u30b0\u30a4\u30f3"})})]}),(0,Vr.jsxs)("div",{className:"mt-6 text-center",children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-600",children:"\u30c6\u30b9\u30c8\u7528\u30a2\u30ab\u30a6\u30f3\u30c8:"}),(0,Vr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9: admin@example.com"}),(0,Vr.jsx)("p",{className:"text-xs text-gray-500",children:"\u30d1\u30b9\u30ef\u30fc\u30c9: password123"})]})]})})},Ua=()=>{const{register:e,handleSubmit:t,watch:r,formState:{errors:n}}=qa(),{register:a,error:i,login:s}=Gr(),[l,c]=(0,o.useState)(!1),u=ne(),d=r("password","");return(0,Vr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Vr.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-card",children:[(0,Vr.jsx)("div",{children:(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("h1",{className:"text-3xl font-bold text-primary-700 mb-2",children:"Sphere"}),(0,Vr.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\u65b0\u898f\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"}),(0,Vr.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["\u65e2\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u65b9\u306f"," ",(0,Vr.jsx)(on,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"\u30ed\u30b0\u30a4\u30f3"})]})]})}),i&&(0,Vr.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm mb-4",children:"object"===typeof i?Object.entries(i).map((e=>{let[t,r]=e;return(0,Vr.jsxs)("div",{className:"mb-1 last:mb-0",children:[t,": ",Array.isArray(r)?r.join(", "):r]},t)})):i}),(0,Vr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:t((async e=>{c(!0);try{const t={email:e.email,password:e.password,re_password:e.confirmPassword,first_name:e.firstName,last_name:e.lastName};if(await a(t)){console.log("Registration successful, attempting auto-login...");await s(e.email,e.password)?(console.log("Auto-login successful, redirecting to dashboard"),u("/dashboard")):(console.log("Auto-login failed, redirecting to login page"),u("/login",{state:{message:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002",email:e.email}}))}}finally{c(!1)}})),children:[(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u540d"}),(0,Vr.jsx)("input",{id:"firstName",type:"text",className:`appearance-none relative block w-full px-4 py-3 border ${n.firstName?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"\u4f8b\uff1a\u592a\u90ce",...e("firstName",{required:"\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})}),n.firstName&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n.firstName.message})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u59d3"}),(0,Vr.jsx)("input",{id:"lastName",type:"text",className:`appearance-none relative block w-full px-4 py-3 border ${n.lastName?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"\u4f8b\uff1a\u5c71\u7530",...e("lastName",{required:"\u59d3\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})}),n.lastName&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n.lastName.message})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsx)("input",{id:"email",type:"email",autoComplete:"email",className:`appearance-none relative block w-full px-4 py-3 border ${n.email?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"your.email@example.com",...e("email",{required:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}})}),n.email&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n.email.message})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),(0,Vr.jsx)("input",{id:"password",type:"password",autoComplete:"new-password",className:`appearance-none relative block w-full px-4 py-3 border ${n.password?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",...e("password",{required:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059",minLength:{value:8,message:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f8\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}})}),n.password&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n.password.message})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\uff09"}),(0,Vr.jsx)("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",className:`appearance-none relative block w-full px-4 py-3 border ${n.confirmPassword?"border-red-300 ring-1 ring-red-300":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors sm:text-sm`,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",...e("confirmPassword",{required:"\u30d1\u30b9\u30ef\u30fc\u30c9\u78ba\u8a8d\u306f\u5fc5\u9808\u3067\u3059",validate:e=>e===d||"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093"})}),n.confirmPassword&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n.confirmPassword.message})]})]}),(0,Vr.jsx)("div",{className:"flex items-center justify-between",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",...e("agreeTerms",{required:"\u5229\u7528\u898f\u7d04\u306b\u540c\u610f\u3057\u3066\u304f\u3060\u3055\u3044"})}),(0,Vr.jsxs)("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-700",children:[(0,Vr.jsx)(on,{to:"#",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"\u5229\u7528\u898f\u7d04"}),"\u306b\u540c\u610f\u3057\u307e\u3059"]})]})}),n.agreeTerms&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n.agreeTerms.message}),(0,Vr.jsx)("div",{children:(0,Vr.jsx)("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors "+(l?"opacity-70 cursor-not-allowed":""),children:l?(0,Vr.jsxs)("span",{className:"flex items-center",children:[(0,Vr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Vr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Vr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\u4e2d..."]}):"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210"})})]})]})})},za={login:async(e,t,r)=>(await Wr.post("/auth/token/login/",{email:e,password:t,business_id:r})).data,register:async e=>(await Wr.post("/auth/users/",e)).data,getCurrentUser:async()=>(await Wr.get("/auth/users/me/")).data,logout:async()=>(await Wr.post("/auth/token/logout/")).data,requestPasswordReset:async e=>(await Wr.post("/auth/users/reset_password/",{email:e})).data,confirmPasswordReset:async(e,t,r)=>(await Wr.post("/auth/users/reset_password_confirm/",{uid:e,token:t,new_password:r,re_new_password:r})).data,changePassword:async(e,t)=>(await Wr.post("/auth/users/set_password/",{current_password:e,new_password:t,re_new_password:t})).data,updateProfile:async e=>(await Wr.patch("/auth/users/me/",e)).data},Ha={getCurrentBusiness:async()=>(await Wr.get("/api/business/current/")).data,createBusiness:async e=>(await Wr.post("/api/business/",e)).data,updateBusiness:async(e,t)=>(await Wr.patch(`/api/business/${e}/`,t)).data,getBusinessDetails:async e=>(await Wr.get(`/api/business/${e}/`)).data,getWorkspaces:async e=>(await Wr.get(`/api/business/${e}/workspaces/`)).data,createWorkspace:async(e,t)=>(await Wr.post(`/api/business/${e}/workspaces/`,t)).data,updateWorkspace:async(e,t)=>(await Wr.patch(`/api/business/workspaces/${e}/`,t)).data,getWorkspaceDetails:async e=>(await Wr.get(`/api/business/workspaces/${e}/`)).data,inviteUser:async(e,t)=>(await Wr.post(`/api/business/${e}/invitations/`,t)).data,getInvitations:async e=>(await Wr.get(`/api/business/${e}/invitations/`)).data,cancelInvitation:async e=>(await Wr.delete(`/api/business/invitations/${e}/`)).data,acceptInvitation:async e=>(await Wr.post("/api/business/invitations/accept/",{token:e})).data,declineInvitation:async e=>(await Wr.post("/api/business/invitations/decline/",{token:e})).data},Wa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["category","client","fiscal_year","worker","reviewer"];const r={...e};return Object.keys(r).forEach((e=>{"description"!==e?t.includes(e)&&null===r[e]?console.log(`Preserving null value for ${e}`):null!==r[e]&&void 0!==r[e]&&""!==r[e]||delete r[e]:console.log(`Preserving description value: "${r[e]}"`)})),r},Va=function(e){const t={...e};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["due_date","start_date","completed_at","recurrence_end_date"]).forEach((e=>{e in t&&t[e]&&"string"===typeof t[e]&&/^\d{4}-\d{2}-\d{2}$/.test(t[e])&&(t[e]=`${t[e]}T00:00:00Z`,console.log(`Converted ${e} to ISO format:`,t[e]))})),t},Ka=e=>{const t={...e};if("weekday"in t&&(""===t.weekday||void 0===t.weekday?(t.weekday=null,console.log("\u9031\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u66dc\u65e5\u304c\u7a7a\u306e\u305f\u3081\u3001null\u306b\u8a2d\u5b9a\u3057\u307e\u3059")):"string"!==typeof t.weekday||isNaN(parseInt(t.weekday,10))||(t.weekday=parseInt(t.weekday,10),console.log("\u9031\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u66dc\u65e5\u3092\u6570\u5024\u306b\u5909\u63db\u3057\u307e\u3057\u305f:",t.weekday))),"weekdays"in t&&Array.isArray(t.weekdays)&&(t.weekdays=JSON.stringify(t.weekdays),console.log("\u9031\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u8907\u6570\u66dc\u65e5\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u307e\u3057\u305f:",t.weekdays)),"monthday"in t)if(""===t.monthday||void 0===t.monthday)t.monthday=null,console.log("\u6708\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u65e5\u306b\u3061\u304c\u7a7a\u306e\u305f\u3081\u3001null\u306b\u8a2d\u5b9a\u3057\u307e\u3059");else if("string"===typeof t.monthday){const e=parseInt(t.monthday,10);e>=1&&e<=31?(t.monthday=e,console.log("\u6708\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u65e5\u306b\u3061\u3092\u6570\u5024\u306b\u5909\u63db\u3057\u307e\u3057\u305f:",t.monthday)):(t.monthday=null,console.log("\u7121\u52b9\u306a\u6708\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u65e5\u306b\u3061\u306e\u305f\u3081\u3001null\u306b\u8a2d\u5b9a\u3057\u307e\u3059"))}if("business_day"in t)if(""===t.business_day||void 0===t.business_day)t.business_day=null,console.log("\u6708\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u55b6\u696d\u65e5\u304c\u7a7a\u306e\u305f\u3081\u3001null\u306b\u8a2d\u5b9a\u3057\u307e\u3059");else if("string"===typeof t.business_day){const e=parseInt(t.business_day,10);e>=1&&e<=31?(t.business_day=e,console.log("\u6708\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u55b6\u696d\u65e5\u6307\u5b9a\u3092\u6570\u5024\u306b\u5909\u63db\u3057\u307e\u3057\u305f:",t.business_day)):(t.business_day=0,console.log("\u7121\u52b9\u306a\u6708\u6b21\u7e70\u308a\u8fd4\u3057\u306e\u55b6\u696d\u65e5\u6307\u5b9a\u306e\u305f\u3081\u30010\u306b\u8a2d\u5b9a\u3057\u307e\u3059"))}return t},Ya={cleanData:Wa,formatDateFields:Va,processRecurrenceFields:Ka},Ga=async e=>{try{console.log("Create task \u30c7\u30fc\u30bf\u5909\u63db\u524d (\u5143\u306e\u30c7\u30fc\u30bf):",JSON.stringify(e,null,2));let t=Wa(e);console.log("\u30c7\u30fc\u30bf\u30af\u30ea\u30fc\u30f3\u5f8c:",JSON.stringify(t,null,2));const n=["title","status","business","workspace"].filter((e=>!t[e]));if(n.length>0){if(console.warn("\u4ee5\u4e0b\u306e\u91cd\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u6b20\u3051\u3066\u3044\u307e\u3059:",n.join(", ")),t.title||(console.warn("\u30bf\u30a4\u30c8\u30eb\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"),t.title="\u65b0\u898f\u30bf\u30b9\u30af"),!t.status){console.warn("\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u672a\u8a2d\u5b9a\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u691c\u7d22\u3057\u307e\u3059\u3002");try{const e=window.__SPHERE_CACHED_STATUSES;if(e&&e.length>0){const r=e.find((e=>"\u672a\u7740\u624b"===e.name))||e.find((e=>1===e.order))||e[0];r&&(t.status=r.id,console.log("\u30c7\u30d5\u30a9\u30eb\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8a2d\u5b9a:",r.id,r.name))}else{const e=t.business?Number(t.business):null;3===e?(t.status=9,console.log("Admin Business\u7528\u306e\u65e2\u77e5\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9ID=9\u3092\u4f7f\u7528")):4===e?(t.status=17,console.log("\u5cf6\u8c37\u3055\u3093\u306eBusiness\u7528\u306e\u65e2\u77e5\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9ID=17\u3092\u4f7f\u7528")):(t.status=9,console.log("\u30d3\u30b8\u30cd\u30b9ID\u304c\u4e0d\u660e\u306a\u305f\u3081\u3001\u65e2\u77e5\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9ID=9\u3092\u4f7f\u7528"))}}catch(KR){console.error("\u30c7\u30d5\u30a9\u30eb\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9\u8a2d\u5b9a\u30a8\u30e9\u30fc:",KR);const r=t.business?Number(t.business):null;t.status=3===r?9:4===r?17:9,console.log(`\u30a8\u30e9\u30fc\u6642\u306e\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af - \u30d3\u30b8\u30cd\u30b9ID=${r}\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u4f7f\u7528:`,t.status)}}t.business||console.error("business ID\u304c\u672a\u8a2d\u5b9a\u3067\u3059\u3002\u5fc5\u9808\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u3059\u3002"),t.workspace||console.error("workspace ID\u304c\u672a\u8a2d\u5b9a\u3067\u3059\u3002\u5fc5\u9808\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u3059\u3002")}t=Va(t),console.log("\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5f8c:",JSON.stringify(t,null,2)),t=Ka(t),console.log("\u7e70\u308a\u8fd4\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u51e6\u7406\u5f8c:",JSON.stringify(t,null,2)),console.log("\u6700\u7d42\u7684\u306a\u9001\u4fe1\u30c7\u30fc\u30bf:",JSON.stringify(t,null,2));try{const e=localStorage.getItem("token");console.log("\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u306e\u5b58\u5728:",!!e),console.log("\u9001\u4fe1\u5148URL:","/api/tasks/");const r=await Wr.post("/api/tasks/",t);return console.log("\u30bf\u30b9\u30af\u4f5c\u6210\u6210\u529f\u30ec\u30b9\u30dd\u30f3\u30b9:",JSON.stringify(r.data,null,2)),r.data}catch(r){if(console.error("API\u547c\u3073\u51fa\u3057\u30a8\u30e9\u30fc:",r),r.response){if(console.error("\u30a8\u30e9\u30fc\u30b9\u30c6\u30fc\u30bf\u30b9:",r.response.status),console.error("\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u30c7\u30fc\u30bf:",JSON.stringify(r.response.data,null,2)),r.response.data){const e=r.response.data;"object"===typeof e&&(console.error("\u30d5\u30a3\u30fc\u30eb\u30c9\u5225\u30a8\u30e9\u30fc:"),Object.entries(e).forEach((e=>{let[t,r]=e;console.error(`- ${t}: ${Array.isArray(r)?r.join(", "):JSON.stringify(r)}`)})))}}else console.error("\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u307e\u305f\u306f\u30ea\u30af\u30a8\u30b9\u30c8\u4e2d\u65ad:",r.message);throw r}}catch(n){var t;throw console.error("Error creating task:",n),console.error("Error details:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},Xa={getTasks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Wr.get("/api/tasks/",{params:e,timeout:1e4})).data}catch(t){throw console.error("Error fetching tasks:",t.message),t}},getTask:async e=>{try{console.log("Fetching task details for ID:",e);const t=await Wr.get(`/api/tasks/${e}/`);return console.log("Task details response:",t.data),t.data}catch(r){var t;throw console.error("Error in getTask:",r),console.error("Error details:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),r}},createTask:Ga,updateTask:async(e,t)=>{try{console.log("Updating task data:",t),console.log("Task ID for update:",e);let r=Wa(t);!("priority_value"in r)||null!==r.priority_value&&""!==r.priority_value||(r.priority_value=null,console.log("\u512a\u5148\u5ea6\u5024\u304cnull\u307e\u305f\u306f\u7a7a\u6587\u5b57\u5217\u306e\u305f\u3081\u3001\u660e\u793a\u7684\u306bnull\u306b\u8a2d\u5b9a\u3057\u307e\u3059")),r=Va(r),r=Ka(r);["is_fiscal_task","is_recurring","is_template","consider_holidays"].forEach((e=>{e in r&&"string"===typeof r[e]&&(r[e]="true"===r[e],console.log(`Converted ${e} to boolean:`,r[e]))})),console.log("Update task data after cleaning:",r);return(await Wr.patch(`/api/tasks/${e}/`,r)).data}catch(r){throw console.error("Error updating task:",r),r.response&&(console.error("Response status:",r.response.status),console.error("Response data:",r.response.data)),r}},deleteTask:async e=>{try{return(await Wr.delete(`/api/tasks/${e}/`)).data}catch(t){throw t}},changeStatus:async(e,t)=>{try{return(await Wr.post(`/api/tasks/${e}/change-status/`,t)).data}catch(r){throw r}},markComplete:async e=>{try{return(await Wr.post(`/api/tasks/${e}/mark_complete/`)).data}catch(t){throw t}}},Qa={getTemplates:async()=>{try{console.log("Fetching templates from API...");const e=await Wr.get("/api/tasks/templates/?limit=100");return console.log("Templates response:",e.data),e.data&&e.data.results&&Array.isArray(e.data.results)?(console.log("Found results array in response:",e.data.results),e.data.results):Array.isArray(e.data)?e.data:(console.warn("API response is not in expected format, using mock data"),[{id:1,title:"\u6708\u6b21\u51e6\u7406\u30c1\u30a7\u30c3\u30af",description:"\u6bce\u6708\u306e\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u306a\u5bfe\u5fdc\u3092\u884c\u3044\u307e\u3059\u3002",template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u6708\u6b21\u30c1\u30a7\u30c3\u30af",category:{id:1,name:"\u4e00\u822c",color:"#3B82F6"},estimated_hours:2,child_tasks_count:0},{id:2,title:"\u8a18\u5e33\u4ee3\u884c\u696d\u52d9",description:"\u8acb\u6c42\u66f8\u30fb\u9818\u53ce\u66f8\u306a\u3069\u306b\u57fa\u3065\u304d\u4f1a\u8a08\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u8a18\u5e33\u4ee3\u884c",category:{id:2,name:"\u8a18\u5e33\u4ee3\u884c",color:"#F59E0B"},estimated_hours:3,child_tasks_count:0},{id:3,title:"\u6c7a\u7b97\u30fb\u6cd5\u4eba\u7a0e\u7533\u544a\u696d\u52d9",description:"\u6c7a\u7b97\u671f\u306e\u6cd5\u4eba\u7a0e\u7533\u544a\u66f8\u3092\u4f5c\u6210\u30fb\u63d0\u51fa\u3057\u307e\u3059\u3002",template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u6c7a\u7b97\u30fb\u7533\u544a",category:{id:3,name:"\u6c7a\u7b97\u30fb\u7533\u544a",color:"#8B5CF6"},estimated_hours:8,child_tasks_count:0}])}catch(t){var e;return console.error("Error fetching templates:",t),console.error("Error details:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),console.warn("Returning mock templates due to API error"),[{id:1,title:"\u6708\u6b21\u51e6\u7406\u30c1\u30a7\u30c3\u30af",description:"\u6bce\u6708\u306e\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u306a\u5bfe\u5fdc\u3092\u884c\u3044\u307e\u3059\u3002",template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u6708\u6b21\u30c1\u30a7\u30c3\u30af",category:{id:1,name:"\u4e00\u822c",color:"#3B82F6"},estimated_hours:2,child_tasks_count:0},{id:2,title:"\u8a18\u5e33\u4ee3\u884c\u696d\u52d9",description:"\u8acb\u6c42\u66f8\u30fb\u9818\u53ce\u66f8\u306a\u3069\u306b\u57fa\u3065\u304d\u4f1a\u8a08\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u8a18\u5e33\u4ee3\u884c",category:{id:2,name:"\u8a18\u5e33\u4ee3\u884c",color:"#F59E0B"},estimated_hours:3,child_tasks_count:0}]}},getTemplate:async e=>{try{console.log("Fetching template details for ID:",e);const t=await Wr.get(`/api/tasks/templates/${e}/`);return console.log("Template details response:",t.data),t.data}catch(r){var t;throw console.error("Error in getTemplate:",r),console.error("Error details:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),r}},getTemplateTasks:async e=>{try{return(await Wr.get(`/api/tasks/templates/${e}/tasks/`)).data}catch(t){throw console.error("Error fetching template tasks:",t),t}},createTemplate:async e=>{const t={...e,is_template:!0};return await Ga(t)},createFromTemplate:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await Wr.post(`/api/tasks/templates/${e}/apply/`,t)).data}catch(r){throw console.error("Error creating task from template:",r),r}},updateTemplate:async(e,t)=>{try{return(await Wr.patch(`/api/tasks/${e}/`,t)).data}catch(r){throw console.error("Error updating template:",r),r}},deleteTemplate:async e=>{try{return(await Wr.delete(`/api/tasks/${e}/`)).data}catch(t){throw console.error("Error deleting template:",t),t}}},Ja={getCategories:async()=>{try{console.log("API - Fetching task categories");const e=await Wr.get("/api/tasks/categories/");return console.log("API - Categories response:",e),e.data&&Array.isArray(e.data)?e.data:e.data&&e.data.results&&Array.isArray(e.data.results)?e.data.results:[]}catch(e){return console.error("Error fetching categories:",e),[]}},getStatuses:async()=>{try{console.log("API - Fetching task statuses");const e=await Wr.get("/api/tasks/statuses/");if(console.log("API - Statuses response:",e),e.data&&Array.isArray(e.data)){try{window.__SPHERE_CACHED_STATUSES=e.data}catch(KR){console.warn("Failed to cache statuses:",KR)}return e.data}if(e.data&&e.data.results&&Array.isArray(e.data.results)){try{window.__SPHERE_CACHED_STATUSES=e.data.results}catch(KR){console.warn("Failed to cache statuses:",KR)}return e.data.results}return[]}catch(e){return console.error("Error fetching statuses:",e),[]}},getPriorities:async()=>{try{console.log("API - Fetching task priorities");const e=await Wr.get("/api/tasks/priorities/");return console.log("API - Priorities response:",e),e.data&&Array.isArray(e.data)?e.data:e.data&&e.data.results&&Array.isArray(e.data.results)?e.data.results:[]}catch(e){return console.error("Error fetching priorities:",e),[]}},createCategory:async e=>{try{return(await Wr.post("/api/tasks/categories/",e)).data}catch(t){throw console.error("Error creating category:",t),t}},createStatus:async e=>{try{return(await Wr.post("/api/tasks/statuses/",e)).data}catch(t){throw console.error("Error creating status:",t),t}},createPriority:async e=>{try{return(await Wr.post("/api/tasks/priorities/",e)).data}catch(t){throw console.error("Error creating priority:",t),t}}},Za={getTaskComments:async e=>{try{console.log(`Fetching comments for task ID ${e}`);const t=await Wr.get(`/api/tasks/${e}/comments/`);return console.log("Comments response:",t.data),t.data&&Array.isArray(t.data)?t.data:t.data&&t.data.results&&Array.isArray(t.data.results)?t.data.results:[]}catch(r){var t;return console.error("Error fetching task comments:",r),console.error("Error details:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),[]}},createTaskComment:async(e,t)=>{try{let r;return console.log(`Creating comment for task ID ${e}`,t),r=t instanceof FormData?await Wr.post(`/api/tasks/${e}/comments/`,t,{headers:{"Content-Type":"multipart/form-data"}}):await Wr.post(`/api/tasks/${e}/comments/`,t),console.log("Comment created:",r.data),r.data}catch(n){var r;throw console.error("Error creating task comment:",n),console.error("Error details:",(null===(r=n.response)||void 0===r?void 0:r.data)||n.message),n}},updateTaskComment:async(e,t)=>{try{let r;return console.log(`Updating comment ID ${e}`,t),r=t instanceof FormData?await Wr.patch(`/api/tasks/comments/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}):await Wr.patch(`/api/tasks/comments/${e}/`,t),console.log("Comment updated:",r.data),r.data}catch(n){var r;throw console.error("Error updating task comment:",n),console.error("Error details:",(null===(r=n.response)||void 0===r?void 0:r.data)||n.message),n}},deleteTaskComment:async e=>{try{console.log(`Deleting comment ID ${e}`);const t=await Wr.delete(`/api/tasks/comments/${e}/`);return console.log("Comment deleted:",t.data),t.data}catch(r){var t;throw console.error("Error deleting task comment:",r),console.error("Error details:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),r}}},{getTasks:ei,getTask:ti,createTask:ri,updateTask:ni,deleteTask:ai,changeStatus:ii,markComplete:oi}=Xa,{getTemplates:si,getTemplate:li,getTemplateTasks:ci,createTemplate:ui,createFromTemplate:di,updateTemplate:fi,deleteTemplate:hi}=Qa,{getCategories:pi,getStatuses:mi,getPriorities:yi,createCategory:gi,createStatus:vi,createPriority:bi}=Ja,{getTaskComments:xi,createTaskComment:wi,updateTaskComment:ji,deleteTaskComment:_i}=Za,ki={getTasks:ei,getTask:ti,createTask:ri,updateTask:ni,deleteTask:ai,changeStatus:ii,markComplete:oi,getTemplates:si,getTemplate:li,getTemplateTasks:ci,createTemplate:ui,createFromTemplate:di,updateTemplate:fi,deleteTemplate:hi,getCategories:pi,getStatuses:mi,getPriorities:yi,createCategory:gi,createStatus:vi,createPriority:bi,getTaskComments:xi,createTaskComment:wi,updateTaskComment:ji,deleteTaskComment:_i,utils:Ya},Ni={getClients:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{console.log("API - Fetching clients with filters:",e);const t=await Wr.get("/api/clients/clients/",{params:e});return console.log("API - Client response structure:",{hasData:!!t.data,dataType:t.data?typeof t.data:"undefined",hasResults:t.data&&t.data.results?"yes":"no",isArray:Array.isArray(t.data),resultCount:t.data&&t.data.results?t.data.results.length:Array.isArray(t.data)?t.data.length:0}),t.data&&t.data.results?(console.log("API - Returning paginated client data:",t.data.results.length),t.data):Array.isArray(t.data)?(console.log("API - Returning array client data:",t.data.length),{results:t.data,count:t.data.length}):t.data&&"object"===typeof t.data?(console.log("API - Returning object client data"),t.data):(console.warn("API - No client data found, returning empty results"),{results:[],count:0})}catch(t){return console.error("Error fetching clients:",t),{results:[],count:0}}},getClient:async e=>{try{return(await Wr.get(`/api/clients/clients/${e}/`)).data}catch(t){return console.error(`Error fetching client ${e}:`,t),null}},createClient:async e=>{console.log("Creating client with data:",e);try{const t=await Wr.post("/api/clients/clients/",e);return console.log("Client created successfully:",t.data),t.data}catch(r){var t;throw console.error("Failed to create client:",null===(t=r.response)||void 0===t?void 0:t.data),r}},updateClient:async(e,t)=>(await Wr.patch(`/api/clients/clients/${e}/`,t)).data,deleteClient:async e=>(await Wr.delete(`/api/clients/clients/${e}/`)).data,getFiscalYears:async e=>{try{if(!e||"undefined"===e)return console.log("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\u304c\u672a\u6307\u5b9a\u306e\u305f\u3081\u3001\u6c7a\u7b97\u671f\u60c5\u5831\u3092\u53d6\u5f97\u305b\u305a\u306b\u7a7a\u914d\u5217\u3092\u8fd4\u3057\u307e\u3059"),[];console.log("Fetching fiscal years for client ID:",e);const t=await Wr.get(`/api/clients/clients/${e}/fiscal-years/`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Fiscal years API response status:",t.status),console.log("Fiscal years raw response:",t.data),!t.data||Array.isArray(t.data)&&0===t.data.length){console.warn("No fiscal years found, creating mock data for testing");const t=[{id:999,client:parseInt(e),fiscal_period:1,start_date:"2024-01-01",end_date:"2024-12-31",is_current:!0}];return console.log("Using mock fiscal year data:",t),t}return Array.isArray(t.data)?(console.log("Returning fiscal years array directly, count:",t.data.length),t.data):t.data&&t.data.results?(console.log("Returning fiscal years from paginated response, count:",t.data.results.length),t.data.results):t.data&&"object"===typeof t.data?(console.log("Returning fiscal years from object response"),[t.data]):(console.warn("No fiscal year data found, returning empty array"),[])}catch(n){var t,r;console.error(`Error fetching fiscal years for client ${e}:`,n),console.error("Error details:",null===(t=n.response)||void 0===t?void 0:t.status,null===(r=n.response)||void 0===r?void 0:r.data),console.warn("Error occurred, creating mock data for testing");const a=[{id:999,client:parseInt(e),fiscal_period:1,start_date:"2024-01-01",end_date:"2024-12-31",is_current:!0}];return console.log("Using mock fiscal year data due to API error:",a),a}},createFiscalYear:async(e,t)=>{console.log(`API - Creating fiscal year for client ${e}:`,t);try{const r=await Wr.post(`/api/clients/clients/${e}/fiscal-years/`,t);return console.log("API - Fiscal year created successfully:",r.data),r.data}catch(n){var r;throw console.error("API - Failed to create fiscal year:",(null===(r=n.response)||void 0===r?void 0:r.data)||n.message),n}},updateFiscalYear:async(e,t)=>{console.log(`API - Updating fiscal year ${e}:`,t);try{const r=await Wr.patch(`/api/clients/fiscal-years/${e}/`,t);return console.log("API - Fiscal year updated successfully:",r.data),r.data}catch(n){var r;throw console.error("API - Failed to update fiscal year:",(null===(r=n.response)||void 0===r?void 0:r.data)||n.message),n}},deleteFiscalYear:async e=>(await Wr.delete(`/api/clients/fiscal-years/${e}/`)).data,setCurrentFiscalYear:async e=>{console.log(`API - Setting fiscal year ${e} as current`);try{const t=await Wr.post(`/api/clients/fiscal-years/${e}/set_current/`);return console.log("API - Fiscal year set as current successfully:",t.data),t.data}catch(r){var t;throw console.error("API - Failed to set fiscal year as current:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),r}},toggleFiscalYearLock:async e=>{console.log(`API - Toggling lock status for fiscal year ${e}`);try{const t=await Wr.post(`/api/clients/fiscal-years/${e}/toggle_lock/`);return console.log("API - Fiscal year lock status toggled successfully:",t.data),t.data}catch(r){var t;throw console.error("API - Failed to toggle fiscal year lock status:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),r}},getCurrentFiscalYear:async e=>{console.log(`API - Getting current fiscal year for client ${e}`);try{const t=await Wr.get(`/api/clients/clients/${e}/fiscal-years/`,{params:{is_current:!0}});return console.log("API - Current fiscal year fetched successfully:",t.data),t.data.length>0?t.data[0]:null}catch(r){var t;throw console.error("API - Failed to get current fiscal year:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),r}},getContracts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Wr.get("/api/clients/contracts/",{params:e})).data},getTaskTemplates:async()=>{try{return(await Wr.get("/api/tasks/templates/")).data}catch(e){return console.error("Error fetching task templates:",e),[]}},getTaskTemplateSchedules:async()=>{try{return(await Wr.get("/api/clients/task-template-schedules/")).data}catch(e){return console.error("Error fetching task template schedules:",e),[]}},createTaskTemplateSchedule:async e=>{try{return(await Wr.post("/api/clients/task-template-schedules/",e,{headers:{"Content-Type":"application/json",Accept:"application/json"}})).data}catch(t){if(console.error("Error creating task template schedule:",t),t.response&&t.response.data&&"string"===typeof t.response.data&&t.response.data.includes("<!DOCTYPE html>")){const e=t.response.data;let r="\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f";if(e.includes("IntegrityError")&&(e.includes("duplicate key")||e.includes("already exists"))){const r=new Error("\u91cd\u8907\u30ad\u30fc\u30a8\u30e9\u30fc\uff1a\u540c\u3058\u540d\u524d\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u304c\u65e2\u306b\u5b58\u5728\u3057\u307e\u3059");throw r.response=t.response,r.isDuplicateKeyError=!0,r.originalError=t,r.originalData=e,console.warn("\u91cd\u8907\u30ad\u30fc\u30a8\u30e9\u30fc\u3092\u691c\u51fa\u3057\u307e\u3057\u305f\u3002\u65e2\u5b58\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u691c\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),r}const n=e.match(/<pre class="exception_value">(.*?)<\/pre>/s);n&&n[1]&&(r=n[1].trim());const a=new Error(r);throw a.response=t.response,a.originalError=t,a}throw t}},updateTaskTemplateSchedule:async(e,t)=>{try{return(await Wr.patch(`/api/clients/task-template-schedules/${e}/`,t)).data}catch(r){throw console.error("Error updating task template schedule:",r),r}},deleteTaskTemplateSchedule:async e=>{try{return(await Wr.delete(`/api/clients/task-template-schedules/${e}/`)).data}catch(t){throw console.error("Error deleting task template schedule:",t),t}},getClientTaskTemplates:async e=>{try{if(!e)return console.error("Client ID is required to fetch client task templates"),[];return(await Wr.get(`/api/clients/clients/${e}/task-templates/`)).data}catch(t){return console.error("Error fetching client task templates:",t),[]}},createClientTaskTemplate:async(e,t)=>{try{return(await Wr.post(`/api/clients/clients/${e}/task-templates/`,t)).data}catch(r){throw console.error("Error creating client task template:",r),r}},updateClientTaskTemplate:async(e,t)=>{try{return(await Wr.patch(`/api/clients/client-task-templates/${e}/`,t)).data}catch(r){throw console.error("Error updating client task template:",r),r}},deleteClientTaskTemplate:async e=>{try{return(await Wr.delete(`/api/clients/client-task-templates/${e}/`)).data}catch(t){throw console.error("Error deleting client task template:",t),t}},generateTaskFromTemplate:async e=>{try{return(await Wr.post(`/api/clients/client-task-templates/${e}/generate_task/`)).data}catch(t){throw console.error("Error generating task from template:",t),t}},getContract:async e=>(await Wr.get(`/api/clients/contracts/${e}/`)).data,createContract:async e=>{try{if(console.log("\u5951\u7d04\u60c5\u5831\u3092\u4f5c\u6210\u3057\u307e\u3059:",e),e.end_date&&!/^\d{4}-\d{2}-\d{2}$/.test(e.end_date))throw new Error("\u7d42\u4e86\u65e5\u306e\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002YYYY-MM-DD\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");const r=e.client,n={1:"\u9867\u554f\u5951\u7d04",2:"\u8a18\u5e33\u4ee3\u884c",3:"\u7d66\u4e0e\u8a08\u7b97",4:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u539f\u5247)",5:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u7279\u4f8b)",6:"\u4f4f\u6c11\u7a0e(\u539f\u5247)",7:"\u4f4f\u6c11\u7a0e(\u7279\u4f8b)",8:"\u793e\u4f1a\u4fdd\u967a",9:"\u305d\u306e\u4ed6"},a=`client_${r}_contracts`;let i=[];try{const e=localStorage.getItem(a);i=e?JSON.parse(e):[],Array.isArray(i)||(console.warn("\u65e2\u5b58\u306e\u5951\u7d04\u30c7\u30fc\u30bf\u304c\u914d\u5217\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u7a7a\u306e\u914d\u5217\u306b\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002"),i=[])}catch(t){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u89e3\u6790\u30a8\u30e9\u30fc:",t),i=[]}const o={id:Date.now(),...e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),service_name:e.custom_service_name||(e.service?n[e.service.toString()]||`\u30b5\u30fc\u30d3\u30b9ID: ${e.service}`:"\u672a\u8a2d\u5b9a"),status_display:{active:"\u5951\u7d04\u4e2d",suspended:"\u4f11\u6b62\u4e2d",terminated:"\u7d42\u4e86",preparing:"\u6e96\u5099\u4e2d"}[e.status]||e.status};return i.push(o),localStorage.setItem(a,JSON.stringify(i)),console.log("\u5951\u7d04\u60c5\u5831\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3057\u305f:",o),o}catch(r){throw console.error("\u5951\u7d04\u4f5c\u6210\u30a8\u30e9\u30fc:",r),r}},updateContract:async(e,t)=>{try{if(console.log(`\u5951\u7d04ID ${e} \u3092\u66f4\u65b0\u3057\u307e\u3059:`,t),t.end_date&&!/^\d{4}-\d{2}-\d{2}$/.test(t.end_date))throw new Error("\u7d42\u4e86\u65e5\u306e\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002YYYY-MM-DD\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");const n=t.client,a={1:"\u9867\u554f\u5951\u7d04",2:"\u8a18\u5e33\u4ee3\u884c",3:"\u7d66\u4e0e\u8a08\u7b97",4:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u539f\u5247)",5:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u7279\u4f8b)",6:"\u4f4f\u6c11\u7a0e(\u539f\u5247)",7:"\u4f4f\u6c11\u7a0e(\u7279\u4f8b)",8:"\u793e\u4f1a\u4fdd\u967a",9:"\u305d\u306e\u4ed6"},i=`client_${n}_contracts`;let o=[];try{const e=localStorage.getItem(i);o=e?JSON.parse(e):[],Array.isArray(o)||(console.warn("\u65e2\u5b58\u306e\u5951\u7d04\u30c7\u30fc\u30bf\u304c\u914d\u5217\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u7a7a\u306e\u914d\u5217\u306b\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002"),o=[])}catch(r){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u89e3\u6790\u30a8\u30e9\u30fc:",r),o=[]}const s=o.findIndex((t=>t.id===e));if(-1===s)throw new Error(`\u5951\u7d04ID ${e} \u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002`);const l={...o[s],...t,id:e,updated_at:(new Date).toISOString(),service_name:t.custom_service_name||t.service&&a[t.service.toString()]||o[s].service_name,status_display:{active:"\u5951\u7d04\u4e2d",suspended:"\u4f11\u6b62\u4e2d",terminated:"\u7d42\u4e86",preparing:"\u6e96\u5099\u4e2d"}[t.status]||t.status};return o[s]=l,localStorage.setItem(i,JSON.stringify(o)),console.log("\u66f4\u65b0\u3055\u308c\u305f\u5951\u7d04\u60c5\u5831\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3057\u305f:",l),l}catch(n){throw console.error("\u5951\u7d04\u66f4\u65b0\u30a8\u30e9\u30fc:",n),n}},deleteContract:async e=>{try{console.log(`\u5951\u7d04ID ${e} \u3092\u524a\u9664\u3057\u307e\u3059`);const r=Object.keys(localStorage).filter((e=>e.startsWith("client_")&&e.endsWith("_contracts")));let n=!1,a=null;for(const i of r)try{let t=JSON.parse(localStorage.getItem(i));if(Array.isArray(t)){const r=t.length;if(t=t.filter((t=>t.id!==e)),t.length<r){localStorage.setItem(i,JSON.stringify(t)),n=!0,a=i.replace("client_","").replace("_contracts",""),console.log(`\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID ${a} \u306e\u5951\u7d04 ${e} \u3092\u524a\u9664\u3057\u307e\u3057\u305f`);break}}}catch(t){console.error(`\u30ad\u30fc ${i} \u306e\u30c7\u30fc\u30bf\u89e3\u6790\u30a8\u30e9\u30fc:`,t)}if(!n)throw new Error(`\u5951\u7d04ID ${e} \u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002`);return{success:!0,message:"\u5951\u7d04\u304c\u6b63\u5e38\u306b\u524a\u9664\u3055\u308c\u307e\u3057\u305f"}}catch(r){throw console.error("\u5951\u7d04\u524a\u9664\u30a8\u30e9\u30fc:",r),r}},getNotes:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Wr.get("/api/clients/notes/",{params:e})).data},createNote:async e=>(await Wr.post("/api/clients/notes/",e)).data,updateNote:async(e,t)=>(await Wr.patch(`/api/clients/notes/${e}/`,t)).data,deleteNote:async e=>(await Wr.delete(`/api/clients/notes/${e}/`)).data,getTasks:async e=>(await Wr.get(`/api/clients/clients/${e}/tasks/`)).data,getIndustries:async()=>(await Wr.get("/api/clients/industries/")).data,getTaxRules:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log(`API - Getting tax rules for client ${e}:`,t);try{const r=await Wr.get(`/api/clients/clients/${e}/tax-rules/`,{params:t,headers:{Accept:"application/json"}});return console.log("API - Tax rules fetched successfully:",r.data),r.data}catch(i){var r,n,a;if(console.error("API - Failed to get tax rules:",(null===(r=i.response)||void 0===r?void 0:r.data)||i.message),null!==(n=i.response)&&void 0!==n&&n.data&&"string"===typeof i.response.data&&i.response.data.startsWith("<!DOCTYPE html>"))return console.error("Received HTML response instead of JSON"),[];if(404===(null===(a=i.response)||void 0===a?void 0:a.status))return[];throw i}},createTaxRule:async(e,t)=>{console.log(`API - Creating tax rule for client ${e}:`,t);try{const r=await Wr.post(`/api/clients/clients/${e}/tax-rules/`,t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return console.log("API - Tax rule created successfully:",r.data),r.data}catch(a){var r,n;if(console.error("API - Failed to create tax rule:",(null===(r=a.response)||void 0===r?void 0:r.data)||a.message),null!==(n=a.response)&&void 0!==n&&n.data&&"string"===typeof a.response.data&&a.response.data.startsWith("<!DOCTYPE html>"))throw console.error("Received HTML response instead of JSON"),new Error("\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002");throw a}},updateTaxRule:async(e,t)=>{console.log(`API - Updating tax rule ${e}:`,t);try{const r=await Wr.patch(`/api/clients/clients/tax-rules/${e}/`,t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return console.log("API - Tax rule updated successfully:",r.data),r.data}catch(a){var r,n;if(console.error("API - Failed to update tax rule:",(null===(r=a.response)||void 0===r?void 0:r.data)||a.message),null!==(n=a.response)&&void 0!==n&&n.data&&"string"===typeof a.response.data&&a.response.data.startsWith("<!DOCTYPE html>"))throw console.error("Received HTML response instead of JSON"),new Error("\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002");throw a}},deleteTaxRule:async e=>{console.log(`API - Deleting tax rule ${e}`);try{const t=await Wr.delete(`/api/clients/clients/tax-rules/${e}/`,{headers:{Accept:"application/json"}});return console.log("API - Tax rule deleted successfully"),t.data}catch(n){var t,r;if(console.error("API - Failed to delete tax rule:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),null!==(r=n.response)&&void 0!==r&&r.data&&"string"===typeof n.response.data&&n.response.data.startsWith("<!DOCTYPE html>"))throw console.error("Received HTML response instead of JSON"),new Error("\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002");throw n}},getCurrentTaxRules:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log(`API - Getting current tax rules for client ${e} and tax type ${t}`);const r={is_current:!0};t&&(r.tax_type=t);try{const t=await Wr.get(`/api/clients/clients/${e}/tax-rules/`,{params:r,headers:{Accept:"application/json"}});return console.log("API - Current tax rules fetched successfully:",t.data),t.data}catch(o){var n,a,i;if(console.error("API - Failed to get current tax rules:",(null===(n=o.response)||void 0===n?void 0:n.data)||o.message),null!==(a=o.response)&&void 0!==a&&a.data&&"string"===typeof o.response.data&&o.response.data.startsWith("<!DOCTYPE html>"))throw console.error("Received HTML response instead of JSON"),new Error("\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002");if(404===(null===(i=o.response)||void 0===i?void 0:i.status))return[];throw o}},getTaskCategories:async()=>{try{return(await Wr.get("/api/tasks/categories/")).data}catch(e){return console.error("Error fetching task categories:",e),[]}},getTaskPriorities:async()=>{try{return(await Wr.get("/api/tasks/priorities/")).data}catch(e){return console.error("Error fetching task priorities:",e),[]}},getContractServices:async()=>{try{console.log("API - Fetching contract services");const e=await Wr.get("/api/clients/contract-services/",{headers:{Accept:"application/json"}});return console.log("API - Contract services fetched successfully:",e.data),e.data}catch(t){var e;return console.error("API - Failed to fetch contract services:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),[]}},createDefaultContractServices:async()=>{try{console.log("API - Creating default contract services");const e=await Wr.post("/api/clients/contract-services/create-defaults/",{},{headers:{"Content-Type":"application/json",Accept:"application/json"}});return console.log("API - Default contract services created successfully:",e.data),e.data}catch(t){var e;throw console.error("API - Failed to create default contract services:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),t}},createContractService:async e=>{try{return(await Wr.post("/api/clients/contract-services/",e)).data}catch(t){throw console.error("Error creating contract service:",t),t}},updateContractService:async(e,t)=>{try{return(await Wr.put(`/api/clients/contract-services/${e}/`,t)).data}catch(r){throw console.error("Error updating contract service:",r),r}},deleteContractService:async e=>{try{return(await Wr.delete(`/api/clients/contract-services/${e}/`)).data}catch(t){throw console.error("Error deleting contract service:",t),t}},getClientContracts:async e=>{try{console.log(`\u5951\u7d04\u60c5\u5831\u53d6\u5f97 - \u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID: ${e}`);const r=`client_${e}_contracts`;let n=[];try{const e=localStorage.getItem(r);e?(n=JSON.parse(e),Array.isArray(n)?n.length>0&&console.log(`\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089 ${n.length} \u4ef6\u306e\u5951\u7d04\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3057\u305f`):(console.warn("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u304c\u914d\u5217\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u7a7a\u306e\u914d\u5217\u306b\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002"),n=[])):console.log("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u5951\u7d04\u60c5\u5831\u304c\u3042\u308a\u307e\u305b\u3093")}catch(t){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc:",t),n=[]}return n}catch(r){return console.error("\u5951\u7d04\u60c5\u5831\u53d6\u5f97\u30a8\u30e9\u30fc:",r),[]}},getContract:async e=>{try{return(await Wr.get(`/api/clients/client-contracts/${e}/`,{headers:{Accept:"application/json"}})).data}catch(t){return console.error("Error fetching contract details:",t),null}}},Si={getTimeEntries:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=e;"number"!==typeof e&&"string"!==typeof e||(t={task_id:e});const r=await Wr.get("/api/time-management/entries/",{params:t});return r.data.results||r.data}catch(t){console.error("Error fetching time entries:",t);const r=[{id:1,description:"\u30bf\u30b9\u30af\u4f5c\u6210\u306e\u8a2d\u8a08",start_time:new Date(Date.now()-36e5).toISOString(),end_time:(new Date).toISOString(),duration_seconds:3600,is_running:!1,task:{id:1,title:"\u30bf\u30b9\u30af\u7ba1\u7406\u6a5f\u80fd\u5b9f\u88c5"},client:{id:1,name:"\u793e\u5185\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"},user:{id:1,first_name:"\u30c6\u30b9\u30c8",last_name:"\u30e6\u30fc\u30b6\u30fc"}},{id:2,description:"\u6642\u9593\u8a18\u9332\u306e\u5b9f\u88c5",start_time:new Date(Date.now()-72e5).toISOString(),end_time:null,duration_seconds:null,is_running:!0,task:{id:2,title:"\u6642\u9593\u7ba1\u7406\u6a5f\u80fd\u958b\u767a"},client:{id:1,name:"\u793e\u5185\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"},user:{id:1,first_name:"\u30c6\u30b9\u30c8",last_name:"\u30e6\u30fc\u30b6\u30fc"}}],n=e||{};return"true"===n.active?r.filter((e=>e.is_running||!e.end_time)):"false"===n.active?r.filter((e=>!e.is_running&&e.end_time)):n.task_id?r.filter((e=>e.task&&e.task.id.toString()===n.task_id.toString())):r}},getActiveTimeEntry:async e=>{try{const t=await Wr.get("/api/time-management/entries/",{params:{task_id:e,active:!0}});return t.data&&Array.isArray(t.data)&&t.data.length>0?{data:t.data[0],active:!0}:t.data&&t.data.results&&Array.isArray(t.data.results)&&t.data.results.length>0?{data:t.data.results[0],active:!0}:{data:{active:!1}}}catch(t){return console.error("Error fetching active time entry:",t),{data:{id:Math.floor(1e3*Math.random()),task_id:e,description:"\u9032\u884c\u4e2d\u306e\u4f5c\u696d",start_time:new Date(Date.now()-18e5).toISOString(),is_running:!0,task:{id:e,title:"\u4f5c\u696d\u4e2d\u306e\u30bf\u30b9\u30af"}}}}},getTimeEntry:async e=>{try{return(await Wr.get(`/api/time-management/entries/${e}/`)).data}catch(t){return console.error("Error fetching time entry:",t),null}},createTimeEntry:async e=>{try{return(await Wr.post("/api/time-management/entries/",e)).data}catch(t){throw console.error("Error creating time entry:",t),t}},updateTimeEntry:async(e,t)=>{try{return(await Wr.patch(`/api/time-management/entries/${e}/`,t)).data}catch(r){console.error("Error updating time entry:",r);return{id:e,...t,start_time:t.start_time||(new Date).toISOString(),end_time:t.end_time||null,is_running:!t.end_time,task:t.task_id?{id:t.task_id,title:"\u66f4\u65b0\u3055\u308c\u305f\u30bf\u30b9\u30af"}:null,client:t.client_id?{id:t.client_id,name:"\u66f4\u65b0\u3055\u308c\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}:null}}},deleteTimeEntry:async e=>{try{return(await Wr.delete(`/api/time-management/entries/${e}/`)).data}catch(t){throw console.error("Error deleting time entry:",t),t}},startTimeEntry:async e=>{try{const t={task_id:e.task_id?Number(e.task_id):null,client_id:e.client_id?Number(e.client_id):null,fiscal_year_id:e.fiscal_year_id?Number(e.fiscal_year_id):null,description:e.description||""};return(await Wr.post("/api/time-management/timer/start/",t)).data}catch(t){if(console.error("Error starting time entry:",t),t.response&&400===t.response.status&&t.response.data&&"You already have an active timer"===t.response.data.error&&t.response.data.time_entry)return console.info("Using existing active timer",t.response.data.time_entry),t.response.data.time_entry;throw t}},stopTimeEntry:async e=>{try{if(!e)throw console.error("Invalid entryId for stopTimeEntry:",e),new Error("\u6709\u52b9\u306a\u30bf\u30a4\u30de\u30fcID\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093");const t=Number(e);console.log(`Sending request to stop timer: ${t}`);const r=await Wr.post(`/api/time-management/timer/${t}/stop/`);return console.log("Stop timer API response:",r.data),r.data}catch(t){throw console.error("Error stopping time entry:",t),t.response&&(console.error("Error response status:",t.response.status),console.error("Error response data:",t.response.data)),t}},getDashboardSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Wr.get("/api/time-management/dashboard/",{params:e})).data}catch(t){return console.error("Error fetching dashboard summary:",t),{today:{hours:3.5,entry_count:2},this_week:{hours:22,entry_count:12},this_month:{hours:85,entry_count:45},has_active_timer:!1,active_timer:null}}},getBreaks:async e=>{try{return(await Wr.get(`/api/time-management/entries/${e}/breaks/`)).data}catch(t){return console.error("Error fetching breaks:",t),[]}},startBreak:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await Wr.post(`/api/time-management/entries/${e}/breaks/start/`,t)).data}catch(r){return console.error("Error starting break:",r),{id:Math.floor(1e3*Math.random()),time_entry:e,start_time:(new Date).toISOString(),reason:t.reason||"\u4f11\u61a9"}}},stopBreak:async e=>{try{return(await Wr.post(`/api/time-management/breaks/${e}/stop/`)).data}catch(t){return console.error("Error stopping break:",t),{success:!0}}},generateReport:async e=>{try{return(await Wr.post("/api/time-management/reports/generate/",e)).data}catch(t){return console.error("Error generating report:",t),{id:Math.floor(1e3*Math.random()),name:e.name,start_date:e.start_date,end_date:e.end_date,created_at:(new Date).toISOString()}}},exportReportToCsv:async e=>{try{const t=await Wr.get(`/api/time-management/reports/${e}/export/csv/`,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");return n.href=r,n.setAttribute("download",`time-report-${e}.csv`),document.body.appendChild(n),n.click(),n.remove(),!0}catch(t){return console.error("Error exporting report to CSV:",t),!1}},getChartData:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"time",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"week";try{return(await Wr.get("/api/time-management/analytics/chart_data/",{params:{type:e,period:t}})).data}catch(r){return console.error("Error fetching chart data:",r),"time"===e?{labels:["\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u65e5"],datasets:[{label:"Total Hours",data:[4.5,6.2,7.8,5.5,8,2.5,0],backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)"},{label:"Billable Hours",data:[3.5,5,6.5,4.5,7,1.5,0],backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)"}]}:{labels:["\u793e\u5185\u30d7\u30ed\u30b8\u30a7\u30af\u30c8","\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A","\u30af\u30e9\u30a4\u30a2\u30f3\u30c8B"],datasets:[{label:"Productivity",data:[80,65,90],backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"]}]}}}},Oi={getProfile:async()=>{try{const t=await Wr.get("/api/auth/users/me/");if(t.data&&t.data.id)try{return await Wr.get(`/api/users/profile/${t.data.id}/`)}catch(e){return console.error("Error fetching detailed profile:",e),{data:{...t.data,business:{id:t.data.business||1,name:t.data.business_name||"\u30b5\u30f3\u30d7\u30eb\u4f01\u696d"}}}}throw new Error("User data not found")}catch(t){return console.error("Error fetching user profile:",t),{data:{id:1,username:"admin",email:"admin@example.com",first_name:"\u7ba1\u7406\u8005",last_name:"\u30e6\u30fc\u30b6\u30fc",business:{id:1,name:"\u30b5\u30f3\u30d7\u30eb\u4f01\u696d"}}}}},getUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await Wr.get("/api/users/profile/",{params:e})).data}catch(t){return console.error("Error fetching users:",t),[]}},getUser:async e=>{try{return(await Wr.get(`/api/users/profile/${e}/`)).data}catch(t){return console.error(`Error fetching user ${e}:`,t),null}},getBusinessUsers:async function(e){try{const e=await Wr.get("/api/users/profile/");return console.log("Users from API:",e.data),Array.isArray(e.data)?e.data:e.data&&Array.isArray(e.data.results)?e.data.results:[]}catch(t){return console.error("Error fetching users:",t),[]}},getCurrentUser:async()=>{try{return(await Wr.get("/api/auth/users/me/")).data}catch(e){return console.error("Error fetching current user:",e),null}},getAvailableWorkers:async()=>{try{const t=[{id:1,username:"admin",email:"admin@example.com",first_name:"\u7ba1\u7406\u8005",last_name:"\u30e6\u30fc\u30b6\u30fc"},{id:2,username:"worker1",email:"worker1@example.com",first_name:"\u62c5\u5f53\u8005",last_name:"1"},{id:3,username:"worker2",email:"worker2@example.com",first_name:"\u62c5\u5f53\u8005",last_name:"2"},{id:4,username:"reviewer1",email:"reviewer1@example.com",first_name:"\u30ec\u30d3\u30e5\u30a2\u30fc",last_name:"1"}];console.log("Fetching users for worker selection");try{const e=await Wr.get("/api/users/profile/");if(console.log("Worker API response:",e.data),Array.isArray(e.data)&&e.data.length>0)return e.data;if(e.data&&Array.isArray(e.data.results)&&e.data.results.length>0)return e.data.results}catch(e){console.warn("API Error, using demo users:",e)}return console.log("Using demo users"),t}catch(t){return console.error("Error fetching available workers:",t),[]}},getAvailableReviewers:async()=>{try{const t=[{id:1,username:"admin",email:"admin@example.com",first_name:"\u7ba1\u7406\u8005",last_name:"\u30e6\u30fc\u30b6\u30fc"},{id:4,username:"reviewer1",email:"reviewer1@example.com",first_name:"\u30ec\u30d3\u30e5\u30a2\u30fc",last_name:"1"},{id:5,username:"reviewer2",email:"reviewer2@example.com",first_name:"\u30ec\u30d3\u30e5\u30a2\u30fc",last_name:"2"},{id:6,username:"manager",email:"manager@example.com",first_name:"\u30de\u30cd\u30fc\u30b8\u30e3\u30fc",last_name:""}];console.log("Fetching users for reviewer selection");try{const e=await Wr.get("/api/users/profile/");if(console.log("Reviewer API response:",e.data),Array.isArray(e.data)&&e.data.length>0)return e.data;if(e.data&&Array.isArray(e.data.results)&&e.data.results.length>0)return e.data.results}catch(e){console.warn("API Error, using demo users:",e)}return console.log("Using demo users for reviewers"),t}catch(t){return console.error("Error fetching available reviewers:",t),[]}}},Ei=(Math.pow(10,8),6048e5),Ci=6e4,Ai=36e5,Ti=Symbol.for("constructDateFrom");function Pi(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Ti in e?e[Ti](t):e instanceof Date?new e.constructor(t):new Date(t)}function Di(e,t){return Pi(t||e,e)}function Mi(e,t,r){const n=Di(e,r?.in);return isNaN(t)?Pi(r?.in||e,NaN):t?(n.setDate(n.getDate()+t),n):n}const Ii={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Li(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ri={date:Li({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Li({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Li({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Fi={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Bi(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function qi(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(s,(e=>e.test(o))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(s,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}var $i;const Ui={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=Ii[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:Ri,formatRelative:(e,t,r,n)=>Fi[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Bi({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Bi({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bi({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Bi({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Bi({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:($i={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match($i.matchPattern);if(!r)return null;const n=r[0],a=e.match($i.parsePattern);if(!a)return null;let i=$i.valueCallback?$i.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(n.length)}}),era:qi({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qi({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qi({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qi({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qi({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let zi={};function Hi(){return zi}function Wi(e){const t=Di(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Vi(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=Pi.bind(null,e||r.find((e=>"object"===typeof e)));return r.map(a)}function Ki(e,t){const r=Di(e,t?.in);return r.setHours(0,0,0,0),r}function Yi(e,t,r){const[n,a]=Vi(r?.in,e,t),i=Ki(n),o=Ki(a),s=+i-Wi(i),l=+o-Wi(o);return Math.round((s-l)/864e5)}function Gi(e,t){const r=Di(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Xi(e,t){const r=Di(e,t?.in);return Yi(r,Gi(r))+1}function Qi(e,t){const r=Hi(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Di(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ji(e,t){return Qi(e,{...t,weekStartsOn:1})}function Zi(e,t){const r=Di(e,t?.in),n=r.getFullYear(),a=Pi(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Ji(a),o=Pi(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Ji(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function eo(e,t){const r=Zi(e,t),n=Pi(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ji(n)}function to(e,t){const r=Di(e,t?.in),n=+Ji(r)-+eo(r);return Math.round(n/Ei)+1}function ro(e,t){const r=Di(e,t?.in),n=r.getFullYear(),a=Hi(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Pi(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Qi(o,t),l=Pi(t?.in||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Qi(l,t);return+r>=+s?n+1:+r>=+c?n:n-1}function no(e,t){const r=Hi(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=ro(e,t),i=Pi(t?.in||e,0);i.setFullYear(a,0,n),i.setHours(0,0,0,0);return Qi(i,t)}function ao(e,t){const r=Di(e,t?.in),n=+Qi(r,t)-+no(r,t);return Math.round(n/Ei)+1}function io(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const oo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return io("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):io(r+1,2)},d:(e,t)=>io(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>io(e.getHours()%12||12,t.length),H:(e,t)=>io(e.getHours(),t.length),m:(e,t)=>io(e.getMinutes(),t.length),s:(e,t)=>io(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return io(Math.trunc(n*Math.pow(10,r-3)),t.length)}},so="midnight",lo="noon",co="morning",uo="afternoon",fo="evening",ho="night",po={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,r,n){const a=ro(e,n),i=a>0?a:1-a;if("YY"===t){return io(i%100,2)}return"Yo"===t?r.ordinalNumber(i,{unit:"year"}):io(i,t.length)},R:function(e,t){return io(Zi(e),t.length)},u:function(e,t){return io(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return io(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return io(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return io(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=ao(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):io(a,t.length)},I:function(e,t,r){const n=to(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):io(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,r){const n=Xi(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):io(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return io(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return io(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return io(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?lo:0===n?so:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?fo:n>=12?uo:n>=4?co:ho,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):io(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):io(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return yo(n);case"XXXX":case"XX":return go(n);default:return go(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return yo(n);case"xxxx":case"xx":return go(n);default:return go(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mo(n,":");default:return"GMT"+go(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mo(n,":");default:return"GMT"+go(n,":")}},t:function(e,t,r){return io(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return io(+e,t.length)}};function mo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return 0===i?r+String(a):r+String(a)+t+io(i,2)}function yo(e,t){if(e%60===0){return(e>0?"-":"+")+io(Math.abs(e)/60,2)}return go(e,t)}function go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+io(Math.trunc(n/60),2)+t+io(n%60,2)}const vo=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},bo=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},xo={p:bo,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return vo(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",vo(n,t)).replace("{{time}}",bo(a,t))}},wo=/^D+$/,jo=/^Y+$/,_o=["D","DD","YY","YYYY"];function ko(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function No(e){return!(!ko(e)&&"number"!==typeof e||isNaN(+Di(e)))}const So=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eo=/^'([^]*?)'?$/,Co=/''/g,Ao=/[a-zA-Z]/;function To(e,t,r){const n=Hi(),a=r?.locale??n.locale??Ui,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Di(e,r?.in);if(!No(s))throw new RangeError("Invalid time value");let l=t.match(Oo).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,xo[t])(e,a.formatLong)}return e})).join("").match(So).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Po(e)};if(po[t])return{isToken:!0,value:e};if(t.match(Ao))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map((n=>{if(!n.isToken)return n.value;const i=n.value;(!r?.useAdditionalWeekYearTokens&&function(e){return jo.test(e)}(i)||!r?.useAdditionalDayOfYearTokens&&function(e){return wo.test(e)}(i))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),_o.includes(e))throw new RangeError(n)}(i,t,String(e));return(0,po[i[0]])(s,i,a.localize,c)})).join("")}function Po(e){const t=e.match(Eo);return t?t[1].replace(Co,"'"):e}function Do(e,t){const r=()=>Pi(t?.in,NaN),n=t?.additionalDigits??2,a=function(e){const t={},r=e.split(Mo.dateTimeDelimiter);let n;if(r.length>2)return t;/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Mo.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Mo.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length)));if(n){const e=Mo.timezone.exec(n);e?(t.time=n.replace(e[1],""),t.timezone=e[1]):t.time=n}return t}(e);let i;if(a.date){const e=function(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((n[1]||n[2]).length)}}(a.date,n);i=function(e,t){if(null===t)return new Date(NaN);const r=e.match(Io);if(!r)return new Date(NaN);const n=!!r[4],a=Fo(r[1]),i=Fo(r[2])-1,o=Fo(r[3]),s=Fo(r[4]),l=Fo(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,s,l)?function(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}(t,s,l):new Date(NaN);{const e=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(qo[t]||($o(e)?29:28))}(t,i,o)&&function(e,t){return t>=1&&t<=($o(e)?366:365)}(t,a)?(e.setUTCFullYear(t,i,Math.max(a,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return r();const o=+i;let s,l=0;if(a.time&&(l=function(e){const t=e.match(Lo);if(!t)return NaN;const r=Bo(t[1]),n=Bo(t[2]),a=Bo(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,a))return NaN;return r*Ai+n*Ci+1e3*a}(a.time),isNaN(l)))return r();if(!a.timezone){const e=new Date(o+l),r=Di(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return s=function(e){if("Z"===e)return 0;const t=e.match(Ro);if(!t)return 0;const r="+"===t[1]?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return r*(n*Ai+a*Ci)}(a.timezone),isNaN(s)?r():Di(o+l+s,t?.in)}const Mo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Io=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lo=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ro=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fo(e){return e?parseInt(e):1}function Bo(e){return e&&parseFloat(e.replace(",","."))||0}const qo=[31,null,31,30,31,30,31,31,30,31,30,31];function $o(e){return e%400===0||e%4===0&&e%100!==0}function Uo(e,t,r){const[n,a]=Vi(r?.in,e,t),i=zo(n,a),o=Math.abs(Yi(n,a));n.setDate(n.getDate()-i*o);const s=i*(o-Number(zo(n,a)===-i));return 0===s?0:s}function zo(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}let Ho={data:""},Wo=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ho,Vo=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ko=/\/\*[^]*?\*\/|  +/g,Yo=/\n+/g,Go=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];"@"==i[0]?"i"==i[1]?r=i+" "+o+";":n+="f"==i[1]?Go(o,i):i+"{"+Go(o,"k"==i[1]?"":t)+"}":"object"==typeof o?n+=Go(o,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=o&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Go.p?Go.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Xo={},Qo=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+Qo(e[r]);return t}return e};function Jo(e){let t=this||{},r=e.call?e(t.p):e;return((e,t,r,n,a)=>{let i=Qo(e),o=Xo[i]||(Xo[i]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(i));if(!Xo[o]){let t=i!==e?e:(e=>{let t,r,n=[{}];for(;t=Vo.exec(e.replace(Ko,""));)t[4]?n.shift():t[3]?(r=t[3].replace(Yo," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(Yo," ").trim();return n[0]})(e);Xo[o]=Go(a?{["@keyframes "+o]:t}:t,r?"":"."+o)}let s=r&&Xo.g?Xo.g:null;return r&&(Xo.g=Xo[o]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(Xo[o],t,n,s),o})(r.unshift?r.raw?((e,t,r)=>e.reduce(((e,n,a)=>{let i=t[a];if(i&&i.call){let e=i(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Go(e,""):!1===e?"":e}return e+n+(null==i?"":i)}),""))(r,[].slice.call(arguments,1),t.p):r.reduce(((e,r)=>Object.assign(e,r&&r.call?r(t.p):r)),{}):r,Wo(t.target),t.g,t.o,t.k)}Jo.bind({g:1});let Zo,es,ts,rs=Jo.bind({k:1});function ns(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let s=Object.assign({},i),l=s.className||a.className;r.p=Object.assign({theme:es&&es()},s),r.o=/ *go\d+/.test(l),s.className=Jo.apply(r,n)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),ts&&c[0]&&ts(s),Zo(c,s)}return t?t(a):a}}var as=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,is=(()=>{let e=0;return()=>(++e).toString()})(),os=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),ss=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:r}=t;return ss(e,{type:e.toasts.find((e=>e.id===r.id))?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},ls=[],cs={toasts:[],pausedAt:void 0},us=e=>{cs=ss(cs,e),ls.forEach((e=>{e(cs)}))},ds={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fs=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||is()}}(t,e,r);return us({type:2,toast:n}),n.id},hs=(e,t)=>fs("blank")(e,t);hs.error=fs("error"),hs.success=fs("success"),hs.loading=fs("loading"),hs.custom=fs("custom"),hs.dismiss=e=>{us({type:3,toastId:e})},hs.remove=e=>us({type:4,toastId:e}),hs.promise=(e,t,r)=>{let n=hs.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?as(t.success,e):void 0;return a?hs.success(a,{id:n,...r,...null==r?void 0:r.success}):hs.dismiss(n),e})).catch((e=>{let a=t.error?as(t.error,e):void 0;a?hs.error(a,{id:n,...r,...null==r?void 0:r.error}):hs.dismiss(n)})),e};var ps=(e,t)=>{us({type:1,toast:{id:e,height:t}})},ms=()=>{us({type:5,time:Date.now()})},ys=new Map,gs=e=>{let{toasts:t,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,o.useState)(cs),n=(0,o.useRef)(cs);(0,o.useEffect)((()=>(n.current!==cs&&r(cs),ls.push(r),()=>{let e=ls.indexOf(r);e>-1&&ls.splice(e,1)})),[]);let a=t.toasts.map((t=>{var r,n,a;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||ds[t.type],style:{...e.style,...null==(a=e[t.type])?void 0:a.style,...t.style}}}));return{...t,toasts:a}}(e);(0,o.useEffect)((()=>{if(r)return;let e=Date.now(),n=t.map((t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout((()=>hs.dismiss(t.id)),r);t.visible&&hs.dismiss(t.id)}));return()=>{n.forEach((e=>e&&clearTimeout(e)))}}),[t,r]);let n=(0,o.useCallback)((()=>{r&&us({type:6,time:Date.now()})}),[r]),a=(0,o.useCallback)(((e,r)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:i}=r||{},o=t.filter((t=>(t.position||i)===(e.position||i)&&t.height)),s=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<s&&e.visible)).length;return o.filter((e=>e.visible)).slice(...n?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[t]);return(0,o.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(ys.has(e))return;let r=setTimeout((()=>{ys.delete(e),us({type:4,toastId:e})}),t);ys.set(e,r)}(e.id,e.removeDelay);else{let t=ys.get(e.id);t&&(clearTimeout(t),ys.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:ps,startPause:ms,endPause:n,calculateOffset:a}}},vs=rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bs=rs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xs=rs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ws=ns("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bs} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xs} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,js=rs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_s=ns("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${js} 1s linear infinite;
`,ks=rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ns=rs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ss=ns("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ks} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ns} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Os=ns("div")`
  position: absolute;
`,Es=ns("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Cs=rs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,As=ns("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Cs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ts=e=>{let{toast:t}=e,{icon:r,type:n,iconTheme:a}=t;return void 0!==r?"string"==typeof r?o.createElement(As,null,r):r:"blank"===n?null:o.createElement(Es,null,o.createElement(_s,{...a}),"loading"!==n&&o.createElement(Os,null,"error"===n?o.createElement(ws,{...a}):o.createElement(Ss,{...a})))},Ps=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ds=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Ms=ns("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Is=ns("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ls=o.memo((e=>{let{toast:t,position:r,style:n,children:a}=e,i=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=os()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Ps(r),Ds(r)];return{animation:t?`${rs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${rs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||r||"top-center",t.visible):{opacity:0},s=o.createElement(Ts,{toast:t}),l=o.createElement(Is,{...t.ariaProps},as(t.message,t));return o.createElement(Ms,{className:t.className,style:{...i,...n,...t.style}},"function"==typeof a?a({icon:s,message:l}):o.createElement(o.Fragment,null,s,l))}));!function(e,t,r,n){Go.p=t,Zo=e,es=r,ts=n}(o.createElement);var Rs=e=>{let{id:t,className:r,style:n,onHeightUpdate:a,children:i}=e,s=o.useCallback((e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;a(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return o.createElement("div",{ref:s,className:r,style:n},i)},Fs=Jo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bs=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:n,gutter:a,children:i,containerStyle:s,containerClassName:l}=e,{toasts:c,handlers:u}=gs(n);return o.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let n=e.position||r,s=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:os()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}})(n,u.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:r}));return o.createElement(Rs,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Fs:"",style:s},"custom"===e.type?as(e.message,e):i?i(e):o.createElement(Ls,{toast:e,position:n}))})))},qs=hs;const $s=()=>{const[e,t]=(0,o.useState)(null);return{toast:e,showToast:(0,o.useCallback)((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"error"===r?(console.error(e),qs.error(e)):"success"===r?(console.log(e),qs.success(e)):"warning"===r?(console.warn(e),qs(e,{icon:"\u26a0\ufe0f",style:{backgroundColor:"#FEFCE8",color:"#854D0E"}})):(console.log(e),qs(e));const n=Date.now();t({id:n,message:e,type:r}),setTimeout((()=>{t((e=>e&&e.id===n?null:e))}),3e3)}),[])}};function Us(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Us(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const zs=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Us(e))&&(n&&(n+=" "),n+=t);return n};var Hs=r(9889),Ws=r.n(Hs),Vs=r(620),Ks=r.n(Vs),Ys=r(5268),Gs=r.n(Ys),Xs=r(3097),Qs=r.n(Xs),Js=r(9160),Zs=r.n(Js),el=function(e){return 0===e?0:e>0?1:-1},tl=function(e){return Ks()(e)&&e.indexOf("%")===e.length-1},rl=function(e){return Zs()(e)&&!Gs()(e)},nl=function(e){return rl(e)||Ks()(e)},al=0,il=function(e){var t=++al;return"".concat(e||"").concat(t)},ol=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!rl(e)&&!Ks()(e))return n;if(tl(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Gs()(r)&&(r=n),a&&r>t&&(r=t),r},sl=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ll=function(e,t){return rl(e)&&rl(t)?function(r){return e+r*(t-e)}:function(){return t}};function cl(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Qs()(e,t))===r})):null}var ul=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},dl=r(9686),fl=r.n(dl),hl=r(1629),pl=r.n(hl),ml=r(6686),yl=r.n(ml),gl=r(9062);function vl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function bl(e){return bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(e)}var xl=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wl=["points","pathLength"],jl={svg:["viewBox","children"],polygon:wl,polyline:wl},_l=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kl=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,o.isValidElement)(e)&&(r=e.props),!yl()(r))return null;var n={};return Object.keys(r).forEach((function(e){_l.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})})),n},Nl=function(e,t,r){if(!yl()(e)||"object"!==bl(e))return null;var n=null;return Object.keys(e).forEach((function(a){var i=e[a];_l.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))})),n},Sl=["children"],Ol=["children"];function El(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cl(e){return Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(e)}var Al={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tl=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Pl=null,Dl=null,Ml=function e(t){if(t===Pl&&Array.isArray(Dl))return Dl;var r=[];return o.Children.forEach(t,(function(t){fl()(t)||((0,gl.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),Dl=r,Pl=t,r};function Il(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map((function(e){return Tl(e)})):[Tl(t)],Ml(e).forEach((function(e){var t=Qs()(e,"type.displayName")||Qs()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function Ll(e,t){var r=Il(e,t);return r&&r[0]}var Rl=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!rl(r)||r<=0||!rl(n)||n<=0)},Fl=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bl=function(e){return e&&e.type&&Ks()(e.type)&&Fl.indexOf(e.type)>=0},ql=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,o.isValidElement)(e)&&(n=e.props),!yl()(n))return null;var a={};return Object.keys(n).forEach((function(e){var i;(function(e,t,r,n){var a,i=null!==(a=null===jl||void 0===jl?void 0:jl[n])&&void 0!==a?a:[];return!pl()(e)&&(n&&i.includes(t)||xl.includes(t))||r&&_l.includes(t)})(null===(i=n)||void 0===i?void 0:i[e],e,t,r)&&(a[e]=n[e])})),a},$l=function e(t,r){if(t===r)return!0;var n=o.Children.count(t);if(n!==o.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Ul(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Ul(i,s))return!1}return!0},Ul=function(e,t){if(fl()(e)&&fl()(t))return!0;if(!fl()(e)&&!fl()(t)){var r=e.props||{},n=r.children,a=El(r,Sl),i=t.props||{},o=i.children,s=El(i,Ol);return n&&o?vl(a,s)&&$l(n,o):!n&&!o&&vl(a,s)}return!1},zl=function(e,t){var r=[],n={};return Ml(e).forEach((function(e,a){if(Bl(e))r.push(e);else if(e){var i=Tl(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!n[i])){var c=s(e,i,a);r.push(c),n[i]=!0}}})),r};function Hl(e){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(e)}function Wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(r),!0).forEach((function(t){Kl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Hl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xl=(0,o.forwardRef)((function(e,t){var r=e.aspect,n=e.initialDimension,a=void 0===n?{width:-1,height:-1}:n,i=e.width,s=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,y=void 0===m?0:m,g=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,j=(0,o.useRef)(null),_=(0,o.useRef)();_.current=b,(0,o.useImperativeHandle)(t,(function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})}));var k=Yl((0,o.useState)({containerWidth:a.width,containerHeight:a.height}),2),N=k[0],S=k[1],O=(0,o.useCallback)((function(e,t){S((function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}}))}),[]);(0,o.useEffect)((function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;O(n,a),null===(t=_.current)||void 0===t||t.call(_,n,a)};y>0&&(e=Ws()(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=j.current.getBoundingClientRect(),n=r.width,a=r.height;return O(n,a),t.observe(j.current),function(){t.disconnect()}}),[O,y]);var E=(0,o.useMemo)((function(){var e=N.containerWidth,t=N.containerHeight;if(e<0||t<0)return null;ul(tl(s)||tl(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),ul(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=tl(s)?e:s,a=tl(c)?t:c;r&&r>0&&(n?a=n/r:a&&(n=a*r),h&&a>h&&(a=h)),ul(n>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,a,s,c,d,f,r);var i=!Array.isArray(p)&&Tl(p.type).endsWith("Chart");return o.Children.map(p,(function(e){return o.isValidElement(e)?(0,o.cloneElement)(e,Vl({width:n,height:a},i?{style:Vl({height:"100%",width:"100%",maxHeight:a,maxWidth:n},e.props.style)}:{})):e}))}),[r,p,c,h,f,d,N,s]);return o.createElement("div",{id:g?"".concat(g):void 0,className:zs("recharts-responsive-container",v),style:Vl(Vl({},w),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)})),Ql=r(6604),Jl=r.n(Ql),Zl=r(7424),ec=r.n(Zl),tc="Invariant failed";function rc(e,t){if(!e)throw new Error(tc)}var nc=["children","width","height","viewBox","className","style","title","desc"];function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function ic(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=ic(e,nc),d=a||{width:r,height:n,x:0,y:0},f=zs("recharts-surface",i);return o.createElement("svg",ac({},ql(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),o.createElement("title",null,l),o.createElement("desc",null,c),t)}var sc=["children","className"];function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}function cc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var uc=o.forwardRef((function(e,t){var r=e.children,n=e.className,a=cc(e,sc),i=zs("recharts-layer",n);return o.createElement("g",lc({className:i},ql(a,!0),{ref:t}),r)}));function dc(e){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(e)}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(this,arguments)}function hc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=dc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=dc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vc(e){return Array.isArray(e)&&nl(e[0])&&nl(e[1])?e.join(" ~ "):e}var bc=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,i=e.itemStyle,s=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,y=e.labelFormatter,g=e.accessibilityLayer,v=void 0!==g&&g,b=yc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=yc({margin:0},c),w=!fl()(m),j=w?m:"",_=zs("recharts-default-tooltip",h),k=zs("recharts-tooltip-label",p);w&&y&&void 0!==u&&null!==u&&(j=y(m,u));var N=v?{role:"status","aria-live":"assertive"}:{};return o.createElement("div",fc({className:_,style:b},N),o.createElement("p",{className:k,style:x},o.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(f?ec()(u,f):u).map((function(e,t){if("none"===e.type)return null;var n=yc({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||d||vc,i=e.value,l=e.name,c=i,f=l;if(a&&null!=c&&null!=f){var h=a(i,l,e,t,u);if(Array.isArray(h)){var p=hc(h,2);c=p[0],f=p[1]}else c=h}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},nl(f)?o.createElement("span",{className:"recharts-tooltip-item-name"},f):null,nl(f)?o.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,o.createElement("span",{className:"recharts-tooltip-item-value"},c),o.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return o.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function wc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=xc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jc="recharts-tooltip-wrapper",_c={visibility:"hidden"};function kc(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return zs(jc,wc(wc(wc(wc({},"".concat(jc,"-right"),rl(r)&&t&&rl(t.x)&&r>=t.x),"".concat(jc,"-left"),rl(r)&&t&&rl(t.x)&&r<t.x),"".concat(jc,"-bottom"),rl(n)&&t&&rl(t.y)&&n>=t.y),"".concat(jc,"-top"),rl(n)&&t&&rl(t.y)&&n<t.y))}function Nc(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&rl(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;return t[n]?o[n]?u:d:o[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+s>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function Sc(e){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(e)}function Oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(r),!0).forEach((function(t){Mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ic(n.key),n)}}function Ac(e,t,r){return t=Pc(t),function(e,t){if(t&&("object"===Sc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tc()?Reflect.construct(t,r||[],Pc(e).constructor):t.apply(e,r))}function Tc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tc=function(){return!!e})()}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pc(e)}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dc(e,t)}function Mc(e,t,r){return(t=Ic(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ic(e){var t=function(e,t){if("object"!=Sc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sc(t)?t:t+""}var Lc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Mc(e=Ac(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mc(e,"handleKeyDown",(function(t){var r,n,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}(t,e),r=t,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,f=t.position,h=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,y=t.wrapperStyle,g=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=Nc({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=Nc({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):_c,cssClasses:kc({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:f,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=g.cssClasses,b=g.cssProperties,x=Ec(Ec({transition:u&&r?"transform ".concat(a,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},y);return o.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&Cc(r.prototype,n),a&&Cc(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent),Rc={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Rc[e]},set:function(e,t){if("string"===typeof e)Rc[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){Rc[t]=e[t]}))}}},Fc=r(977),Bc=r.n(Fc);function qc(e,t,r){return!0===t?Bc()(e,r):pl()(t)?Bc()(e,t):e}function $c(e){return $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(e)}function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(r),!0).forEach((function(t){Gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xc(n.key),n)}}function Wc(e,t,r){return t=Kc(t),function(e,t){if(t&&("object"===$c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vc()?Reflect.construct(t,r||[],Kc(e).constructor):t.apply(e,r))}function Vc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vc=function(){return!!e})()}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(e)}function Yc(e,t){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yc(e,t)}function Gc(e,t,r){return(t=Xc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xc(e){var t=function(e,t){if("object"!=$c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$c(t)?t:t+""}function Qc(e){return e.dataKey}var Jc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wc(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yc(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,f=t.payload,h=t.payloadUniqBy,p=t.position,m=t.reverseDirection,y=t.useTranslate3d,g=t.viewBox,v=t.wrapperStyle,b=null!==f&&void 0!==f?f:[];c&&b.length&&(b=qc(f.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),h,Qc));var x=b.length>0;return o.createElement(Lc,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:r,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:y,viewBox:g,wrapperStyle:v},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):"function"===typeof e?o.createElement(e,t):o.createElement(bc,t)}(s,zc(zc({},this.props),{},{payload:b})))}}])&&Hc(r.prototype,n),a&&Hc(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);Gc(Jc,"displayName","Tooltip"),Gc(Jc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zc=r(643),eu=r.n(Zc);Math.abs,Math.atan2;const tu=Math.cos,ru=(Math.max,Math.min,Math.sin),nu=Math.sqrt,au=Math.PI,iu=2*au;const ou={draw(e,t){const r=nu(t/au);e.moveTo(r,0),e.arc(0,0,r,0,iu)}},su={draw(e,t){const r=nu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lu=nu(1/3),cu=2*lu,uu={draw(e,t){const r=nu(t/cu),n=r*lu;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},du={draw(e,t){const r=nu(t),n=-r/2;e.rect(n,n,r,r)}},fu=ru(au/10)/ru(7*au/10),hu=ru(iu/10)*fu,pu=-tu(iu/10)*fu,mu={draw(e,t){const r=nu(.8908130915292852*t),n=hu*r,a=pu*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=iu*i/5,o=tu(t),s=ru(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},yu=nu(3),gu={draw(e,t){const r=-nu(t/(3*yu));e.moveTo(0,2*r),e.lineTo(-yu*r,-r),e.lineTo(yu*r,-r),e.closePath()}},vu=-.5,bu=nu(3)/2,xu=1/nu(12),wu=3*(xu/2+1),ju={draw(e,t){const r=nu(t/wu),n=r/2,a=r*xu,i=n,o=r*xu+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(vu*n-bu*a,bu*n+vu*a),e.lineTo(vu*i-bu*o,bu*i+vu*o),e.lineTo(vu*s-bu*l,bu*s+vu*l),e.lineTo(vu*n+bu*a,vu*a-bu*n),e.lineTo(vu*i+bu*o,vu*o-bu*i),e.lineTo(vu*s+bu*l,vu*l-bu*s),e.closePath()}};function _u(e){return function(){return e}}const ku=Math.PI,Nu=2*ku,Su=1e-6,Ou=Nu-Su;function Eu(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Cu{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Eu:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Eu;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Su)if(Math.abs(u*s-l*c)>Su&&a){let f=r-i,h=n-o,p=s*s+l*l,m=f*f+h*h,y=Math.sqrt(p),g=Math.sqrt(d),v=a*Math.tan((ku-Math.acos((p+d-m)/(2*y*g)))/2),b=v/g,x=v/y;Math.abs(b-1)>Su&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*f>c*h)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Su||Math.abs(this._y1-c)>Su)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Nu+Nu),d>Ou?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>Su&&this._append`A${r},${r},0,${+(d>=ku)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Au(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Cu(t)}nu(3),nu(3);function Tu(e){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(e)}var Pu=["type","size","sizeType"];function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}function Mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(r),!0).forEach((function(t){Lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Tu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ru(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Fu={symbolCircle:ou,symbolCross:su,symbolDiamond:uu,symbolSquare:du,symbolStar:mu,symbolTriangle:gu,symbolWye:ju},Bu=Math.PI/180,qu=function(e){var t=e.type,r=void 0===t?"circle":t,n=e.size,a=void 0===n?64:n,i=e.sizeType,s=void 0===i?"area":i,l=Iu(Iu({},Ru(e,Pu)),{},{type:r,size:a,sizeType:s}),c=l.className,u=l.cx,d=l.cy,f=ql(l,!0);return u===+u&&d===+d&&a===+a?o.createElement("path",Du({},f,{className:zs("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(eu()(e));return Fu[t]||ou}(r),t=function(e,t){let r=null,n=Au(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:_u(e||ou),t="function"===typeof t?t:_u(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:_u(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:_u(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Bu;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,s,r));return t()}()})):null};function $u(e){return $u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xu(n.key),n)}}function Wu(e,t,r){return t=Ku(t),function(e,t){if(t&&("object"===$u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vu()?Reflect.construct(t,r||[],Ku(e).constructor):t.apply(e,r))}function Vu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vu=function(){return!!e})()}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ku(e)}function Yu(e,t){return Yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yu(e,t)}function Gu(e,t,r){return(t=Xu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e){var t=function(e,t){if("object"!=$u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$u(t)?t:t+""}qu.registerSymbol=function(e,t){Fu["symbol".concat(eu()(e))]=t};var Qu=32,Ju=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wu(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yu(e,t)}(t,e),r=t,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Qu/6,a=Qu/3,i=e.inactive?t:e.color;if("plainline"===e.type)return o.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Qu,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return o.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Qu,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return o.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Qu,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zu(Object(r),!0).forEach((function(t){Gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete s.legendIcon,o.cloneElement(e.legendIcon,s)}return o.createElement(qu,{fill:i,cx:r,cy:r,size:Qu,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:Qu,height:Qu},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var a=t.formatter||i,d=zs(Gu(Gu({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var f=pl()(t.value)?null:t.value;ul(!pl()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return o.createElement("li",Uu({className:d,style:c,key:"legend-item-".concat(r)},Nl(e.props,t,r)),o.createElement(oc,{width:n,height:n,viewBox:l,style:u},e.renderIcon(t)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},a?a(f,t,r):f))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],n&&Hu(r.prototype,n),a&&Hu(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);function Zu(e){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(e)}Gu(Ju,"displayName","Legend"),Gu(Ju,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ed=["ref"];function td(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?td(Object(r),!0).forEach((function(t){ld(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):td(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cd(n.key),n)}}function ad(e,t,r){return t=od(t),function(e,t){if(t&&("object"===Zu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,id()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function id(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(id=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},od(e)}function sd(e,t){return sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sd(e,t)}function ld(e,t,r){return(t=cd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cd(e){var t=function(e,t){if("object"!=Zu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zu(t)?t:t+""}function ud(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dd(e){return e.value}var fd=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ld(e=ad(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sd(e,t)}(t,e),r=t,a=[{key:"getWithHeight",value:function(e,t){var r=rd(rd({},this.defaultProps),e.props).layout;return"vertical"===r&&rl(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),rd(rd({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=rd(rd({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return o.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(o.isValidElement(e))return o.cloneElement(e,t);if("function"===typeof e)return o.createElement(e,t);t.ref;var r=ud(t,ed);return o.createElement(Ju,r)}(r,rd(rd({},this.props),{},{payload:qc(l,s,dd)})))}}])&&nd(r.prototype,n),a&&nd(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}ld(fd,"displayName","Legend"),ld(fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pd=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,i=zs("recharts-dot",a);return t===+t&&r===+r&&n===+n?o.createElement("circle",hd({},ql(e,!1),kl(e),{className:i,cx:t,cy:r,r:n})):null},md=r(5173),yd=r.n(md),gd=Object.getOwnPropertyNames,vd=Object.getOwnPropertySymbols,bd=Object.prototype.hasOwnProperty;function xd(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function wd(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function jd(e){return gd(e).concat(vd(e))}var _d=Object.hasOwn||function(e,t){return bd.call(e,t)};function kd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Nd=Object.getOwnPropertyDescriptor,Sd=Object.keys;function Od(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Ed(e,t){return kd(e.getTime(),t.getTime())}function Cd(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ad(e,t){return e===t}function Td(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var f=a.value,h=i.value;if(r.equals(f[0],h[0],l,d,e,t,r)&&r.equals(f[1],h[1],f[0],h[0],e,t,r)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Pd=kd;function Dd(e,t,r){var n=Sd(e),a=n.length;if(Sd(t).length!==a)return!1;for(;a-- >0;)if(!qd(e,t,r,n[a]))return!1;return!0}function Md(e,t,r){var n,a,i,o=jd(e),s=o.length;if(jd(t).length!==s)return!1;for(;s-- >0;){if(!qd(e,t,r,n=o[s]))return!1;if(a=Nd(e,n),i=Nd(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Id(e,t){return kd(e.valueOf(),t.valueOf())}function Ld(e,t){return e.source===t.source&&e.flags===t.flags}function Rd(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Fd(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Bd(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function qd(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||_d(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var $d=Array.isArray,Ud="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,zd=Object.assign,Hd=Object.prototype.toString.call.bind(Object.prototype.toString);var Wd=Vd();Vd({strict:!0}),Vd({circular:!0}),Vd({circular:!0,strict:!0}),Vd({createInternalComparator:function(){return kd}}),Vd({strict:!0,createInternalComparator:function(){return kd}}),Vd({circular:!0,createInternalComparator:function(){return kd}}),Vd({circular:!0,createInternalComparator:function(){return kd},strict:!0});function Vd(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Md:Od,areDatesEqual:Ed,areErrorsEqual:Cd,areFunctionsEqual:Ad,areMapsEqual:n?xd(Td,Md):Td,areNumbersEqual:Pd,areObjectsEqual:n?Md:Dd,arePrimitiveWrappersEqual:Id,areRegExpsEqual:Ld,areSetsEqual:n?xd(Rd,Md):Rd,areTypedArraysEqual:n?Md:Fd,areUrlsEqual:Bd};if(r&&(a=zd({},a,r(a))),t){var i=wd(a.areArraysEqual),o=wd(a.areMapsEqual),s=wd(a.areObjectsEqual),l=wd(a.areSetsEqual);a=zd({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,h,p){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?o(e,h,p):"function"===m&&a(e,h,p);var y=e.constructor;if(y!==h.constructor)return!1;if(y===Object)return s(e,h,p);if($d(e))return t(e,h,p);if(null!=Ud&&Ud(e))return d(e,h,p);if(y===Date)return r(e,h,p);if(y===RegExp)return c(e,h,p);if(y===Map)return i(e,h,p);if(y===Set)return u(e,h,p);var g=Hd(e);return"[object Date]"===g?r(e,h,p):"[object RegExp]"===g?c(e,h,p):"[object Map]"===g?i(e,h,p):"[object Set]"===g?u(e,h,p):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof h.then&&s(e,h,p):"[object URL]"===g?f(e,h,p):"[object Error]"===g?n(e,h,p):"[object Arguments]"===g?s(e,h,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,h,p)}}(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return r(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:i,equals:a?a(c):(t=c,function(e,r,n,a,i,o,s){return t(e,r,s)}),strict:s})}function Kd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function Yd(e){return Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(e)}function Gd(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Xd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qd(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=Gd(n),i=a[0],o=a.slice(1);return"number"===typeof i?void Kd(r.bind(null,o),i):(r(i),void Kd(r.bind(null,o)))}"object"===Yd(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Jd(e){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(e)}function Zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(r),!0).forEach((function(t){tf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tf(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Jd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Jd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jd(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rf=function(e){return e},nf=function(e,t){return Object.keys(t).reduce((function(r,n){return ef(ef({},r),{},tf({},n,e(n,t[n])))}),{})},af=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||lf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sf(e){return function(e){if(Array.isArray(e))return cf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lf(e,t){if(e){if("string"===typeof e)return cf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cf(e,t):void 0}}function cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uf=1e-4,df=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},ff=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},hf=function(e,t){return function(r){var n=df(e,t);return ff(n,r)}},pf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=of(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);n=l[0],a=l[1],i=l[2],o=l[3]}}[n,i,a,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,u,d=hf(n,i),f=hf(a,o),h=(c=n,u=i,function(e){var t=df(c,u),r=[].concat(sf(t.map((function(e,t){return e*t})).slice(1)),[0]);return ff(r,e)}),p=function(e){for(var t,r=e>1?1:e,n=r,a=0;a<8;++a){var i=d(n)-r,o=h(n);if(Math.abs(i-r)<uf||o<uf)return f(n);n=(t=n-i/o)>1?1:t<0?0:t}return f(n)};return p.isStepper=!1,p},mf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pf(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,o=void 0===i?17:i,s=function(e,t,n){var i=n+(-(e-t)*r-n*a)*o/1e3,s=n*o/1e3+e;return Math.abs(s-t)<uf&&Math.abs(i)<uf?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===n.split("(")[0])return pf(n)}return"function"===typeof n?n:null};function yf(e){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(e)}function gf(e){return function(e){if(Array.isArray(e))return _f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(r),!0).forEach((function(t){xf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xf(e,t,r){return t=function(e){var t=function(e,t){if("object"!==yf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==yf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||jf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){if(e){if("string"===typeof e)return _f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_f(e,t):void 0}}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kf=function(e,t,r){return e+(t-e)*r},Nf=function(e){return e.from!==e.to},Sf=function e(t,r,n){var a=nf((function(e,r){if(Nf(r)){var n=wf(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return bf(bf({},r),{},{from:a,velocity:i})}return r}),r);return n<1?nf((function(e,t){return Nf(t)?bf(bf({},t),{},{velocity:kf(t.velocity,a[e].velocity,n),from:kf(t.from,a[e].from,n)}):t}),r):e(t,a,n-1)};const Of=function(e,t,r,n,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(r,n){return bf(bf({},r),{},xf({},n,[e[n],t[n]]))}),{}),d=c.reduce((function(r,n){return bf(bf({},r),{},xf({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),f=-1,h=function(){return null};return h=r.isStepper?function(n){s||(s=n);var i=(n-s)/r.dt;d=Sf(r,d,i),a(bf(bf(bf({},e),t),nf((function(e,t){return t.from}),d))),s=n,Object.values(d).filter(Nf).length&&(f=requestAnimationFrame(h))}:function(i){l||(l=i);var o=(i-l)/n,s=nf((function(e,t){return kf.apply(void 0,gf(t).concat([r(o)]))}),u);if(a(bf(bf(bf({},e),t),s)),o<1)f=requestAnimationFrame(h);else{var c=nf((function(e,t){return kf.apply(void 0,gf(t).concat([r(1)]))}),u);a(bf(bf(bf({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}};function Ef(e){return Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(e)}var Cf=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Af(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tf(e){return function(e){if(Array.isArray(e))return Pf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Df(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(r),!0).forEach((function(t){If(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Df(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function If(e,t,r){return(t=Rf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rf(n.key),n)}}function Rf(e){var t=function(e,t){if("object"!==Ef(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ef(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ef(t)?t:String(t)}function Ff(e,t){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ff(e,t)}function Bf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(KR){return!1}}();return function(){var r,n=Uf(e);if(t){var a=Uf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return qf(this,r)}}function qf(e,t){if(t&&("object"===Ef(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $f(e)}function $f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uf(e)}var zf=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ff(e,t)}(i,e);var t,r,n,a=Bf(i);function i(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(r=a.call(this,e,t)).props,o=n.isActive,s=n.attributeName,l=n.from,c=n.to,u=n.steps,d=n.children,f=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind($f(r)),r.changeStyle=r.changeStyle.bind($f(r)),!o||f<=0)return r.state={style:{}},"function"===typeof d&&(r.state={style:c}),qf(r);if(u&&u.length)r.state={style:u[0].style};else if(l){if("function"===typeof d)return r.state={style:l},qf(r);r.state={style:s?If({},s,l):l}}else r.state={style:{}};return r}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(Wd(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?If({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(Mf(Mf({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?If({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=Of(r,n,mf(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(Tf(r.reduce((function(e,n,a){if(0===a)return e;var i=n.duration,o=n.easing,s=void 0===o?"ease":o,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,f=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Tf(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var h=af(f,i,s),p=Mf(Mf(Mf({},d.style),l),{},{transition:h});return[].concat(Tf(e),[p,i,u]).filter(rf)}),[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Qd());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?If({},n,a):a,f=af(Object.keys(d),r,i);u.start([o,t,Mf(Mf({},d),{},{transition:f}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Af(e,Cf)),i=o.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!n||0===i||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,i=t.className;return(0,o.cloneElement)(e,Mf(Mf({},a),{},{style:Mf(Mf({},n),s),className:i}))};return 1===i?l(o.Children.only(t)):o.createElement("div",null,o.Children.map(t,(function(e){return l(e)})))}}])&&Lf(t.prototype,r),n&&Lf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);zf.displayName="Animate",zf.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},zf.propTypes={from:yd().oneOfType([yd().object,yd().string]),to:yd().oneOfType([yd().object,yd().string]),attributeName:yd().string,duration:yd().number,begin:yd().number,easing:yd().oneOfType([yd().string,yd().func]),steps:yd().arrayOf(yd().shape({duration:yd().number.isRequired,style:yd().object.isRequired,easing:yd().oneOfType([yd().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yd().func]),properties:yd().arrayOf("string"),onAnimationEnd:yd().func})),children:yd().oneOfType([yd().node,yd().func]),isActive:yd().bool,canBegin:yd().bool,onAnimationEnd:yd().func,shouldReAnimate:yd().bool,onAnimationStart:yd().func,onAnimationReStart:yd().func};const Hf=zf;function Wf(e){return Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}function Kf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Yf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(r),!0).forEach((function(t){Qf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Wf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jf=function(e,t,r,n,a){var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+r-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*f,"\n            L ").concat(e+r,",").concat(t+n-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,"\n            L ").concat(e+l*f,",").concat(t+n,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},Zf=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return r>=l&&r<=c&&n>=u&&n<=d}return!1},eh={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},th=function(e){var t=Xf(Xf({},eh),e),r=(0,o.useRef)(),n=Kf((0,o.useState)(-1),2),a=n[0],i=n[1];(0,o.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,f=t.className,h=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=zs("recharts-rectangle",f);return g?o.createElement(Hf,{canBegin:a>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:h,isActive:g},(function(e){var n=e.width,i=e.height,s=e.x,l=e.y;return o.createElement(Hf,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:y,easing:h},o.createElement("path",Vf({},ql(t,!0),{className:v,d:Jf(s,l,n,i,d),ref:r})))})):o.createElement("path",Vf({},ql(t,!0),{className:v,d:Jf(s,l,c,u,d)}))};function rh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function nh(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class ah extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lh;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(ih(this,e))}has(e){return super.has(ih(this,e))}set(e,t){return super.set(oh(this,e),t)}delete(e){return super.delete(sh(this,e))}}Set;function ih(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function oh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function sh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function lh(e){return null!==e&&"object"===typeof e?e.valueOf():e}const ch=Symbol("implicit");function uh(){var e=new ah,t=[],r=[],n=ch;function a(a){let i=e.get(a);if(void 0===i){if(n!==ch)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new ah;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return uh(t,r).unknown(n)},rh.apply(a,arguments),a}function dh(){var e,t,r=uh().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,f=d?o:i,h=d?i:o;e=(h-f)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),f+=(h-f-e*(r-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map((function(t){return f+e*t}));return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return dh(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},rh.apply(d(),arguments)}function fh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fh(t())},e}function hh(){return fh(dh.apply(null,arguments).paddingInner(1))}function ph(e){return ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(e)}function mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(r),!0).forEach((function(t){gh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ph(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ph(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ph(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vh={widthCache:{},cacheCount:0},bh={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xh="recharts_measurement_span";var wh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Rc.isSsr)return{width:0,height:0};var r=function(e){var t=yh({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(vh.widthCache[n])return vh.widthCache[n];try{var a=document.getElementById(xh);a||((a=document.createElement("span")).setAttribute("id",xh),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=yh(yh({},bh),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return vh.widthCache[n]=s,++vh.cacheCount>2e3&&(vh.cacheCount=0,vh.widthCache={}),s}catch(KR){return{width:0,height:0}}};function jh(e){return jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(e)}function _h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sh(n.key),n)}}function Sh(e){var t=function(e,t){if("object"!=jh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jh(t)?t:t+""}var Oh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Eh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ch=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ah=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Th={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ph=Object.keys(Th),Dh="NaN";var Mh=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Ch.test(r)||(this.num=NaN,this.unit=""),Ph.includes(r)&&(this.num=function(e,t){return e*Th[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=_h(null!==(r=Ah.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Nh(t.prototype,r),n&&Nh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Ih(e){if(e.includes(Dh))return Dh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=_h(null!==(r=Oh.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],o=n[3],s=Mh.parse(null!==a&&void 0!==a?a:""),l=Mh.parse(null!==o&&void 0!==o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return Dh;t=t.replace(Oh,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=_h(null!==(u=Eh.exec(t))&&void 0!==u?u:[],4),f=d[1],h=d[2],p=d[3],m=Mh.parse(null!==f&&void 0!==f?f:""),y=Mh.parse(null!==p&&void 0!==p?p:""),g="+"===h?m.add(y):m.subtract(y);if(g.isNaN())return Dh;t=t.replace(Eh,g.toString())}return t}var Lh=/\(([^()]*)\)/;function Rh(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=_h(Lh.exec(t),2)[1];t=t.replace(Lh,Ih(r))}return t}(t),t=Ih(t)}function Fh(e){var t=function(e){try{return Rh(e)}catch(KR){return Dh}}(e.slice(5,-1));return t===Dh?"":t}var Bh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qh=["dx","dy","angle","className","breakAll"];function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function Uh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wh=/[ \f\n\r\t\v\u2028\u2029]+/,Vh=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return fl()(t)||(a=r?t.toString().split(""):t.toString().split(Wh)),{wordsWithComputedWidth:a.map((function(e){return{word:e,width:wh(e,n).width}})),spaceWidth:r?0:wh("\xa0",n).width}}catch(KR){return null}},Kh=function(e){return[{words:fl()(e)?[]:e.toString().split(Wh)}]},Yh=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!Rc.isSsr){var s=Vh({breakAll:i,children:n,style:a});return s?function(e,t,r,n,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=rl(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e}),[])},f=d(t);if(!c)return f;for(var h,p=function(e){var t=u.slice(0,e),r=Vh({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r),o=a.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(a).width>Number(n);return[o,a]},m=0,y=u.length-1,g=0;m<=y&&g<=u.length-1;){var v=Math.floor((m+y)/2),b=zh(p(v-1),2),x=b[0],w=b[1],j=zh(p(v),1)[0];if(x||j||(m=v+1),x&&j&&(y=v-1),!x&&j){h=w;break}g++}return h||f}({breakAll:i,children:n,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,r):Kh(n)}return Kh(n)},Gh="#808080",Xh=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.lineHeight,s=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,f=e.textAnchor,h=void 0===f?"start":f,p=e.verticalAnchor,m=void 0===p?"end":p,y=e.fill,g=void 0===y?Gh:y,v=Uh(e,Bh),b=(0,o.useMemo)((function(){return Yh({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,j=v.angle,_=v.className,k=v.breakAll,N=Uh(v,qh);if(!nl(r)||!nl(a))return null;var S,O=r+(rl(x)?x:0),E=a+(rl(w)?w:0);switch(m){case"start":S=Fh("calc(".concat(c,")"));break;case"middle":S=Fh("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:S=Fh("calc(".concat(b.length-1," * -").concat(s,")"))}var C=[];if(d){var A=b[0].width,T=v.width;C.push("scale(".concat((rl(T)?T/A:1)/A,")"))}return j&&C.push("rotate(".concat(j,", ").concat(O,", ").concat(E,")")),C.length&&(N.transform=C.join(" ")),o.createElement("text",$h({},ql(N,!0),{x:O,y:E,className:zs("recharts-text",_),textAnchor:h,fill:g.includes("url")?Gh:g}),b.map((function(e,t){var r=e.words.join(k?"":" ");return o.createElement("tspan",{x:O,dy:0===t?S:s,key:"".concat(r,"-").concat(t)},r)})))};const Qh=Math.sqrt(50),Jh=Math.sqrt(10),Zh=Math.sqrt(2);function ep(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Qh?10:i>=Jh?5:i>=Zh?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?ep(e,t,2*r):[s,l,c]}function tp(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?ep(t,e,r):ep(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function rp(e,t,r){return ep(e=+e,t=+t,r=+r)[2]}function np(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?rp(t,e,r):rp(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ap(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ip(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function op(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=ap,r=(t,r)=>ap(e(t),r),n=(t,r)=>e(t)-r):(t=e===ap||e===ip?e:sp,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function sp(){return 0}function lp(e){return null===e?NaN:+e}const cp=op(ap),up=cp.right,dp=(cp.left,op(lp).center,up);function fp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hp(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function pp(){}var mp=.7,yp=1/mp,gp="\\s*([+-]?\\d+)\\s*",vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xp=/^#([0-9a-f]{3,8})$/,wp=new RegExp(`^rgb\\(${gp},${gp},${gp}\\)$`),jp=new RegExp(`^rgb\\(${bp},${bp},${bp}\\)$`),_p=new RegExp(`^rgba\\(${gp},${gp},${gp},${vp}\\)$`),kp=new RegExp(`^rgba\\(${bp},${bp},${bp},${vp}\\)$`),Np=new RegExp(`^hsl\\(${vp},${bp},${bp}\\)$`),Sp=new RegExp(`^hsla\\(${vp},${bp},${bp},${vp}\\)$`),Op={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ep(){return this.rgb().formatHex()}function Cp(){return this.rgb().formatRgb()}function Ap(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xp.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Tp(t):3===r?new Mp(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Pp(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Pp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=wp.exec(e))?new Mp(t[1],t[2],t[3],1):(t=jp.exec(e))?new Mp(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_p.exec(e))?Pp(t[1],t[2],t[3],t[4]):(t=kp.exec(e))?Pp(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Np.exec(e))?qp(t[1],t[2]/100,t[3]/100,1):(t=Sp.exec(e))?qp(t[1],t[2]/100,t[3]/100,t[4]):Op.hasOwnProperty(e)?Tp(Op[e]):"transparent"===e?new Mp(NaN,NaN,NaN,0):null}function Tp(e){return new Mp(e>>16&255,e>>8&255,255&e,1)}function Pp(e,t,r,n){return n<=0&&(e=t=r=NaN),new Mp(e,t,r,n)}function Dp(e,t,r,n){return 1===arguments.length?function(e){return e instanceof pp||(e=Ap(e)),e?new Mp((e=e.rgb()).r,e.g,e.b,e.opacity):new Mp}(e):new Mp(e,t,r,null==n?1:n)}function Mp(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Ip(){return`#${Bp(this.r)}${Bp(this.g)}${Bp(this.b)}`}function Lp(){const e=Rp(this.opacity);return`${1===e?"rgb(":"rgba("}${Fp(this.r)}, ${Fp(this.g)}, ${Fp(this.b)}${1===e?")":`, ${e})`}`}function Rp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bp(e){return((e=Fp(e))<16?"0":"")+e.toString(16)}function qp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Up(e,t,r,n)}function $p(e){if(e instanceof Up)return new Up(e.h,e.s,e.l,e.opacity);if(e instanceof pp||(e=Ap(e)),!e)return new Up;if(e instanceof Up)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Up(o,s,l,e.opacity)}function Up(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function zp(e){return(e=(e||0)%360)<0?e+360:e}function Hp(e){return Math.max(0,Math.min(1,e||0))}function Wp(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Vp(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}fp(pp,Ap,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ep,formatHex:Ep,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $p(this).formatHsl()},formatRgb:Cp,toString:Cp}),fp(Mp,Dp,hp(pp,{brighter(e){return e=null==e?yp:Math.pow(yp,e),new Mp(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?mp:Math.pow(mp,e),new Mp(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mp(Fp(this.r),Fp(this.g),Fp(this.b),Rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ip,formatHex:Ip,formatHex8:function(){return`#${Bp(this.r)}${Bp(this.g)}${Bp(this.b)}${Bp(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Lp,toString:Lp})),fp(Up,(function(e,t,r,n){return 1===arguments.length?$p(e):new Up(e,t,r,null==n?1:n)}),hp(pp,{brighter(e){return e=null==e?yp:Math.pow(yp,e),new Up(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?mp:Math.pow(mp,e),new Up(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Mp(Wp(e>=240?e-240:e+120,a,n),Wp(e,a,n),Wp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Up(zp(this.h),Hp(this.s),Hp(this.l),Rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rp(this.opacity);return`${1===e?"hsl(":"hsla("}${zp(this.h)}, ${100*Hp(this.s)}%, ${100*Hp(this.l)}%${1===e?")":`, ${e})`}`}}));const Kp=e=>()=>e;function Yp(e,t){return function(r){return e+r*t}}function Gp(e){return 1===(e=+e)?Xp:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Kp(isNaN(t)?r:t)}}function Xp(e,t){var r=t-e;return r?Yp(e,r):Kp(isNaN(e)?t:e)}const Qp=function e(t){var r=Gp(t);function n(e,t){var n=r((e=Dp(e)).r,(t=Dp(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=Xp(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Jp(e){return function(t){var r,n,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=Dp(t[r]),i[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return i=e(i),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=o(e),n.b=s(e),n+""}}}Jp((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return Vp((r-n/t)*t,o,a,i,s)}})),Jp((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return Vp((r-n/t)*t,a,i,o,s)}}));function Zp(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=sm(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function em(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rm(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=sm(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,am=new RegExp(nm.source,"g");function im(e,t){var r,n,a,i=nm.lastIndex=am.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=nm.exec(e))&&(n=am.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:tm(r,n)})),i=am.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function om(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function sm(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?Kp(t):("number"===a?tm:"string"===a?(r=Ap(t))?(t=r,Qp):im:t instanceof Ap?Qp:t instanceof Date?em:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Zp:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?rm:tm:om))(e,t)}function lm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cm(e){return+e}var um=[0,1];function dm(e){return e}function fm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function hm(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=fm(a,n),i=r(o,i)):(n=fm(n,a),i=r(i,o)),function(e){return i(n(e))}}function pm(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=fm(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=dp(e,t,1,n)-1;return i[r](a[r](t))}}function mm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ym(){var e,t,r,n,a,i,o=um,s=um,l=sm,c=dm;function u(){var e=Math.min(o.length,s.length);return c!==dm&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?pm:hm,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),tm)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,cm),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=lm,u()},d.clamp=function(e){return arguments.length?(c=!!e||dm,u()):c!==dm},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function gm(){return ym()(dm,dm)}var vm,bm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xm(e){if(!(t=bm.exec(e)))throw new Error("invalid format: "+e);var t;return new wm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function wm(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function jm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _m(e){return(e=jm(Math.abs(e)))?e[1]:NaN}function km(e,t){var r=jm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}xm.prototype=wm.prototype,wm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Nm={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>km(100*e,t),r:km,s:function(e,t){var r=jm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(vm=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+jm(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Sm(e){return e}var Om,Em,Cm,Am=Array.prototype.map,Tm=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Pm(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Sm:(t=Am.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Sm:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Am.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=xm(e)).fill,r=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Nm[v]||(void 0===y&&(y=12),g=!0,v="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?i:/[%p]/.test(v)?l:"",w=Nm[v],j=/[defgprs%]/.test(v);function _(e){var a,i,l,f=b,_=x;if("c"===v)_=w(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),y),g&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),f=(k?"("===d?d:c:"-"===d||"("===d?"":d)+f,_=("s"===v?Tm[8+vm/3]:"")+_+(k&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){_=(46===l?o+e.slice(a+1):e.slice(a))+_,e=e.slice(0,a);break}}m&&!h&&(e=n(e,1/0));var N=f.length+e.length+_.length,S=N<p?new Array(p-N+1).join(t):"";switch(m&&h&&(e=n(S+e,S.length?p-_.length:1/0),S=""),r){case"<":e=f+e+_+S;break;case"=":e=f+S+e+_;break;case"^":e=S.slice(0,N=S.length>>1)+f+e+_+S.slice(N);break;default:e=S+f+e+_}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var r=d(((e=xm(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(_m(t)/3))),a=Math.pow(10,-n),i=Tm[8+n/3];return function(e){return r(a*e)+i}}}}function Dm(e,t,r,n){var a,i=np(e,t,r);switch((n=xm(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_m(t)/3)))-_m(Math.abs(e)))}(i,o))||(n.precision=a),Cm(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_m(t)-_m(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-_m(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return Em(n)}function Mm(e){var t=e.domain;return e.ticks=function(e){var r=t();return tp(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Dm(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=rp(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Im(){var e=gm();return e.copy=function(){return mm(e,Im())},rh.apply(e,arguments),Mm(e)}function Lm(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,cm),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Lm(e).unknown(t)},e=arguments.length?Array.from(e,cm):[0,1],Mm(r)}function Rm(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function Fm(e){return Math.log(e)}function Bm(e){return Math.exp(e)}function qm(e){return-Math.log(-e)}function $m(e){return-Math.exp(-e)}function Um(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zm(e){return(t,r)=>-e(-t,r)}function Hm(e){const t=e(Fm,Bm),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Um:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=zm(n),a=zm(a),e(qm,$m)):e(Fm,Bm),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),f=n(s);const h=null==e?10:+e;let p=[];if(!(i%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<h&&(p=tp(o,s,h))}else p=tp(d,f,Math.min(f-d,h)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=xm(r)).precision||(r.trim=!0),r=Em(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(Rm(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Wm(){const e=Hm(ym()).domain([1,10]);return e.copy=()=>mm(e,Wm()).base(e.base()),rh.apply(e,arguments),e}function Vm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Km(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ym(e){var t=1,r=e(Vm(t),Km(t));return r.constant=function(r){return arguments.length?e(Vm(t=+r),Km(t)):t},Mm(r)}function Gm(){var e=Ym(ym());return e.copy=function(){return mm(e,Gm()).constant(e.constant())},rh.apply(e,arguments)}function Xm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jm(e){return e<0?-e*e:e*e}function Zm(e){var t=e(dm,dm),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(dm,dm):.5===r?e(Qm,Jm):e(Xm(r),Xm(1/r)):r},Mm(t)}function ey(){var e=Zm(ym());return e.copy=function(){return mm(e,ey()).exponent(e.exponent())},rh.apply(e,arguments),e}function ty(){return ey.apply(null,arguments).exponent(.5)}function ry(e){return Math.sign(e)*e*e}function ny(){var e,t=gm(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(ry(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,cm)).map(ry)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return ny(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},rh.apply(a,arguments),Mm(a)}function ay(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function iy(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function oy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ap;if(e===ap)return sy;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function sy(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function ly(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?sy:oy(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);ly(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(cy(e,r,t),a(e[n],i)>0&&cy(e,r,n);o<s;){for(cy(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?cy(e,r,s):(++s,cy(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function cy(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function uy(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return iy(e);if(t>=1)return ay(e);var n,a=(n-1)*t,i=Math.floor(a),o=ay(ly(e,i).subarray(0,i+1));return o+(iy(e.subarray(i+1))-o)*(a-i)}}function dy(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lp;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function fy(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=dy(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[dp(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(ap),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return fy().domain(t).range(r).unknown(e)},rh.apply(i,arguments)}function hy(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[dp(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return hy().domain([t,r]).range(i).unknown(e)},rh.apply(Mm(o),arguments)}function py(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[dp(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return py().domain(t).range(r).unknown(e)},rh.apply(a,arguments)}Om=Pm({thousands:",",grouping:[3],currency:["$",""]}),Em=Om.format,Cm=Om.formatPrefix;const my=1e3,yy=6e4,gy=36e5,vy=864e5,by=6048e5,xy=2592e6,wy=31536e6,jy=new Date,_y=new Date;function ky(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>ky((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>(jy.setTime(+t),_y.setTime(+n),e(jy),e(_y),Math.floor(r(jy,_y))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Ny=ky((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Ny.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ky((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):Ny:null);Ny.range;const Sy=ky((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*my)}),((e,t)=>(t-e)/my),(e=>e.getUTCSeconds())),Oy=(Sy.range,ky((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*my)}),((e,t)=>{e.setTime(+e+t*yy)}),((e,t)=>(t-e)/yy),(e=>e.getMinutes()))),Ey=(Oy.range,ky((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*yy)}),((e,t)=>(t-e)/yy),(e=>e.getUTCMinutes()))),Cy=(Ey.range,ky((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*my-e.getMinutes()*yy)}),((e,t)=>{e.setTime(+e+t*gy)}),((e,t)=>(t-e)/gy),(e=>e.getHours()))),Ay=(Cy.range,ky((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*gy)}),((e,t)=>(t-e)/gy),(e=>e.getUTCHours()))),Ty=(Ay.range,ky((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yy)/vy),(e=>e.getDate()-1))),Py=(Ty.range,ky((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/vy),(e=>e.getUTCDate()-1))),Dy=(Py.range,ky((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/vy),(e=>Math.floor(e/vy))));Dy.range;function My(e){return ky((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yy)/by))}const Iy=My(0),Ly=My(1),Ry=My(2),Fy=My(3),By=My(4),qy=My(5),$y=My(6);Iy.range,Ly.range,Ry.range,Fy.range,By.range,qy.range,$y.range;function Uy(e){return ky((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/by))}const zy=Uy(0),Hy=Uy(1),Wy=Uy(2),Vy=Uy(3),Ky=Uy(4),Yy=Uy(5),Gy=Uy(6),Xy=(zy.range,Hy.range,Wy.range,Vy.range,Ky.range,Yy.range,Gy.range,ky((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Qy=(Xy.range,ky((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Jy=(Qy.range,ky((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Jy.every=e=>isFinite(e=Math.floor(e))&&e>0?ky((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;Jy.range;const Zy=ky((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Zy.every=e=>isFinite(e=Math.floor(e))&&e>0?ky((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;Zy.range;function eg(e,t,r,n,a,i){const o=[[Sy,1,my],[Sy,5,5e3],[Sy,15,15e3],[Sy,30,3e4],[i,1,yy],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,gy],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,vy],[n,2,1728e5],[r,1,by],[t,1,xy],[t,3,7776e6],[e,1,wy]];function s(t,r,n){const a=Math.abs(r-t)/n,i=op((e=>{let[,,t]=e;return t})).right(o,a);if(i===o.length)return e.every(np(t/wy,r/wy,n));if(0===i)return Ny.every(Math.max(np(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}const[tg,rg]=eg(Zy,Qy,zy,Dy,Ay,Ey),[ng,ag]=eg(Jy,Xy,Iy,Ty,Cy,Oy);function ig(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function og(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var lg,cg,ug,dg={"-":"",_:" ",0:"0"},fg=/^\s*\d+/,hg=/^%/,pg=/[\\^$*+?|[\]().{}]/g;function mg(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function yg(e){return e.replace(pg,"\\$&")}function gg(e){return new RegExp("^(?:"+e.map(yg).join("|")+")","i")}function vg(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function bg(e,t,r){var n=fg.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xg(e,t,r){var n=fg.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _g(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kg(e,t,r){var n=fg.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ng(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Sg(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Og(e,t,r){var n=fg.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Eg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Cg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ag(e,t,r){var n=fg.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Tg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Dg(e,t,r){var n=fg.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Mg(e,t,r){var n=fg.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ig(e,t,r){var n=fg.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Lg(e,t,r){var n=hg.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Rg(e,t,r){var n=fg.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Fg(e,t,r){var n=fg.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Bg(e,t){return mg(e.getDate(),t,2)}function qg(e,t){return mg(e.getHours(),t,2)}function $g(e,t){return mg(e.getHours()%12||12,t,2)}function Ug(e,t){return mg(1+Ty.count(Jy(e),e),t,3)}function zg(e,t){return mg(e.getMilliseconds(),t,3)}function Hg(e,t){return zg(e,t)+"000"}function Wg(e,t){return mg(e.getMonth()+1,t,2)}function Vg(e,t){return mg(e.getMinutes(),t,2)}function Kg(e,t){return mg(e.getSeconds(),t,2)}function Yg(e){var t=e.getDay();return 0===t?7:t}function Gg(e,t){return mg(Iy.count(Jy(e)-1,e),t,2)}function Xg(e){var t=e.getDay();return t>=4||0===t?By(e):By.ceil(e)}function Qg(e,t){return e=Xg(e),mg(By.count(Jy(e),e)+(4===Jy(e).getDay()),t,2)}function Jg(e){return e.getDay()}function Zg(e,t){return mg(Ly.count(Jy(e)-1,e),t,2)}function ev(e,t){return mg(e.getFullYear()%100,t,2)}function tv(e,t){return mg((e=Xg(e)).getFullYear()%100,t,2)}function rv(e,t){return mg(e.getFullYear()%1e4,t,4)}function nv(e,t){var r=e.getDay();return mg((e=r>=4||0===r?By(e):By.ceil(e)).getFullYear()%1e4,t,4)}function av(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mg(t/60|0,"0",2)+mg(t%60,"0",2)}function iv(e,t){return mg(e.getUTCDate(),t,2)}function ov(e,t){return mg(e.getUTCHours(),t,2)}function sv(e,t){return mg(e.getUTCHours()%12||12,t,2)}function lv(e,t){return mg(1+Py.count(Zy(e),e),t,3)}function cv(e,t){return mg(e.getUTCMilliseconds(),t,3)}function uv(e,t){return cv(e,t)+"000"}function dv(e,t){return mg(e.getUTCMonth()+1,t,2)}function fv(e,t){return mg(e.getUTCMinutes(),t,2)}function hv(e,t){return mg(e.getUTCSeconds(),t,2)}function pv(e){var t=e.getUTCDay();return 0===t?7:t}function mv(e,t){return mg(zy.count(Zy(e)-1,e),t,2)}function yv(e){var t=e.getUTCDay();return t>=4||0===t?Ky(e):Ky.ceil(e)}function gv(e,t){return e=yv(e),mg(Ky.count(Zy(e),e)+(4===Zy(e).getUTCDay()),t,2)}function vv(e){return e.getUTCDay()}function bv(e,t){return mg(Hy.count(Zy(e)-1,e),t,2)}function xv(e,t){return mg(e.getUTCFullYear()%100,t,2)}function wv(e,t){return mg((e=yv(e)).getUTCFullYear()%100,t,2)}function jv(e,t){return mg(e.getUTCFullYear()%1e4,t,4)}function _v(e,t){var r=e.getUTCDay();return mg((e=r>=4||0===r?Ky(e):Ky.ceil(e)).getUTCFullYear()%1e4,t,4)}function kv(){return"+0000"}function Nv(){return"%"}function Sv(e){return+e}function Ov(e){return Math.floor(+e/1e3)}function Ev(e){return new Date(e)}function Cv(e){return e instanceof Date?+e:+new Date(+e)}function Av(e,t,r,n,a,i,o,s,l,c){var u=gm(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?h:s(e)<e?p:o(e)<e?m:i(e)<e?y:n(e)<e?a(e)<e?g:v:r(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,Cv)):f().map(Ev)},u.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=f();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(Rm(r,e)):u},u.copy=function(){return mm(u,Av(e,t,r,n,a,i,o,s,l,c))},u}function Tv(){return rh.apply(Av(ng,ag,Jy,Xy,Iy,Ty,Cy,Oy,Sy,cg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pv(){return rh.apply(Av(tg,rg,Zy,Qy,zy,Py,Ay,Ey,Sy,ug).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dv(){var e,t,r,n,a,i=0,o=1,s=dm,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(sm),c.rangeRound=u(lm),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function Mv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Iv(){var e=Mm(Dv()(dm));return e.copy=function(){return Mv(e,Iv())},nh.apply(e,arguments)}function Lv(){var e=Hm(Dv()).domain([1,10]);return e.copy=function(){return Mv(e,Lv()).base(e.base())},nh.apply(e,arguments)}function Rv(){var e=Ym(Dv());return e.copy=function(){return Mv(e,Rv()).constant(e.constant())},nh.apply(e,arguments)}function Fv(){var e=Zm(Dv());return e.copy=function(){return Mv(e,Fv()).exponent(e.exponent())},nh.apply(e,arguments)}function Bv(){return Fv.apply(null,arguments).exponent(.5)}function qv(){var e=[],t=dm;function r(r){if(null!=r&&!isNaN(r=+r))return t((dp(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(ap),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>uy(e,n/t)))},r.copy=function(){return qv(t).domain(e)},nh.apply(r,arguments)}function $v(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=dm,f=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=sm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(sm),h.rangeRound=p(lm),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h}}function Uv(){var e=Mm($v()(dm));return e.copy=function(){return Mv(e,Uv())},nh.apply(e,arguments)}function zv(){var e=Hm($v()).domain([.1,1,10]);return e.copy=function(){return Mv(e,zv()).base(e.base())},nh.apply(e,arguments)}function Hv(){var e=Ym($v());return e.copy=function(){return Mv(e,Hv()).constant(e.constant())},nh.apply(e,arguments)}function Wv(){var e=Zm($v());return e.copy=function(){return Mv(e,Wv()).exponent(e.exponent())},nh.apply(e,arguments)}function Vv(){return Wv.apply(null,arguments).exponent(.5)}function Kv(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){lg=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=gg(a),u=vg(a),d=gg(i),f=vg(i),h=gg(o),p=vg(o),m=gg(s),y=vg(s),g=gg(l),v=vg(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Bg,e:Bg,f:Hg,g:tv,G:nv,H:qg,I:$g,j:Ug,L:zg,m:Wg,M:Vg,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Sv,s:Ov,S:Kg,u:Yg,U:Gg,V:Qg,w:Jg,W:Zg,x:null,X:null,y:ev,Y:rv,Z:av,"%":Nv},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:iv,e:iv,f:uv,g:wv,G:_v,H:ov,I:sv,j:lv,L:cv,m:dv,M:fv,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Sv,s:Ov,S:hv,u:pv,U:mv,V:gv,w:vv,W:bv,x:null,X:null,y:xv,Y:jv,Z:kv,"%":Nv},w={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:Cg,e:Cg,f:Ig,g:Ng,G:kg,H:Tg,I:Tg,j:Ag,L:Mg,m:Eg,M:Pg,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Og,Q:Rg,s:Fg,S:Dg,u:xg,U:wg,V:jg,w:bg,W:_g,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:Ng,Y:kg,Z:Sg,"%":Lg};function j(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=dg[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function _(e,t){return function(r){var n,a,i=sg(1900,void 0,1);if(k(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=og(sg(i.y,0,1))).getUTCDay(),n=a>4||0===a?Hy.ceil(n):Hy(n),n=Py.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=ig(sg(i.y,0,1))).getDay(),n=a>4||0===a?Ly.ceil(n):Ly(n),n=Ty.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?og(sg(i.y,0,1)).getUTCDay():ig(sg(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,og(i)):ig(i)}}function k(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in dg?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),cg=lg.format,lg.parse,ug=lg.utcFormat,lg.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Yv(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Gv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Xv(e,t){return e[t]}function Qv(e){const t=[];return t.key=e,t}var Jv=r(539),Zv=r.n(Jv),eb=r(6745),tb=r.n(eb),rb=r(3538),nb=r.n(rb),ab=r(9853),ib=r.n(ab),ob=r(8210),sb=r.n(ob);function lb(e){return function(e){if(Array.isArray(e))return cb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ub=function(e){return e},db={"@@functional/placeholder":!0},fb=function(e){return e===db},hb=function(e){return function t(){return 0===arguments.length||1===arguments.length&&fb(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},pb=function e(t,r){return 1===t?r:hb((function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter((function(e){return e!==db})).length;return o>=t?r.apply(void 0,a):e(t-o,hb((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map((function(e){return fb(e)?t.shift():e}));return r.apply(void 0,lb(i).concat(t))})))}))},mb=function(e){return pb(e.length,e)},yb=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},gb=mb((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),vb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return ub;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},bb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xb=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((function(e,r){return e===t[r]}))?r:(t=a,r=e.apply(void 0,a))}};const wb={rangeStep:function(e,t,r){for(var n=new(sb())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(sb())(e).abs().log(10).toNumber())+1},interpolateNumber:mb((function(e,t,r){var n=+e;return n+r*(+t-n)})),uninterpolateNumber:mb((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),uninterpolateTruncation:mb((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}))};function jb(e){return function(e){if(Array.isArray(e))return Nb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||kb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||kb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kb(e,t){if(e){if("string"===typeof e)return Nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nb(e,t):void 0}}function Nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sb(e){var t=_b(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Ob(e,t,r){if(e.lte(0))return new(sb())(0);var n=wb.getDigitCount(e.toNumber()),a=new(sb())(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new(sb())(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?s:new(sb())(Math.ceil(s))}function Eb(e,t,r){var n=1,a=new(sb())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(sb())(10).pow(wb.getDigitCount(e)-1),a=new(sb())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(sb())(Math.floor(e)))}else 0===e?a=new(sb())(Math.floor((t-1)/2)):r||(a=new(sb())(Math.floor(e)));var o=Math.floor((t-1)/2);return vb(gb((function(e){return a.add(new(sb())(e-o).mul(n)).toNumber()})),yb)(0,t)}function Cb(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(sb())(0),tickMin:new(sb())(0),tickMax:new(sb())(0)};var i,o=Ob(new(sb())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(sb())(0):(i=new(sb())(e).add(t).div(2)).sub(new(sb())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(sb())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?Cb(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new(sb())(s).mul(o)),tickMax:i.add(new(sb())(l).mul(o))})}var Ab=xb((function(e){var t=_b(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=_b(Sb([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(jb(yb(0,a-1).map((function(){return 1/0})))):[].concat(jb(yb(0,a-1).map((function(){return-1/0}))),[c]);return r>n?bb(u):u}if(l===c)return Eb(l,a,i);var d=Cb(l,c,o,i),f=d.step,h=d.tickMin,p=d.tickMax,m=wb.rangeStep(h,p.add(new(sb())(.1).mul(f)),f);return r>n?bb(m):m})),Tb=(xb((function(e){var t=_b(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=_b(Sb([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return Eb(l,a,i);var u=Ob(new(sb())(c).sub(l).div(o-1),i,0),d=vb(gb((function(e){return new(sb())(l).add(new(sb())(e).mul(u)).toNumber()})),yb)(0,o).filter((function(e){return e>=l&&e<=c}));return r>n?bb(d):d})),xb((function(e,t){var r=_b(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=_b(Sb([n,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(t,2),u=Ob(new(sb())(l).sub(s).div(c-1),i,0),d=[].concat(jb(wb.rangeStep(new(sb())(s),new(sb())(l).sub(new(sb())(.99).mul(u)),u)),[l]);return n>a?bb(d):d}))),Pb=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Db(e){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function Ib(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hb(n.key),n)}}function Bb(e,t,r){return t=$b(t),function(e,t){if(t&&("object"===Db(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qb()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function qb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qb=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$b(e)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ub(e,t)}function zb(e,t,r){return(t=Hb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hb(e){var t=function(e,t){if("object"!=Db(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Db(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Db(t)?t:t+""}var Wb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bb(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Rb(e,Pb),d=ql(u,!1);"x"===this.props.direction&&"number"!==l.type&&rc(!1);var f=i.map((function(e){var i=s(e,a),u=i.x,f=i.y,h=i.value,p=i.errorVal;if(!p)return null;var m,y,g=[];if(Array.isArray(p)){var v=Ib(p,2);m=v[0],y=v[1]}else m=y=p;if("vertical"===r){var b=l.scale,x=f+t,w=x+n,j=x-n,_=b(h-m),k=b(h+y);g.push({x1:k,y1:w,x2:k,y2:j}),g.push({x1:_,y1:x,x2:k,y2:x}),g.push({x1:_,y1:w,x2:_,y2:j})}else if("horizontal"===r){var N=c.scale,S=u+t,O=S-n,E=S+n,C=N(h-m),A=N(h+y);g.push({x1:O,y1:A,x2:E,y2:A}),g.push({x1:S,y1:C,x2:S,y2:A}),g.push({x1:O,y1:C,x2:E,y2:C})}return o.createElement(uc,Mb({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),g.map((function(e){return o.createElement("line",Mb({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return o.createElement(uc,{className:"recharts-errorBars"},f)}}])&&Fb(r.prototype,n),a&&Fb(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);function Vb(e){return Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kb(Object(r),!0).forEach((function(t){Gb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Vb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}zb(Wb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),zb(Wb,"displayName","ErrorBar");var Xb=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=Ll(t,fd);if(!i)return null;var o,s=fd.defaultProps,l=void 0!==s?Yb(Yb({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce((function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?Yb(Yb({},r),t.props):{},a=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:ix(t),value:i||a,payload:n}})),Yb(Yb(Yb({},l),fd.getWithHeight(i,n)),{},{payload:o,item:i})};function Qb(e){return Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(e)}function Jb(e){return function(e){if(Array.isArray(e))return Zb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach((function(t){rx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Qb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nx(e,t,r){return fl()(e)||fl()(t)?r:nl(t)?Qs()(e,t,r):pl()(t)?t(e):r}function ax(e,t,r,n){var a=nb()(e,(function(e){return nx(e,t)}));if("number"===r){var i=a.filter((function(e){return rl(e)||parseFloat(e)}));return i.length?[tb()(i),Zv()(i)]:[1/0,-1/0]}return(n?a.filter((function(e){return!fl()(e)})):a).map((function(e){return nl(e)||e instanceof Date?e:""}))}var ix=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?tx(tx({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:o;break;default:r=o}return r},ox=function(e,t,r,n,a){var i=Il(t.props.children,Wb).filter((function(e){return function(e,t,r){return!!fl()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)}));if(i&&i.length){var o=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=nx(t,r);if(fl()(n))return e;var a=Array.isArray(n)?[tb()(n),Zv()(n)]:[n,n],i=o.reduce((function(e,r){var n=nx(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(o,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},sx=function(e,t,r,n,a){var i=t.map((function(t){var i=t.props.dataKey;return"number"===r&&i&&ox(e,t,i,n)||ax(e,i,r,a)}));if("number"===r)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return i.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e}),[])},lx=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},cx=function(e,t,r,n){if(n)return e.map((function(e){return e.coordinate}));var a,i,o=e.map((function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate}));return a||o.push(t),i||o.push(r),o},ux=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*el(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}})).filter((function(e){return!Gs()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+l,value:e,offset:l}})):n.domain().map((function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}}))},dx=new WeakMap,fx=function(e,t){if("function"!==typeof t)return e;dx.has(e)||dx.set(e,new WeakMap);var r=dx.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},hx=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,s=e.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:dh(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:Im(),realScaleType:"linear"}:"category"===i&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hh(),realScaleType:"point"}:"category"===i?{scale:dh(),realScaleType:"band"}:{scale:Im(),realScaleType:"linear"};if(Ks()(a)){var l="scale".concat(eu()(a));return{scale:(t[l]||hh)(),realScaleType:t[l]?l:"point"}}return pl()(a)?{scale:a}:{scale:hh(),realScaleType:"point"}},px=1e-4,mx=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-px,i=Math.max(n[0],n[1])+px,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},yx={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=Gs()(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Kv(e,t)}},none:Kv,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}Kv(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,f=(d-(u[o-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=f*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,Kv(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Gs()(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},gx=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),a=yx[r],i=function(){var e=_u([]),t=Gv,r=Kv,n=Xv;function a(a){var i,o,s=Array.from(e.apply(this,arguments),Qv),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=Yv(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:_u(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:_u(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?Gv:"function"===typeof e?e:_u(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?Kv:e,a):r},a}().keys(n).value((function(e,t){return+nx(e,t,0)})).order(Gv).offset(a);return i(e)},vx=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=Ab(l,a,o);return e.domain([tb()(c),Zv()(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:Tb(u,a,o)}}return null};function bx(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!fl()(a[t.dataKey])){var s=cl(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=nx(a,fl()(o)?t.dataKey:o);return fl()(l)?null:t.scale(l)}var xx=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=nx(i,t.dataKey,t.domain[o]);return fl()(s)?null:t.scale(s)-a/2+n},wx=function(e,t,r){return Object.keys(e).reduce((function(n,a){var i=e[a].stackedData.reduce((function(e,n){var a=n.slice(t,r+1).reduce((function(e,t){return[tb()(t.concat([e[0]]).filter(rl)),Zv()(t.concat([e[1]]).filter(rl))]}),[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},jx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_x=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kx=function(e,t,r){if(pl()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(rl(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(jx.test(e[0])){var a=+jx.exec(e[0])[1];n[0]=t[0]-a}else pl()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(rl(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(_x.test(e[1])){var i=+_x.exec(e[1])[1];n[1]=t[1]+i}else pl()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Nx=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ec()(t,(function(e){return e.coordinate})),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},Sx=function(e,t,r){return e&&e.length?ib()(e,Qs()(r,"type.defaultProps.domain"))?t:e:t},Ox=function(e,t){var r=e.type.defaultProps?tx(tx({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return tx(tx({},ql(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:ix(e),value:nx(t,n),type:s,payload:t,chartType:l,hide:c})};function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}function Cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(r),!0).forEach((function(t){Tx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ex(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ex(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ex(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Px=["Webkit","Moz","O","ms"];function Dx(e){return Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(this,arguments)}function Ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ix(Object(r),!0).forEach((function(t){Ux(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zx(n.key),n)}}function Fx(e,t,r){return t=qx(t),function(e,t){if(t&&("object"===Dx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bx()?Reflect.construct(t,r||[],qx(e).constructor):t.apply(e,r))}function Bx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bx=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qx(e)}function $x(e,t){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$x(e,t)}function Ux(e,t,r){return(t=zx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zx(e){var t=function(e,t){if("object"!=Dx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dx(t)?t:t+""}var Hx=function(e){return e.changedTouches&&!!e.changedTouches.length},Wx=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ux(r=Fx(this,t,[e]),"handleDrag",(function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)})),Ux(r,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])})),Ux(r,"handleDragEnd",(function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:a})})),r.detachDragEndListener()})),Ux(r,"handleLeaveWrapper",(function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))})),Ux(r,"handleEnterSlideOrTraveller",(function(){r.setState({isTextActive:!0})})),Ux(r,"handleLeaveSlideOrTraveller",(function(){r.setState({isTextActive:!1})})),Ux(r,"handleSlideDragStart",(function(e){var t=Hx(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()})),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$x(e,t)}(t,e),r=t,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=t.getIndexInRange(a,l),d=t.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=nx(r[e],a,e);return pl()(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-r;f>0?f=Math.min(f,o+s-l-a,o+s-l-n):f<0&&(f=Math.max(f,o-n,o-a));var h=this.getIndex({startX:n+f,endX:a+f});h.startIndex===c&&h.endIndex===u||!d||d(h),this.setState({startX:n+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=Hx(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[n],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,h=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[n]=o+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(Ux(Ux({},n,o+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=h.length-1;return"startX"===n&&(a>i?g%f===0:v%f===0)||a<i&&v===e||"endX"===n&&(a>i?v%f===0:g%f===0)||a>i&&v===e}()&&d(y)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,o=n.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(Ux({},t,u),(function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,s=e.stroke;return o.createElement("rect",{stroke:s,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.data,s=e.children,l=e.padding,c=o.Children.only(s);return c?o.cloneElement(c,{x:t,y:r,width:n,height:a,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,r){var n,a,i=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,f=s.ariaLabel,h=s.data,p=s.startIndex,m=s.endIndex,y=Math.max(e,this.props.x),g=Lx(Lx({},ql(this.props,!1)),{},{x:y,y:l,width:c,height:u}),v=f||"Min value: ".concat(null===(n=h[p])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=h[m])||void 0===a?void 0:a.name);return o.createElement(uc,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,s=r.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:n,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return o.createElement(uc,{className:"recharts-brush-texts"},o.createElement(Xh,Mx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:n+a/2},d),this.getTextOfTick(t)),o.createElement(Xh,Mx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+i+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,h=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,y=u.isTravellerFocused;if(!t||!t.length||!rl(a)||!rl(i)||!rl(s)||!rl(l)||s<=0||l<=0)return null;var g=zs("recharts-brush",r),v=1===o.Children.count(n),b=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=Px.reduce((function(e,n){return Ax(Ax({},e),{},Tx({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return o.createElement(uc,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(h||p||m||y||c)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,s=Math.floor(r+a/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),o.createElement("line",{x1:t+1,y1:s,x2:t+n-1,y2:s,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:t+1,y1:s+2,x2:t+n-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return o.isValidElement(e)?o.cloneElement(e,r):pl()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return Lx({prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=hh().domain(Jl()(0,s)).range([a,a+i-o]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],n&&Rx(r.prototype,n),a&&Rx(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);function Vx(e){return Vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(e)}function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kx(Object(r),!0).forEach((function(t){Gx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Vx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vx(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ux(Wx,"displayName","Brush"),Ux(Wx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jx=Math.PI/180,Zx=function(e){return 180*e/Math.PI},ew=function(e,t,r,n){return{x:e+Math.cos(-Jx*n)*r,y:t+Math.sin(-Jx*n)*r}},tw=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},rw=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:Zx(l),angleInRadian:l}},nw=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},aw=function(e,t){var r=e.x,n=e.y,a=rw({x:r,y:n},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,f=u.endAngle,h=o;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;c=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;c=h>=f&&h<=d}return c?Yx(Yx({},t),{},{radius:i,angle:nw(h,t)}):null},iw=function(e){return(0,o.isValidElement)(e)||pl()(e)||"boolean"===typeof e?"":e.className};function ow(e){return ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(e)}var sw=["offset"];function lw(e){return function(e){if(Array.isArray(e))return cw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dw(Object(r),!0).forEach((function(t){hw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ow(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ow(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}var mw=function(e,t,r){var n,a,i=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius,m=u.startAngle,y=u.endAngle,g=u.clockWise,v=(h+p)/2,b=function(e,t){return el(t-e)*Math.min(Math.abs(t-e),360)}(m,y),x=b>=0?1:-1;"insideStart"===i?(n=m+x*l,a=g):"insideEnd"===i?(n=y-x*l,a=!g):"end"===i&&(n=y+x*l,a=g),a=b<=0?a:!a;var w=ew(d,f,v,n),j=ew(d,f,v,n+359*(a?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),k=fl()(e.id)?il("recharts-radial-line-"):e.id;return o.createElement("text",pw({},r,{dominantBaseline:"central",className:zs("recharts-radial-bar-label",c)}),o.createElement("defs",null,o.createElement("path",{id:k,d:_})),o.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function yw(e){var t,r=e.offset,n=fw({offset:void 0===r?5:r},uw(e,sw)),a=n.viewBox,i=n.position,s=n.value,l=n.children,c=n.content,u=n.className,d=void 0===u?"":u,f=n.textBreakAll;if(!a||fl()(s)&&fl()(l)&&!(0,o.isValidElement)(c)&&!pl()(c))return null;if((0,o.isValidElement)(c))return(0,o.cloneElement)(c,n);if(pl()(c)){if(t=(0,o.createElement)(c,n),(0,o.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=fl()(e.children)?t:e.children;return pl()(r)?r(n):n}(n);var h=function(e){return"cx"in e&&rl(e.cx)}(a),p=ql(n,!0);if(h&&("insideStart"===i||"insideEnd"===i||"end"===i))return mw(n,t,p);var m=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=ew(i,o,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=ew(i,o,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,m=p*n,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===a)return fw(fw({},{x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return fw(fw({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return fw(fw({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var b={x:o+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return fw(fw({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var x=r?{width:l,height:c}:{};return"insideLeft"===a?fw({x:o+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===a?fw({x:o+l-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideTop"===a?fw({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===a?fw({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},x):"insideTopLeft"===a?fw({x:o+m,y:s+d,textAnchor:g,verticalAnchor:h},x):"insideTopRight"===a?fw({x:o+l-m,y:s+d,textAnchor:y,verticalAnchor:h},x):"insideBottomLeft"===a?fw({x:o+m,y:s+c-d,textAnchor:g,verticalAnchor:f},x):"insideBottomRight"===a?fw({x:o+l-m,y:s+c-d,textAnchor:y,verticalAnchor:f},x):yl()(a)&&(rl(a.x)||tl(a.x))&&(rl(a.y)||tl(a.y))?fw({x:o+ol(a.x,l),y:s+ol(a.y,c),textAnchor:"end",verticalAnchor:"end"},x):fw({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(n);return o.createElement(Xh,pw({className:zs("recharts-label",d)},p,m,{breakAll:f}),t)}yw.displayName="Label";var gw=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,h=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(rl(p)&&rl(m)){if(rl(u)&&rl(d))return{x:u,y:d,width:p,height:m};if(rl(f)&&rl(h))return{x:f,y:h,width:p,height:m}}return rl(u)&&rl(d)?{x:u,y:d,width:0,height:0}:rl(t)&&rl(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:y}:e.viewBox?e.viewBox:{}};yw.parseViewBox=gw,yw.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=gw(e),i=Il(n,yw).map((function(e,r){return(0,o.cloneElement)(e,{viewBox:t||a,key:"label-".concat(r)})}));if(!r)return i;var s=function(e,t){return e?!0===e?o.createElement(yw,{key:"label-implicit",viewBox:t}):nl(e)?o.createElement(yw,{key:"label-implicit",viewBox:t,value:e}):(0,o.isValidElement)(e)?e.type===yw?(0,o.cloneElement)(e,{key:"label-implicit",viewBox:t}):o.createElement(yw,{key:"label-implicit",content:e,viewBox:t}):pl()(e)?o.createElement(yw,{key:"label-implicit",content:e,viewBox:t}):yl()(e)?o.createElement(yw,pw({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(lw(i))};var vw=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},bw=r(1733),xw=r.n(bw),ww=r(7002),jw=r.n(ww),_w=function(e){return null};_w.displayName="Cell";var kw=r(4065),Nw=r.n(kw);function Sw(e){return Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(e)}var Ow=["valueAccessor"],Ew=["data","dataKey","clockWise","id","textBreakAll"];function Cw(e){return function(e){if(Array.isArray(e))return Aw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pw(Object(r),!0).forEach((function(t){Mw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Sw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Sw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Lw=function(e){return Array.isArray(e.value)?Nw()(e.value):e.value};function Rw(e){var t=e.valueAccessor,r=void 0===t?Lw:t,n=Iw(e,Ow),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=Iw(n,Ew);return a&&a.length?o.createElement(uc,{className:"recharts-label-list"},a.map((function(e,t){var n=fl()(i)?r(e,t):nx(e&&e.payload,i),a=fl()(l)?{}:{id:"".concat(l,"-").concat(t)};return o.createElement(yw,Tw({},ql(e,!0),u,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:c,viewBox:yw.parseViewBox(fl()(s)?e:Dw(Dw({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}Rw.displayName="LabelList",Rw.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=Il(e.children,Rw).map((function(e,r){return(0,o.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));return r?[function(e,t){return e?!0===e?o.createElement(Rw,{key:"labelList-implicit",data:t}):o.isValidElement(e)||pl()(e)?o.createElement(Rw,{key:"labelList-implicit",data:t,content:e}):yl()(e)?o.createElement(Rw,Tw({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Cw(n)):n};var Fw=r(2322),Bw=r.n(Fw),qw=r(6361),$w=r.n(qw);function Uw(e){return Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(e)}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zw.apply(this,arguments)}function Hw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ww(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vw(Object(r),!0).forEach((function(t){Yw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Uw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gw=function(e,t,r,n,a){var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},Xw={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qw=function(e){var t=Kw(Kw({},Xw),e),r=(0,o.useRef)(),n=Hw((0,o.useState)(-1),2),a=n[0],i=n[1];(0,o.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,f=t.className,h=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var g=zs("recharts-trapezoid",f);return y?o.createElement(Hf,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:h,isActive:y},(function(e){var n=e.upperWidth,i=e.lowerWidth,s=e.height,l=e.x,c=e.y;return o.createElement(Hf,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:h},o.createElement("path",zw({},ql(t,!0),{className:g,d:Gw(l,c,n,i,s),ref:r})))})):o.createElement("g",null,o.createElement("path",zw({},ql(t,!0),{className:g,d:Gw(s,l,c,u,d)})))};function Jw(e){return Jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(e)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach((function(t){rj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Jw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Jw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nj=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Jx,d=l?a:a+i*u,f=l?a-i*u:a;return{center:ew(t,r,c,d),circleTangency:ew(t,r,n,d),lineTangency:ew(t,r,c*Math.cos(u*Jx),f),theta:u}},aj=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return el(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=ew(t,r,a,i),c=ew(t,r,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=ew(t,r,n,i),f=ew(t,r,n,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},ij={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oj=function(e){var t=tj(tj({},ij),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(i<a||u===d)return null;var h,p=zs("recharts-sector",f),m=i-a,y=ol(s,m,0,!0);return h=y>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=el(c-l),d=nj({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,h=d.lineTangency,p=d.theta,m=nj({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):aj({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var w=nj({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),j=w.circleTangency,_=w.lineTangency,k=w.theta,N=nj({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),S=N.circleTangency,O=N.lineTangency,E=N.theta,C=s?Math.abs(l-c):Math.abs(l-c)-k-E;if(C<0&&0===i)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x}({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):aj({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),o.createElement("path",Zw({},ql(t,!0),{className:p,d:h,role:"img"}))},sj=["option","shapeType","propTransformer","activeClassName","isActive"];function lj(e){return lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lj(e)}function cj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uj(Object(r),!0).forEach((function(t){fj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=lj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hj(e,t){return dj(dj({},t),e)}function pj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return o.createElement(th,r);case"trapezoid":return o.createElement(Qw,r);case"sector":return o.createElement(oj,r);case"symbols":if(function(e){return"symbols"===e}(t))return o.createElement(qu,r);break;default:return null}}function mj(e){var t,r=e.option,n=e.shapeType,a=e.propTransformer,i=void 0===a?hj:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=cj(e,sj);if((0,o.isValidElement)(r))t=(0,o.cloneElement)(r,dj(dj({},u),function(e){return(0,o.isValidElement)(e)?e.props:e}(r)));else if(pl()(r))t=r(u);else if(Bw()(r)&&!$w()(r)){var d=i(r,u);t=o.createElement(pj,{shapeType:n,elementProps:d})}else{var f=u;t=o.createElement(pj,{shapeType:n,elementProps:f})}return c?o.createElement(uc,{className:l},t):t}function yj(e,t){return null!=t&&"trapezoids"in e.props}function gj(e,t){return null!=t&&"sectors"in e.props}function vj(e,t){return null!=t&&"points"in e.props}function bj(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function xj(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function wj(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function jj(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return yj(e,t)?r="trapezoids":gj(e,t)?r="sectors":vj(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return yj(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:gj(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:vj(e,t)?t.payload:{}}(r,t),o=n.filter((function(e,n){var o=ib()(i,e),s=r.props[a].filter((function(e){var n=function(e,t){var r;return yj(e,t)?r=bj:gj(e,t)?r=xj:vj(e,t)&&(r=wj),r}(r,t);return n(e,t)})),l=r.props[a].indexOf(s[s.length-1]);return o&&n===l}));return n.indexOf(o[o.length-1])}var _j=["x","y"];function kj(e){return kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kj(e)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nj.apply(this,arguments)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(r),!0).forEach((function(t){Ej(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ej(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=kj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aj(e,t){var r=e.x,n=e.y,a=Cj(e,_j),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),f=parseInt(d,10);return Oj(Oj(Oj(Oj(Oj({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Tj(e){return o.createElement(mj,Nj({shapeType:"rectangle",propTransformer:Aj,activeClassName:"recharts-active-bar"},e))}var Pj,Dj=["value","background"];function Mj(e){return Mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mj(e)}function Ij(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lj.apply(this,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rj(Object(r),!0).forEach((function(t){Hj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wj(n.key),n)}}function qj(e,t,r){return t=Uj(t),function(e,t){if(t&&("object"===Mj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$j()?Reflect.construct(t,r||[],Uj(e).constructor):t.apply(e,r))}function $j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($j=function(){return!!e})()}function Uj(e){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uj(e)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zj(e,t)}function Hj(e,t,r){return(t=Wj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wj(e){var t=function(e,t){if("object"!=Mj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mj(t)?t:t+""}var Vj=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Hj(e=qj(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),Hj(e,"id",il("recharts-bar-")),Hj(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),Hj(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}(t,e),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,i=r.activeIndex,s=r.activeBar,l=ql(this.props,!1);return e&&e.map((function(e,r){var c=r===i,u=c?s:n,d=Fj(Fj(Fj({},l),e),{},{isActive:c,option:u,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return o.createElement(uc,Lj({className:"recharts-bar-rectangle"},Nl(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),o.createElement(Tj,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return o.createElement(Hf,{begin:i,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var a=t.t,i=r.map((function(e,t){var r=u&&u[t];if(r){var i=ll(r.x,e.x),o=ll(r.y,e.y),s=ll(r.width,e.width),l=ll(r.height,e.height);return Fj(Fj({},e),{},{x:i(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===n){var c=ll(0,e.height)(a);return Fj(Fj({},e),{},{y:e.y+e.height-c,height:c})}var d=ll(0,e.width)(a);return Fj(Fj({},e),{},{width:d})}));return o.createElement(uc,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&ib()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,i=ql(this.props.background,!1);return r.map((function(t,r){t.value;var s=t.background,l=Ij(t,Dj);if(!s)return null;var c=Fj(Fj(Fj(Fj(Fj({},l),{},{fill:"#eee"},s),i),Nl(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return o.createElement(Tj,Lj({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,s=r.layout,l=Il(r.children,Wb);if(!l)return null;var c="vertical"===s?n[0].height/2:n[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:nx(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(uc,d,l.map((function(e){return o.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,f=e.background,h=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=zs("recharts-bar",n),y=a&&a.allowDataOverflow,g=i&&i.allowDataOverflow,v=y||g,b=fl()(h)?this.id:h;return o.createElement(uc,{className:m},y||g?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(b)},o.createElement("rect",{x:y?s:s-c/2,y:g?l:l-u/2,width:y?c:2*c,height:g?u:2*u}))):null,o.createElement(uc,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&Rw.renderCallByParent(this.props,r))}}])&&Bj(r.prototype,n),a&&Bj(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);function Kj(e){return Kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kj(e)}function Yj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jj(n.key),n)}}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gj(Object(r),!0).forEach((function(t){Qj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qj(e,t,r){return(t=Jj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jj(e){var t=function(e,t){if("object"!=Kj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Kj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kj(t)?t:t+""}Pj=Vj,Hj(Vj,"displayName","Bar"),Hj(Vj,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Hj(Vj,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var p=t.layout,m=r.type.defaultProps,y=void 0!==m?Fj(Fj({},m),r.props):r.props,g=y.dataKey,v=y.children,b=y.minPointSize,x="horizontal"===p?o:i,w=c?x.scale.domain():null,j=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:x}),_=Il(v,_w),k=d.map((function(e,t){var n,d,f,m,y,v;c?n=function(e,t){if(!t||2!==t.length||!rl(t[0])||!rl(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!rl(e[0])||e[0]<r)&&(a[0]=r),(!rl(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],w):(n=nx(e,g),Array.isArray(n)||(n=[j,n]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a="number"===typeof r;return a?e(r,n):(a||rc(!1),t)}}(b,Pj.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var k,N=[o.scale(n[0]),o.scale(n[1])],S=N[0],O=N[1];d=xx({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:e,index:t}),f=null!==(k=null!==O&&void 0!==O?O:S)&&void 0!==k?k:void 0,m=h.size;var E=S-O;if(y=Number.isNaN(E)?0:E,v={x:d,y:o.y,width:m,height:o.height},Math.abs(x)>0&&Math.abs(y)<Math.abs(x)){var C=el(y||x)*(Math.abs(x)-Math.abs(y));f-=C,y+=C}}else{var A=[i.scale(n[0]),i.scale(n[1])],T=A[0],P=A[1];if(d=T,f=xx({axis:o,ticks:l,bandSize:a,offset:h.offset,entry:e,index:t}),m=P-T,y=h.size,v={x:i.x,y:f,width:i.width,height:y},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=el(m||x)*(Math.abs(x)-Math.abs(m))}return Fj(Fj(Fj({},e),{},{x:d,y:f,width:m,height:y,value:c?n:n[1],payload:e,background:v},_&&_[t]&&_[t].props),{},{tooltipPayload:[Ox(r,e)],tooltipPosition:{x:d+m/2,y:f+y/2}})}));return Fj({data:k,layout:p},f)}));var Zj=function(e,t,r,n,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!Ll(l,Vj);return c.reduce((function(i,o){var l,c,f,h,p,m=t[o],y=m.orientation,g=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,j="".concat(y).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var _=g[1]-g[0],k=1/0,N=m.categoricalDomain.sort();if(N.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(N[t-1]||0),k))})),Number.isFinite(k)){var S=k/_,O="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=S*O/2),"no-gap"===m.padding){var E=ol(e.barCategoryGap,S*O),C=S*O/2;l=C-E-(C-E)/O*E}}}c="xAxis"===n?[r.left+(b.left||0)+(l||0),r.left+r.width-(b.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(l||0),r.top+r.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var A=hx(m,a,d),T=A.scale,P=A.realScaleType;T.domain(g).range(c),mx(T);var D=vx(T,Xj(Xj({},m),{},{realScaleType:P}));"xAxis"===n?(p="top"===y&&!x||"bottom"===y&&x,f=r.left,h=u[j]-p*m.height):"yAxis"===n&&(p="left"===y&&!x||"right"===y&&x,f=u[j]-p*m.width,h=r.top);var M=Xj(Xj(Xj({},m),D),{},{realScaleType:P,x:f,y:h,scale:T,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return M.bandSize=Nx(M,D),m.hide||"xAxis"!==n?m.hide||(u[j]+=(p?-1:1)*M.width):u[j]+=(p?-1:1)*M.height,Xj(Xj({},i),{},Qj({},o,M))}),{})},e_=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},t_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&Yj(t.prototype,r),n&&Yj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Qj(t_,"EPS",1e-4);var r_=function(e){var t=Object.keys(e).reduce((function(t,r){return Xj(Xj({},t),{},Qj({},r,t_.create(e[r])))}),{});return Xj(Xj({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return xw()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:a})}))},isInRange:function(e){return jw()(e,(function(e,r){return t[r].isInRange(e)}))}})};function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function a_(e){return a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(e)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i_(Object(r),!0).forEach((function(t){f_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h_(n.key),n)}}function l_(e,t,r){return t=u_(t),function(e,t){if(t&&("object"===a_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c_()?Reflect.construct(t,r||[],u_(e).constructor):t.apply(e,r))}function c_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c_=function(){return!!e})()}function u_(e){return u_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u_(e)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d_(e,t)}function f_(e,t,r){return(t=h_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h_(e){var t=function(e,t){if("object"!=a_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a_(t)?t:t+""}var p_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.x,n=e.y,a=e.r,i=e.alwaysShow,s=e.clipPathId,l=nl(r),c=nl(n);if(ul(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=r_({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return vw(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,f=u.y,h=this.props,p=h.shape,m=h.className,y=o_(o_({clipPath:vw(this.props,"hidden")?"url(#".concat(s,")"):void 0},ql(this.props,!0)),{},{cx:d,cy:f});return o.createElement(uc,{className:zs("recharts-reference-dot",m)},t.renderDot(p,y),yw.renderCallByParent(this.props,{x:d-a,y:f-a,width:2*a,height:2*a}))}}])&&s_(r.prototype,n),a&&s_(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);f_(p_,"displayName","ReferenceDot"),f_(p_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),f_(p_,"renderDot",(function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):pl()(e)?e(t):o.createElement(pd,n_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var m_=r(4597),y_=r.n(m_),g_=r(8990),v_=r.n(g_),b_=r(5797),x_=r.n(b_)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var w_=(0,o.createContext)(void 0),j_=(0,o.createContext)(void 0),__=(0,o.createContext)(void 0),k_=(0,o.createContext)({}),N_=(0,o.createContext)(void 0),S_=(0,o.createContext)(0),O_=(0,o.createContext)(0),E_=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,s=e.children,l=e.width,c=e.height,u=x_(a);return o.createElement(w_.Provider,{value:r},o.createElement(j_.Provider,{value:n},o.createElement(k_.Provider,{value:a},o.createElement(__.Provider,{value:u},o.createElement(N_.Provider,{value:i},o.createElement(S_.Provider,{value:c},o.createElement(O_.Provider,{value:l},s)))))))};var C_=function(e){var t=(0,o.useContext)(w_);null==t&&rc(!1);var r=t[e];return null==r&&rc(!1),r},A_=function(e){var t=(0,o.useContext)(j_);null==t&&rc(!1);var r=t[e];return null==r&&rc(!1),r},T_=function(){return(0,o.useContext)(O_)},P_=function(){return(0,o.useContext)(S_)};function D_(e){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(e)}function M_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U_(n.key),n)}}function I_(e,t,r){return t=R_(t),function(e,t){if(t&&("object"===D_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L_()?Reflect.construct(t,r||[],R_(e).constructor):t.apply(e,r))}function L_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L_=function(){return!!e})()}function R_(e){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R_(e)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F_(e,t)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B_(Object(r),!0).forEach((function(t){$_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $_(e,t,r){return(t=U_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U_(e){var t=function(e,t){if("object"!=D_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=D_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D_(t)?t:t+""}function z_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function V_(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,o.useContext)(N_),d=C_(a),f=A_(i),h=(0,o.useContext)(__);if(!u||!h)return null;ul(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,f=a.height;if(r){var h=l.y,p=e.y.apply(h,{position:i});if(vw(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:i});if(vw(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:u+f},{x:g,y:u}];return"top"===o?v.reverse():v}if(n){var b=l.segment.map((function(t){return e.apply(t,{position:i})}));return vw(l,"discard")&&y_()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(r_({x:d.scale,y:f.scale}),nl(t),nl(r),n&&2===n.length,h,e.position,d.orientation,f.orientation,e);if(!p)return null;var m=z_(p,2),y=m[0],g=y.x,v=y.y,b=m[1],x=b.x,w=b.y,j=q_(q_({clipPath:vw(e,"hidden")?"url(#".concat(u,")"):void 0},ql(e,!0)),{},{x1:g,y1:v,x2:x,y2:w});return o.createElement(uc,{className:zs("recharts-reference-line",l)},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):pl()(e)?e(t):o.createElement("line",W_({},t,{className:"recharts-reference-line-line"}))}(s,j),yw.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return e_({x:t,y:r},{x:n,y:a})}({x1:g,y1:v,x2:x,y2:w})))}var K_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return o.createElement(V_,this.props)}}])&&M_(r.prototype,n),a&&M_(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(this,arguments)}function G_(e){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(e)}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X_(Object(r),!0).forEach((function(t){nk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ak(n.key),n)}}function Z_(e,t,r){return t=tk(t),function(e,t){if(t&&("object"===G_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ek()?Reflect.construct(t,r||[],tk(e).constructor):t.apply(e,r))}function ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ek=function(){return!!e})()}function tk(e){return tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tk(e)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rk(e,t)}function nk(e,t,r){return(t=ak(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ak(e){var t=function(e,t){if("object"!=G_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=G_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G_(t)?t:t+""}$_(K_,"displayName","ReferenceLine"),$_(K_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var ik=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.x1,n=e.x2,a=e.y1,i=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;ul(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=nl(r),d=nl(n),f=nl(a),h=nl(i),p=this.props.shape;if(!u&&!d&&!f&&!h&&!p)return null;var m=function(e,t,r,n,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=r_({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!vw(a,"discard")||d.isInRange(f)&&d.isInRange(h)?e_(f,h):null}(u,d,f,h,this.props);if(!m&&!p)return null;var y=vw(this.props,"hidden")?"url(#".concat(c,")"):void 0;return o.createElement(uc,{className:zs("recharts-reference-area",s)},t.renderRect(p,Q_(Q_({clipPath:y},ql(this.props,!0)),m)),yw.renderCallByParent(this.props,m))}}])&&J_(r.prototype,n),a&&J_(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);function ok(e){return function(e){if(Array.isArray(e))return sk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}nk(ik,"displayName","ReferenceArea"),nk(ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),nk(ik,"renderRect",(function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):pl()(e)?e(t):o.createElement(th,Y_({},t,{className:"recharts-reference-area-rect"}))}));var lk=function(e,t,r,n,a){var i=Il(e,K_),o=Il(e,p_),s=[].concat(ok(i),ok(o)),l=Il(e,ik),c="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===r&&vw(t.props,"extendDomain")&&rl(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),d)),l.length){var f="".concat(u,"1"),h="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===r&&vw(t.props,"extendDomain")&&rl(t.props[f])&&rl(t.props[h])){var n=t.props[f],a=t.props[h];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e}),d)}return a&&a.length&&(d=a.reduce((function(e,t){return rl(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},ck=r(8499),uk=new(r.n(ck)()),dk="recharts.syncMouseEvents";function fk(e){return fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fk(e)}function hk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mk(n.key),n)}}function pk(e,t,r){return(t=mk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mk(e){var t=function(e,t){if("object"!=fk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fk(t)?t:t+""}var yk=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pk(this,"activeIndex",0),pk(this,"coordinateList",[]),pk(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])&&hk(e.prototype,t),r&&hk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function gk(){}function vk(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function bk(e){this._context=e}function xk(e){this._context=e}function wk(e){this._context=e}bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xk.prototype={areaStart:gk,areaEnd:gk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class jk{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function _k(e){this._context=e}function kk(e){this._context=e}function Nk(e){return new kk(e)}function Sk(e){return e<0?-1:1}function Ok(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Sk(i)+Sk(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Ek(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ck(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Ak(e){this._context=e}function Tk(e){this._context=new Pk(e)}function Pk(e){this._context=e}function Dk(e){this._context=e}function Mk(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Ik(e,t){this._context=e,this._t=t}function Lk(e){return e[0]}function Rk(e){return e[1]}function Fk(e,t){var r=_u(!0),n=null,a=Nk,i=null,o=Au(s);function s(s){var l,c,u,d=(s=Yv(s)).length,f=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?Lk:_u(e),t="function"===typeof t?t:void 0===t?Rk:_u(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:_u(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:_u(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:_u(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function Bk(e,t,r){var n=null,a=_u(!0),i=null,o=Nk,s=null,l=Au(c);function c(c){var u,d,f,h,p,m=(c=Yv(c)).length,y=!1,g=new Array(m),v=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(h=c[u],u,c))===y)if(y=!y)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(g[f],v[f]);s.lineEnd(),s.areaEnd()}y&&(g[u]=+e(h,u,c),v[u]=+t(h,u,c),s.point(n?+n(h,u,c):g[u],r?+r(h,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return Fk().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?Lk:_u(+e),t="function"===typeof t?t:_u(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?Rk:_u(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:_u(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:_u(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:_u(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:_u(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:_u(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:_u(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:_u(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function qk(e){return qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qk(e)}function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uk(Object(r),!0).forEach((function(t){Hk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=qk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_k.prototype={areaStart:gk,areaEnd:gk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ck(this,this._t0,Ek(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ck(this,Ek(this,r=Ok(this,e,t)),r);break;default:Ck(this,this._t0,r=Ok(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Tk.prototype=Object.create(Ak.prototype)).point=function(e,t){Ak.prototype.point.call(this,t,e)},Pk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},Dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Mk(e),a=Mk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Wk={curveBasisClosed:function(e){return new xk(e)},curveBasisOpen:function(e){return new wk(e)},curveBasis:function(e){return new bk(e)},curveBumpX:function(e){return new jk(e,!0)},curveBumpY:function(e){return new jk(e,!1)},curveLinearClosed:function(e){return new _k(e)},curveLinear:Nk,curveMonotoneX:function(e){return new Ak(e)},curveMonotoneY:function(e){return new Tk(e)},curveNatural:function(e){return new Dk(e)},curveStep:function(e){return new Ik(e,.5)},curveStepAfter:function(e){return new Ik(e,1)},curveStepBefore:function(e){return new Ik(e,0)}},Vk=function(e){return e.x===+e.x&&e.y===+e.y},Kk=function(e){return e.x},Yk=function(e){return e.y},Gk=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(pl()(e))return e;var r="curve".concat(eu()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?Wk[r]||Nk:Wk["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),d=c?i.filter((function(e){return Vk(e)})):i;if(Array.isArray(o)){var f=c?o.filter((function(e){return Vk(e)})):o,h=d.map((function(e,t){return zk(zk({},e),{},{base:f[t]})}));return(t="vertical"===s?Bk().y(Yk).x1(Kk).x0((function(e){return e.base.x})):Bk().x(Kk).y1(Yk).y0((function(e){return e.base.y}))).defined(Vk).curve(u),t(h)}return(t="vertical"===s&&rl(o)?Bk().y(Yk).x1(Kk).x0(o):rl(o)?Bk().x(Kk).y1(Yk).y0(o):Fk().x(Kk).y(Yk)).defined(Vk).curve(u),t(d)},Xk=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Gk(e):n;return o.createElement("path",$k({},ql(e,!1),kl(e),{className:zs("recharts-curve",t),d:i,ref:a}))};function Qk(e){return Qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qk(e)}var Jk=["x","y","top","left","width","height","className"];function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Qk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var nN=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},aN=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.top,s=void 0===i?0:i,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,f=e.height,h=void 0===f?0:f,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach((function(t){tN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x:r,y:a,top:s,left:c,width:d,height:h},rN(e,Jk));return rl(r)&&rl(a)&&rl(d)&&rl(h)&&rl(s)&&rl(c)?o.createElement("path",Zk({},ql(m,!0),{className:zs("recharts-cross",p),d:nN(r,a,d,h,s,c)})):null};function iN(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[ew(t,r,n,a),ew(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function oN(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return iN(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=ew(s,l,c,d),h=ew(s,l,u,d);n=f.x,a=f.y,i=h.x,o=h.y}return[{x:n,y:a},{x:i,y:o}]}function sN(e){return sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sN(e)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lN(Object(r),!0).forEach((function(t){uN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=sN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e){var t,r,n,a=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(r=a.type.defaultProps)||void 0===r?void 0:r.cursor;if(!a||!m||!s||!l||"ScatterChart"!==p&&"axis"!==i)return null;var y=Xk;if("ScatterChart"===p)n=l,y=aN;else if("BarChart"===p)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(h,l,u,f),y=th;else if("radial"===h){var g=iN(l),v=g.cx,b=g.cy,x=g.radius;n={cx:v,cy:b,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:x,outerRadius:x},y=oj}else n={points:oN(h,l,u)},y=Xk;var w=cN(cN(cN(cN({stroke:"#ccc",pointerEvents:"none"},u),n),ql(m,!1)),{},{payload:c,payloadIndex:d,className:zs("recharts-tooltip-cursor",m.className)});return(0,o.isValidElement)(m)?(0,o.cloneElement)(m,w):(0,o.createElement)(y,w)}var fN=["item"],hN=["children","className","width","height","style","compact","title","desc"];function pN(e){return pN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pN(e)}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function yN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||kN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CN(n.key),n)}}function bN(e,t,r){return t=wN(t),function(e,t){if(t&&("object"===pN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xN()?Reflect.construct(t,r||[],wN(e).constructor):t.apply(e,r))}function xN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xN=function(){return!!e})()}function wN(e){return wN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wN(e)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jN(e,t)}function _N(e){return function(e){if(Array.isArray(e))return NN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kN(e,t){if(e){if("string"===typeof e)return NN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?NN(e,t):void 0}}function NN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SN(Object(r),!0).forEach((function(t){EN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EN(e,t,r){return(t=CN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CN(e){var t=function(e,t){if("object"!=pN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pN(t)?t:t+""}var AN={xAxis:["bottom","top"],yAxis:["left","right"]},TN={width:"100%",height:"100%"},PN={x:0,y:0};function DN(e){return e}var MN=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(_N(e),_N(r)):e}),[]);return i.length>0?i:e&&e.length&&rl(n)&&rl(a)?e.slice(n,a+1):[]};function IN(e){return"number"===e?[0,"auto"]:void 0}var LN=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=MN(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce((function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=cl(void 0===u?o:u,i.dataKey,n):c=u&&u[r]||o[r];return c?[].concat(_N(a),[Ox(s,c)]):a}),[])},RN=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(el(u-c)!==el(d-u)){var h=[];if(el(d-u)===el(s[1]-s[0])){f=d;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var m=d+s[1]-s[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var y=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){i=n[l].index;break}}else{var g=Math.min(c,d),v=Math.max(c,d);if(e>(g+u)/2&&e<=(v+u)/2){i=n[l].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<o-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===o-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){i=r[b].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=LN(e,t,c,u),f=function(e,t,r,n){var a=t.find((function(e){return e&&e.index===r}));if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=n.radius;return ON(ON(ON({},n),ew(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=n.angle;return ON(ON(ON({},n),ew(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return PN}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},FN=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=lx(c,a);return r.reduce((function(t,r){var h,p=void 0!==r.type.defaultProps?ON(ON({},r.type.defaultProps),r.props):r.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var _,k,N,S=MN(e.data,{graphicalItems:n.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j})),dataStartIndex:s,dataEndIndex:l}),O=S.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&rl(n)&&rl(a))return!0}return!1})(p.domain,g,m)&&(_=kx(p.domain,null,g),!f||"number"!==m&&"auto"===b||(N=ax(S,y,"category")));var E=IN(m);if(!_||0===_.length){var C,A=null!==(C=p.domain)&&void 0!==C?C:E;if(y){if(_=ax(S,y,m),"category"===m&&f){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(_);v&&T?(k=_,_=Jl()(0,O)):v||(_=Sx(A,_,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(_N(e),[t])}),[]))}else if("category"===m)_=v?_.filter((function(e){return""!==e&&!fl()(e)})):Sx(A,_,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||fl()(t)?e:[].concat(_N(e),[t])}),[]);else if("number"===m){var P=function(e,t,r,n,a){var i=t.map((function(t){return ox(e,t,r,a,n)})).filter((function(e){return!fl()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(S,n.filter((function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===j&&(w||!a)})),y,a,c);P&&(_=P)}!f||"number"!==m&&"auto"===b||(N=ax(S,y,"category"))}else _=f?Jl()(0,O):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:wx(o[j].stackGroups,s,l):sx(S,n.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!r)})),m,c,!0);if("number"===m)_=lk(u,_,j,a,x),A&&(_=kx(A,_,g));else if("category"===m&&A){var D=A;_.every((function(e){return D.indexOf(e)>=0}))&&(_=D)}}return ON(ON({},t),{},EN({},j,ON(ON({},p),{},{axisType:a,domain:_,categoricalDomain:N,duplicateDomain:k,originalDomain:null!==(h=p.domain)&&void 0!==h?h:E,isCategorical:f,layout:c})))}),{})},BN=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=Il(c,a),f={};return d&&d.length?f=FN(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=MN(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),f=d.length,h=lx(c,a),p=-1;return r.reduce((function(e,t){var m,y=(void 0!==t.type.defaultProps?ON(ON({},t.type.defaultProps),t.props):t.props)[i],g=IN("number");return e[y]?e:(p++,h?m=Jl()(0,f):o&&o[y]&&o[y].hasStack?(m=wx(o[y].stackGroups,s,l),m=lk(u,m,y,a)):(m=kx(g,sx(d,r.filter((function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===y&&!a})),"number",c),n.defaultProps.allowDataOverflow),m=lk(u,m,y,a)),ON(ON({},e),{},EN({},y,ON(ON({axisType:a},n.defaultProps),{},{hide:!0,orientation:Qs()(AN,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:h,layout:c}))))}),{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},qN=function(e){var t=e.children,r=e.defaultShowTooltip,n=Ll(t,Wx),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},$N=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UN=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,o=void 0===i?{}:i,s=r.width,l=r.height,c=r.children,u=r.margin||{},d=Ll(c,Wx),f=Ll(c,fd),h=Object.keys(o).reduce((function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:ON(ON({},e),{},EN({},n,e[n]+r.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce((function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:ON(ON({},e),{},EN({},n,Qs()(e,"".concat(n))+r.height))}),{top:u.top||0,bottom:u.bottom||0}),m=ON(ON({},p),h),y=m.bottom;d&&(m.bottom+=d.props.height||Wx.defaultProps.height),f&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,s=i-(o.left||0)-(o.right||0),l=Xb({children:a,legendWidth:s});if(l){var c=n||{},u=c.width,d=c.height,f=l.align,h=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===h)&&"center"!==f&&rl(e[f]))return tx(tx({},e),{},rx({},f,e[f]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===f)&&"middle"!==h&&rl(e[h]))return tx(tx({},e),{},rx({},h,e[h]+(d||0)))}return e}(m,0,r,t));var g=s-m.left-m.right,v=l-m.top-m.bottom;return ON(ON({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(v,0)})},zN=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},HN=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=void 0===n?"axis":n,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,p=$N(u),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Tl(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),v=[];return r.forEach((function(r,p){var b=MN(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:s}),x=void 0!==r.type.defaultProps?ON(ON({},r.type.defaultProps),r.props):r.props,w=x.dataKey,j=x.maxBarSize,_=x["".concat(m,"Id")],k=x["".concat(y,"Id")],N=l.reduce((function(e,r){var n=t["".concat(r.axisType,"Map")],a=x["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||rc(!1);var i=n[a];return ON(ON({},e),{},EN(EN({},r.axisType,i),"".concat(r.axisType,"Ticks"),ux(i)))}),{}),S=N[y],O=N["".concat(y,"Ticks")],E=n&&n[_]&&n[_].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?tx(tx({},e.type.defaultProps),e.props):e.props).stackId;if(nl(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[_].stackGroups),C=Tl(r.type).indexOf("Bar")>=0,A=Nx(S,O),T=[],P=g&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var h=c[u[d]],p=h.items,m=h.cateAxisId,y=p.filter((function(e){return Tl(e.type).indexOf("Bar")>=0}));if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?tx(tx({},g),y[0].props):y[0].props,b=v.barSize,x=v[m];i[x]||(i[x]=[]);var w=fl()(b)?t:b;i[x].push({item:y[0],stackList:y.slice(1),barSize:fl()(w)?void 0:ol(w,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:zN(N,y)});if(C){var D,M,I=fl()(j)?h:j,L=null!==(D=null!==(M=Nx(S,O,!0))&&void 0!==M?M:I)&&void 0!==D?D:0;T=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=ol(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=n/s,h=i.reduce((function(e,t){return e+t.barSize||0}),0);(h+=(s-1)*c)>=n&&(h-=(s-1)*c,c=0),h>=n&&f>0&&(d=!0,h=s*(f*=.9));var p={offset:((n-h)/2|0)-c,size:0};l=i.reduce((function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:d?f:t.barSize}},n=[].concat(Jb(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:p})})),n}),u)}else{var m=ol(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var y=(n-2*m-(s-1)*c)/s;y>1&&(y>>=0);var g=o===+o?Math.min(y,o):y;l=i.reduce((function(e,t,r){var n=[].concat(Jb(e),[{item:t.item,position:{offset:m+(y+c)*r+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),u)}return l}({barGap:d,barCategoryGap:f,bandSize:L!==A?L:A,sizeList:P[k],maxBarSize:I}),L!==A&&(T=T.map((function(e){return ON(ON({},e),{},{position:ON(ON({},e.position),{},{offset:e.position.offset-L/2})})})))}var R,F,B=r&&r.type&&r.type.getComposedData;B&&v.push({props:ON(ON({},B(ON(ON({},N),{},{displayedData:b,props:e,dataKey:w,item:r,bandSize:A,barPosition:T,offset:a,stackedData:E,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},EN(EN(EN({key:r.key||"item-".concat(p)},m,N[m]),y,N[y]),"animationId",i)),childIndex:(R=r,F=e.children,Ml(F).indexOf(R)),item:r})})),v},h=function(e,n){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Rl({props:a}))return null;var c=a.children,d=a.layout,h=a.stackOffset,p=a.data,m=a.reverseStackOrder,y=$N(d),g=y.numericAxisName,v=y.cateAxisName,b=Il(c,r),x=function(e,t,r,n,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce((function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?tx(tx({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(nl(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[il("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return tx(tx({},e),{},rx({},s,l))}),{});return Object.keys(o).reduce((function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,i){var o=s.stackGroups[i];return tx(tx({},t),{},rx({},i,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:gx(e,o.items,a)}))}),{})),tx(tx({},t),{},rx({},i,s))}),{})}(p,b,"".concat(g,"Id"),"".concat(v,"Id"),h,m),w=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return ON(ON({},e),{},EN({},r,BN(a,ON(ON({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&x,dataStartIndex:i,dataEndIndex:o}))))}),{}),j=UN(ON(ON({},w),{},{props:a,graphicalItems:b}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(a,w[e],j,e.replace("Map",""),t)}));var _=function(e){var t=sl(e),r=ux(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ec()(r,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:Nx(t,r)}}(w["".concat(v,"Map")]),k=f(a,ON(ON({},w),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:b,stackGroups:x,offset:j}));return ON(ON({formattedGraphicalItems:k,graphicalItems:b,offset:j,stackGroups:x},_),w)},p=function(e){function r(e){var n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),EN(i=bN(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),EN(i,"accessibilityManager",new yk),EN(i,"handleLegendBBoxUpdate",(function(e){if(e){var t=i.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;i.setState(ON({legendBBox:e},h({props:i.props,dataStartIndex:r,dataEndIndex:n,updateId:a},ON(ON({},i.state),{},{legendBBox:e}))))}})),EN(i,"handleReceiveSyncEvent",(function(e,t,r){if(i.props.syncId===e){if(r===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}})),EN(i,"handleBrushChange",(function(e){var t=e.startIndex,r=e.endIndex;if(t!==i.state.dataStartIndex||r!==i.state.dataEndIndex){var n=i.state.updateId;i.setState((function(){return ON({dataStartIndex:t,dataEndIndex:r},h({props:i.props,dataStartIndex:t,dataEndIndex:r,updateId:n},i.state))})),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}})),EN(i,"handleMouseEnter",(function(e){var t=i.getMouseInfo(e);if(t){var r=ON(ON({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseEnter;pl()(n)&&n(r,e)}})),EN(i,"triggeredAfterMouseMove",(function(e){var t=i.getMouseInfo(e),r=t?ON(ON({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseMove;pl()(n)&&n(r,e)})),EN(i,"handleItemMouseEnter",(function(e){i.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),EN(i,"handleItemMouseLeave",(function(){i.setState((function(){return{isTooltipActive:!1}}))})),EN(i,"handleMouseMove",(function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)})),EN(i,"handleMouseLeave",(function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var r=i.props.onMouseLeave;pl()(r)&&r(t,e)})),EN(i,"handleOuterEvent",(function(e){var t,r=function(e){var t=e&&e.type;return t&&Al[t]?Al[t]:null}(e),n=Qs()(i.props,"".concat(r));r&&pl()(n)&&n(null!==(t=/.*touch.*/i.test(r)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)})),EN(i,"handleClick",(function(e){var t=i.getMouseInfo(e);if(t){var r=ON(ON({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onClick;pl()(n)&&n(r,e)}})),EN(i,"handleMouseDown",(function(e){var t=i.props.onMouseDown;pl()(t)&&t(i.getMouseInfo(e),e)})),EN(i,"handleMouseUp",(function(e){var t=i.props.onMouseUp;pl()(t)&&t(i.getMouseInfo(e),e)})),EN(i,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),EN(i,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])})),EN(i,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])})),EN(i,"handleDoubleClick",(function(e){var t=i.props.onDoubleClick;pl()(t)&&t(i.getMouseInfo(e),e)})),EN(i,"handleContextMenu",(function(e){var t=i.props.onContextMenu;pl()(t)&&t(i.getMouseInfo(e),e)})),EN(i,"triggerSyncEvent",(function(e){void 0!==i.props.syncId&&uk.emit(dk,i.props.syncId,e,i.eventEmitterSymbol)})),EN(i,"applySyncEvent",(function(e){var t=i.props,r=t.layout,n=t.syncMethod,a=i.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(ON({dataStartIndex:o,dataEndIndex:s},h({props:i.props,dataStartIndex:o,dataEndIndex:s,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=i.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"===typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var y=ON(ON({},f),{},{x:f.left,y:f.top}),g=Math.min(l,y.x+y.width),v=Math.min(c,y.y+y.height),b=p[u]&&p[u].value,x=LN(i.state,i.props.data,u),w=p[u]?{x:"horizontal"===r?p[u].coordinate:g,y:"horizontal"===r?v:p[u].coordinate}:PN;i.setState(ON(ON({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else i.setState(e)})),EN(i,"renderCursor",(function(e){var r,n=i.state,a=n.isTooltipActive,s=n.activeCoordinate,l=n.activePayload,c=n.offset,u=n.activeTooltipIndex,d=n.tooltipAxisBandSize,f=i.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:a,p=i.props.layout,m=e.key||"_recharts-cursor";return o.createElement(dN,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:h,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:f})})),EN(i,"renderPolarAxis",(function(e,t,r){var n=Qs()(e,"type.axisType"),a=Qs()(i.state,"".concat(n,"Map")),s=e.type.defaultProps,l=void 0!==s?ON(ON({},s),e.props):e.props,c=a&&a[l["".concat(n,"Id")]];return(0,o.cloneElement)(e,ON(ON({},c),{},{className:zs(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:ux(c,!0)}))})),EN(i,"renderPolarGrid",(function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,a=t.polarRadius,s=i.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=sl(l),d=sl(c),f=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,o.cloneElement)(e,{polarAngles:Array.isArray(n)?n:ux(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(a)?a:ux(u,!0).map((function(e){return e.coordinate})),cx:f,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),EN(i,"renderLegend",(function(){var e=i.state.formattedGraphicalItems,t=i.props,r=t.children,n=t.width,a=t.height,s=i.props.margin||{},l=n-(s.left||0)-(s.right||0),u=Xb({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,f=gN(u,fN);return(0,o.cloneElement)(d,ON(ON({},f),{},{chartWidth:n,chartHeight:a,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))})),EN(i,"renderTooltip",(function(){var e,t=i.props,r=t.children,n=t.accessibilityLayer,a=Ll(r,Jc);if(!a)return null;var s=i.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,f=s.offset,h=null!==(e=a.props.active)&&void 0!==e?e:l;return(0,o.cloneElement)(a,{viewBox:ON(ON({},f),{},{x:f.left,y:f.top}),active:h,label:d,payload:h?u:[],coordinate:c,accessibilityLayer:n})})),EN(i,"renderBrush",(function(e){var t=i.props,r=t.margin,n=t.data,a=i.state,s=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,u=a.updateId;return(0,o.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:fx(i.handleBrushChange,e.props.onChange),data:n,x:rl(e.props.x)?e.props.x:s.left,y:rl(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:rl(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),EN(i,"renderReferenceElement",(function(e,t,r){if(!e)return null;var n=i.clipPathId,a=i.state,s=a.xAxisMap,l=a.yAxisMap,c=a.offset,u=e.type.defaultProps||{},d=e.props,f=d.xAxisId,h=void 0===f?u.xAxisId:f,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,o.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[h],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})})),EN(i,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?ON(ON({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=ON(ON({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:ix(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},ql(u,!1)),kl(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(r.renderActiveDot(u,ON(ON({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s})),EN(i,"renderGraphicChild",(function(e,t,r){var n=i.filterFormatItem(e,t,r);if(!n)return null;var a=i.getTooltipEventType(),s=i.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=Ll(i.props.children,Jc),h=n.props,p=h.points,m=h.isRange,y=h.baseLine,g=void 0!==n.item.type.defaultProps?ON(ON({},n.item.type.defaultProps),n.item.props):n.item.props,v=g.activeDot,b=g.hide,x=g.activeBar,w=g.activeShape,j=Boolean(!b&&l&&f&&(v||x||w)),_={};"axis"!==a&&f&&"click"===f.props.trigger?_={onClick:fx(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(_={onMouseLeave:fx(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:fx(i.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,o.cloneElement)(e,ON(ON({},n.props),_));if(j){if(!(u>=0)){var N,S=(null!==(N=i.getItemByXY(i.state.activeCoordinate))&&void 0!==N?N:{graphicalItem:k}).graphicalItem,O=S.item,E=void 0===O?e:O,C=S.childIndex,A=ON(ON(ON({},n.props),_),{},{activeIndex:C});return[(0,o.cloneElement)(E,A),null,null]}var T,P;if(c.dataKey&&!c.allowDuplicatedCategory){var D="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());T=cl(p,D,d),P=m&&y&&cl(y,D,d)}else T=null===p||void 0===p?void 0:p[u],P=m&&y&&y[u];if(w||x){var M=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,o.cloneElement)(e,ON(ON(ON({},n.props),_),{},{activeIndex:M})),null,null]}if(!fl()(T))return[k].concat(_N(i.renderActivePoints({item:n,activePoint:T,basePoint:P,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]})),EN(i,"renderCustomized",(function(e,t,r){return(0,o.cloneElement)(e,ON(ON({key:"recharts-customized-".concat(r)},i.props),i.state))})),EN(i,"renderMap",{CartesianGrid:{handler:DN,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:DN},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:DN},YAxis:{handler:DN},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(n=e.id)&&void 0!==n?n:il("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=Ws()(i.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),i.state={},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}(r,e),n=r,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=Ll(t,Jc);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=LN(this.state,r,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));f&&(d=ON(ON({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var h={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(h),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){$l([Ll(e.children,Jc)],[Ll(this.props.children,Jc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Ll(this.props.children,Jc);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=sl(c).scale,f=sl(u).scale,h=d&&d.invert?d.invert(i.chartX):null,p=f&&f.invert?f.invert(i.chartY):null;return ON(ON({},i),{},{xValue:h,yValue:p})}var m=RN(this.state,this.props.data,this.props.layout,s);return m?ON(ON({},i),m):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=sl(l);return aw({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Ll(e,Jc),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),ON(ON({},kl(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){uk.on(dk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){uk.removeListener(dk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===Tl(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return o.createElement("defs",null,o.createElement("clipPath",{id:e},o.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=yN(t,2),n=r[0],a=r[1];return ON(ON({},e),{},EN({},n,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=yN(t,2),n=r[0],a=r[1];return ON(ON({},e),{},EN({},n,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?ON(ON({},l.type.defaultProps),l.props):l.props,u=Tl(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return Zf(e,t)}));if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find((function(t){return aw(e,t)}));if(f)return{graphicalItem:o,payload:f}}else if(yj(o,n)||gj(o,n)||vj(o,n)){var h=jj({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:ON(ON({},o),{},{childIndex:p}),payload:vj(o,n)?c.data[h]:o.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!Rl(this))return null;var t,r,n=this.props,a=n.children,i=n.className,s=n.width,l=n.height,c=n.style,u=n.compact,d=n.title,f=n.desc,h=gN(n,hN),p=ql(h,!1);if(u)return o.createElement(E_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement(oc,mN({},p,{width:s,height:l,title:d,desc:f}),this.renderClipPath(),zl(a,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return o.createElement(E_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement("div",mN({className:zs("recharts-wrapper",i),style:ON({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),o.createElement(oc,mN({},p,{width:s,height:l,title:d,desc:f,style:TN}),this.renderClipPath(),zl(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],i&&vN(n.prototype,i),l&&vN(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,l}(o.Component);EN(p,"displayName",t),EN(p,"defaultProps",ON({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),EN(p,"getDerivedStateFromProps",(function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=qN(e);return ON(ON(ON({},f),{},{updateId:0},h(ON(ON({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!vl(c,t.prevMargin)){var p=qN(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=ON(ON({},RN(t,n,s)),{},{updateId:t.updateId+1}),g=ON(ON(ON({},p),m),y);return ON(ON(ON({},g),h(ON({props:e},g),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!$l(a,t.prevChildren)){var v,b,x,w,j=Ll(a,Wx),_=j&&null!==(v=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=j&&null!==(x=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,N=_!==u||k!==d,S=!fl()(n)&&!N?t.updateId:t.updateId+1;return ON(ON({updateId:S},h(ON(ON({props:e},t),{},{updateId:S,dataStartIndex:_,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:_,dataEndIndex:k})}return null})),EN(p,"renderActiveDot",(function(e,t,r){var n;return n=(0,o.isValidElement)(e)?(0,o.cloneElement)(e,t):pl()(e)?e(t):o.createElement(pd,t),o.createElement(uc,{className:"recharts-active-dot",key:r},n)}));var m=(0,o.forwardRef)((function(e,t){return o.createElement(p,mN({},e,{ref:t}))}));return m.displayName=p.displayName,m};function WN(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function VN(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function KN(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function YN(e){return YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YN(e)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(r),!0).forEach((function(t){QN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=YN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=YN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(rl(l)||Rc.isSsr)return function(e,t){return WN(e,t+1)}(a,"number"===typeof l&&rl(l)?l:0);var f=[],h="top"===s||"bottom"===s?"width":"height",p=u&&"width"===h?wh(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=pl()(c)?c(e.value,n):e.value;return"width"===h?VN(wh(a,{fontSize:t,letterSpacing:r}),p,d):wh(a,{fontSize:t,letterSpacing:r})[h]},y=a.length>=2?el(a[1].coordinate-a[0].coordinate):1,g=function(e,t,r){var n="width"===r,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(i,y,h);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:WN(n,u)};var i,o=c,f=function(){return void 0===i&&(i=r(t,o)),i},h=t.coordinate,p=0===c||KN(e,h,f,d,l);p||(c=0,d=s,u+=1),p&&(d=h+e*(f()/2+a),c+=u)};u<=o.length;)if(i=f())return i.v;return[]}(y,g,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=XN(XN({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),KN(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=XN(XN({},u),{},{isShow:!0}))}for(var h=i?s-1:s,p=function(t){var n,i=o[t],s=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=XN(XN({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=XN(XN({},i),{},{tickCoord:i.coordinate});KN(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=XN(XN({},i),{},{isShow:!0}))},m=0;m<h;m++)p(m);return o}(y,g,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=XN(XN({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=XN(XN({},c),{},{tickCoord:c.coordinate});KN(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=XN(XN({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(y,g,m,a,o),f.filter((function(e){return e.isShow})))}var ZN=["viewBox"],eS=["viewBox"],tS=["ticks"];function rS(e){return rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rS(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aS(Object(r),!0).forEach((function(t){fS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hS(n.key),n)}}function lS(e,t,r){return t=uS(t),function(e,t){if(t&&("object"===rS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cS()?Reflect.construct(t,r||[],uS(e).constructor):t.apply(e,r))}function cS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cS=function(){return!!e})()}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uS(e)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dS(e,t)}function fS(e,t,r){return(t=hS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hS(e){var t=function(e,t){if("object"!=rS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rS(t)?t:t+""}var pS=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=lS(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}(t,e),r=t,a=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):pl()(e)?e(t):o.createElement(Xh,nS({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=oS(e,ZN),a=this.props,i=a.viewBox,o=oS(a,eS);return!vl(r,i)||!vl(n,o)||!vl(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||h,v=rl(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=r=e.coordinate,o=(n=(a=c+ +!p*d)-y*g)-y*m,i=v;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!p*u)-y*g)-y*m,o=v;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +p*u)+y*g)+y*m,o=v;break;default:t=r=e.coordinate,o=(n=(a=c+ +p*d)+y*g)+y*m,i=v}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,s=e.mirror,l=e.axisLine,c=iS(iS(iS({},ql(this.props,!1)),ql(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!s||"bottom"===i&&s);c=iS(iS({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+("left"===i&&!s||"right"===i&&s);c=iS(iS({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return o.createElement("line",nS({},c,{className:zs("recharts-cartesian-axis-line",Qs()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,n){var a=this,i=this.props,s=i.tickLine,l=i.stroke,c=i.tick,u=i.tickFormatter,d=i.unit,f=JN(iS(iS({},this.props),{},{ticks:e}),r,n),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=ql(this.props,!1),y=ql(c,!1),g=iS(iS({},m),{},{fill:"none"},ql(s,!1)),v=f.map((function(e,r){var n=a.getTickLineCoord(e),i=n.line,v=n.tick,b=iS(iS(iS(iS({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:l},y),v),{},{index:r,payload:e,visibleTicksCount:f.length,tickFormatter:u});return o.createElement(uc,nS({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Nl(a.props,e,r)),s&&o.createElement("line",nS({},g,i,{className:zs("recharts-cartesian-axis-tick-line",Qs()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(pl()(u)?u(e.value,r):e.value).concat(d||"")))}));return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=oS(l,tS),d=c;return pl()(i)&&(d=c&&c.length>0?i(this.props):i(u)),n<=0||a<=0||!d||!d.length?null:o.createElement(uc,{className:zs("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),yw.renderCallByParent(this.props))}}])&&sS(r.prototype,n),a&&sS(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);function mS(e){return mS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mS(e)}function yS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jS(n.key),n)}}function gS(e,t,r){return t=bS(t),function(e,t){if(t&&("object"===mS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vS()?Reflect.construct(t,r||[],bS(e).constructor):t.apply(e,r))}function vS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vS=function(){return!!e})()}function bS(e){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bS(e)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xS(e,t)}function wS(e,t,r){return(t=jS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jS(e){var t=function(e,t){if("object"!=mS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mS(t)?t:t+""}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function kS(e){var t=e.xAxisId,r=T_(),n=P_(),a=C_(t);return null==a?null:o.createElement(pS,_S({},a,{className:zs("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return ux(e,!0)}}))}fS(pS,"displayName","CartesianAxis"),fS(pS,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return o.createElement(kS,this.props)}}])&&yS(r.prototype,n),a&&yS(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);function SS(e){return SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SS(e)}function OS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DS(n.key),n)}}function ES(e,t,r){return t=AS(t),function(e,t){if(t&&("object"===SS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CS()?Reflect.construct(t,r||[],AS(e).constructor):t.apply(e,r))}function CS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CS=function(){return!!e})()}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AS(e)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TS(e,t)}function PS(e,t,r){return(t=DS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DS(e){var t=function(e,t){if("object"!=SS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=SS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SS(t)?t:t+""}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}wS(NS,"displayName","XAxis"),wS(NS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var IS=function(e){var t=e.yAxisId,r=T_(),n=P_(),a=A_(t);return null==a?null:o.createElement(pS,MS({},a,{className:zs("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return ux(e,!0)}}))},LS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ES(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return o.createElement(IS,this.props)}}])&&OS(r.prototype,n),a&&OS(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);PS(LS,"displayName","YAxis"),PS(LS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var RS=HN({chartName:"BarChart",GraphicalChild:Vj,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:NS},{axisType:"yAxis",AxisComp:LS}],formatAxisMap:Zj}),FS=["x1","y1","x2","y2","key"],BS=["offset"];function qS(e){return qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qS(e)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(r),!0).forEach((function(t){zS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=qS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HS.apply(this,arguments)}function WS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var VS=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.ry;return o.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KS(e,t){var r;if(o.isValidElement(e))r=o.cloneElement(e,t);else if(pl()(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=WS(t,FS),u=ql(c,!1),d=(u.offset,WS(u,BS));r=o.createElement("line",HS({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function YS(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map((function(n,i){var o=US(US({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i});return KS(a,o)}));return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function GS(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map((function(n,i){var o=US(US({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i});return KS(a,o)}));return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function XS(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return o.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:i,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function QS(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==d[0]&&d.unshift(0);var f=d.map((function(e,t){var r=!d[t+1]?i+l-e:d[t+1]-e;if(r<=0)return null;var u=t%n.length;return o.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:r,height:c,stroke:"none",fill:n[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JS=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return cx(JN(US(US(US({},pS.defaultProps),r),{},{ticks:ux(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ZS=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return cx(JN(US(US(US({},pS.defaultProps),r),{},{ticks:ux(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},eO={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tO(e){var t,r,n,a,i,s,l=T_(),c=P_(),u=(0,o.useContext)(k_),d=US(US({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:eO.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:eO.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:eO.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:eO.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:eO.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:eO.verticalFill,x:rl(e.x)?e.x:u.left,y:rl(e.y)?e.y:u.top,width:rl(e.width)?e.width:u.width,height:rl(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,y=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,o.useContext)(w_);return sl(e)}(),x=function(){var e=(0,o.useContext)(j_);return v_()(e,(function(e){return jw()(e.domain,Number.isFinite)}))||sl(e)}();if(!rl(p)||p<=0||!rl(m)||m<=0||!rl(f)||f!==+f||!rl(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||JS,j=d.horizontalCoordinatesGenerator||ZS,_=d.horizontalPoints,k=d.verticalPoints;if((!_||!_.length)&&pl()(j)){var N=g&&g.length,S=j({yAxis:x?US(US({},x),{},{ticks:N?g:x.ticks}):void 0,width:l,height:c,offset:u},!!N||y);ul(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qS(S),"]")),Array.isArray(S)&&(_=S)}if((!k||!k.length)&&pl()(w)){var O=v&&v.length,E=w({xAxis:b?US(US({},b),{},{ticks:O?v:b.ticks}):void 0,width:l,height:c,offset:u},!!O||y);ul(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qS(E),"]")),Array.isArray(E)&&(k=E)}return o.createElement("g",{className:"recharts-cartesian-grid"},o.createElement(VS,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),o.createElement(YS,HS({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:x})),o.createElement(GS,HS({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:x})),o.createElement(XS,HS({},d,{horizontalPoints:_})),o.createElement(QS,HS({},d,{verticalPoints:k})))}tO.displayName="CartesianGrid";var rO=["points","className","baseLinePoints","connectNulls"];function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}function aO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iO(e){return function(e){if(Array.isArray(e))return oO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sO=function(e){return e&&e.x===+e.x&&e.y===+e.y},lO=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){sO(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),sO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce((function(e,t){return[].concat(iO(e),iO(t))}),[])]);var n=r.map((function(e){return e.reduce((function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===r.length?"".concat(n,"Z"):n},cO=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=aO(e,rO);if(!t||!t.length)return null;var s=zs("recharts-polygon",r);if(n&&n.length){var l=i.stroke&&"none"!==i.stroke,c=function(e,t,r){var n=lO(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(lO(t.reverse(),r).slice(1))}(t,n,a);return o.createElement("g",{className:s},o.createElement("path",nO({},ql(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",stroke:"none",d:c})),l?o.createElement("path",nO({},ql(i,!0),{fill:"none",d:lO(t,a)})):null,l?o.createElement("path",nO({},ql(i,!0),{fill:"none",d:lO(n,a)})):null)}var u=lO(t,a);return o.createElement("path",nO({},ql(i,!0),{fill:"Z"===u.slice(-1)?i.fill:"none",className:s,d:u}))};function uO(e){return uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(e)}function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dO.apply(this,arguments)}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fO(Object(r),!0).forEach((function(t){bO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function mO(e,t,r){return t=gO(t),function(e,t){if(t&&("object"===uO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yO()?Reflect.construct(t,r||[],gO(e).constructor):t.apply(e,r))}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yO=function(){return!!e})()}function gO(e){return gO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gO(e)}function vO(e,t){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vO(e,t)}function bO(e,t,r){return(t=xO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=function(e,t){if("object"!=uO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uO(t)?t:t+""}var wO=Math.PI/180,jO=1e-5,_O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mO(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vO(e,t)}(t,e),r=t,a=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):pl()(e)?e(t):o.createElement(Xh,dO({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=ew(r,n,a,e.coordinate),l=ew(r,n,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*wO);return r>jO?"outer"===t?"start":"end":r<-1e-5?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,s=hO(hO({},ql(this.props,!1)),{},{fill:"none"},ql(a,!1));if("circle"===i)return o.createElement(pd,dO({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var l=this.props.ticks.map((function(e){return ew(t,r,n,e.coordinate)}));return o.createElement(cO,dO({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,a=r.tick,i=r.tickLine,s=r.tickFormatter,l=r.stroke,c=ql(this.props,!1),u=ql(a,!1),d=hO(hO({},c),{},{fill:"none"},ql(i,!1)),f=n.map((function(r,n){var f=e.getTickLineCoord(r),h=hO(hO(hO({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},u),{},{index:n,payload:r,x:f.x2,y:f.y2});return o.createElement(uc,dO({className:zs("recharts-polar-angle-axis-tick",iw(a)),key:"tick-".concat(r.coordinate)},Nl(e.props,r,n)),i&&o.createElement("line",dO({className:"recharts-polar-angle-axis-tick-line"},d,f)),a&&t.renderTickItem(a,h,s?s(r.value,n):r.value))}));return o.createElement(uc,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:o.createElement(uc,{className:zs("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&pO(r.prototype,n),a&&pO(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);bO(_O,"displayName","PolarAngleAxis"),bO(_O,"axisType","angleAxis"),bO(_O,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kO=r(2794),NO=r.n(kO),SO=r(9364),OO=r.n(SO),EO=["cx","cy","angle","ticks","axisLine"],CO=["ticks","tick","angle","tickFormatter","stroke"];function AO(e){return AO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AO(e)}function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TO.apply(this,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PO(Object(r),!0).forEach((function(t){qO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function MO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$O(n.key),n)}}function LO(e,t,r){return t=FO(t),function(e,t){if(t&&("object"===AO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RO()?Reflect.construct(t,r||[],FO(e).constructor):t.apply(e,r))}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RO=function(){return!!e})()}function FO(e){return FO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FO(e)}function BO(e,t){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BO(e,t)}function qO(e,t,r){return(t=$O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $O(e){var t=function(e,t){if("object"!=AO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AO(t)?t:t+""}var UO,zO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LO(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BO(e,t)}(t,e),r=t,a=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):pl()(e)?e(t):o.createElement(Xh,TO({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return ew(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=NO()(a,(function(e){return e.coordinate||0}));return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:OO()(a,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,s=MO(e,EO),l=a.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=ew(t,r,l[0],n),u=ew(t,r,l[1],n),d=DO(DO(DO({},ql(s,!1)),{},{fill:"none"},ql(i,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return o.createElement("line",TO({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,a=r.tick,i=r.angle,s=r.tickFormatter,l=r.stroke,c=MO(r,CO),u=this.getTickTextAnchor(),d=ql(c,!1),f=ql(a,!1),h=n.map((function(r,n){var c=e.getTickValueCoord(r),h=DO(DO(DO(DO({textAnchor:u,transform:"rotate(".concat(90-i,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},f),{},{index:n},c),{},{payload:r});return o.createElement(uc,TO({className:zs("recharts-polar-radius-axis-tick",iw(a)),key:"tick-".concat(r.coordinate)},Nl(e.props,r,n)),t.renderTickItem(a,h,s?s(r.value,n):r.value))}));return o.createElement(uc,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?o.createElement(uc,{className:zs("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),yw.renderCallByParent(this.props,this.getViewBox())):null}}])&&IO(r.prototype,n),a&&IO(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);function HO(e){return HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HO(e)}function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(r),!0).forEach((function(t){ZO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eE(n.key),n)}}function GO(e,t,r){return t=QO(t),function(e,t){if(t&&("object"===HO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XO()?Reflect.construct(t,r||[],QO(e).constructor):t.apply(e,r))}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(XO=function(){return!!e})()}function QO(e){return QO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QO(e)}function JO(e,t){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JO(e,t)}function ZO(e,t,r){return(t=eE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e){var t=function(e,t){if("object"!=HO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=HO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HO(t)?t:t+""}qO(zO,"displayName","PolarRadiusAxis"),qO(zO,"axisType","radiusAxis"),qO(zO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var tE=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZO(r=GO(this,t,[e]),"pieRef",null),ZO(r,"sectorRefs",[]),ZO(r,"id",il("recharts-pie-")),ZO(r,"handleAnimationEnd",(function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),pl()(e)&&e()})),ZO(r,"handleAnimationStart",(function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),pl()(e)&&e()})),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JO(e,t)}(t,e),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(o.isValidElement(e))return o.cloneElement(e,t);if(pl()(e))return e(t);var n=zs("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return o.createElement(Xk,WO({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(o.isValidElement(e))return o.cloneElement(e,t);var n=r;if(pl()(e)&&(n=e(t),o.isValidElement(n)))return n;var a=zs("recharts-pie-label-text","boolean"===typeof e||pl()(e)?"":e.className);return o.createElement(Xh,WO({},t,{alignmentBaseline:"middle",className:a}),n)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,i=r.dataKey,s=r.valueKey,l=ql(this.props,!1),c=ql(n,!1),u=ql(a,!1),d=n&&n.offsetRadius||20,f=e.map((function(e,r){var f=(e.startAngle+e.endAngle)/2,h=ew(e.cx,e.cy,e.outerRadius+d,f),p=KO(KO(KO(KO({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(h.x,e.cx)},h),m=KO(KO(KO(KO({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[ew(e.cx,e.cy,e.outerRadius,f),h]}),y=i;return fl()(i)&&fl()(s)?y="value":fl()(i)&&(y=s),o.createElement(uc,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},a&&t.renderLabelLineItem(a,m,"line"),t.renderLabelItem(n,p,nx(e,y)))}));return o.createElement(uc,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,i=r.inactiveShape;return e.map((function(r,s){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=i&&t.hasActiveIndex()?i:null,u=l?n:c,d=KO(KO({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return o.createElement(uc,WO({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Nl(t.props,r,s),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(s)}),o.createElement(mj,WO({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return o.createElement(Hf,{begin:a,duration:i,isActive:n,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var n=t.t,a=[],i=(r&&r[0]).startAngle;return r.forEach((function(e,t){var r=u&&u[t],o=t>0?Qs()(e,"paddingAngle",0):0;if(r){var s=ll(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=KO(KO({},e),{},{startAngle:i+o,endAngle:i+s(n)+o});a.push(l),i=l.endAngle}else{var c=e.endAngle,d=e.startAngle,f=ll(0,c-d)(n),h=KO(KO({},e),{},{startAngle:i+o,endAngle:i+f+o});a.push(h),i=h.endAngle}})),o.createElement(uc,null,e.renderSectorsStatically(a))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&ib()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,i=t.label,s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(r||!n||!n.length||!rl(s)||!rl(l)||!rl(c)||!rl(u))return null;var h=zs("recharts-pie",a);return o.createElement(uc,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),yw.renderCallByParent(this.props,null,!1),(!d||f)&&Rw.renderCallByParent(this.props,n,!1))}}])&&YO(r.prototype,n),a&&YO(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);UO=tE,ZO(tE,"displayName","Pie"),ZO(tE,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Rc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),ZO(tE,"parseDeltaAngle",(function(e,t){return el(t-e)*Math.min(Math.abs(t-e),360)})),ZO(tE,"getRealPieData",(function(e){var t=e.data,r=e.children,n=ql(e,!1),a=Il(r,_w);return t&&t.length?t.map((function(e,t){return KO(KO(KO({payload:e},n),e),a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return KO(KO({},n),e.props)})):[]})),ZO(tE,"parseCoordinateOfPie",(function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=tw(a,i);return{cx:n+ol(e.cx,a,a/2),cy:r+ol(e.cy,i,i/2),innerRadius:ol(e.innerRadius,o,0),outerRadius:ol(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}})),ZO(tE,"getComposedData",(function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?KO(KO({},t.type.defaultProps),t.props):t.props,a=UO.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,h=Math.abs(n.minAngle),p=UO.parseCoordinateOfPie(n,r),m=UO.parseDeltaAngle(o,s),y=Math.abs(m),g=c;fl()(c)&&fl()(d)?(ul(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):fl()(c)&&(ul(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=d);var v,b,x=a.filter((function(e){return 0!==nx(e,g,0)})).length,w=y-x*h-(y>=360?x:x-1)*l,j=a.reduce((function(e,t){var r=nx(t,g,0);return e+(rl(r)?r:0)}),0);j>0&&(v=a.map((function(e,t){var r,n=nx(e,g,0),a=nx(e,u,t),s=(rl(n)?n:0)/j,c=(r=t?b.endAngle+el(m)*l*(0!==n?1:0):o)+el(m)*((0!==n?h:0)+s*w),d=(r+c)/2,y=(p.innerRadius+p.outerRadius)/2,v=[{name:a,value:n,payload:e,dataKey:g,type:f}],x=ew(p.cx,p.cy,y,d);return b=KO(KO(KO({percent:s,cornerRadius:i,name:a,tooltipPayload:v,midAngle:d,middleRadius:y,tooltipPosition:x},e),p),{},{value:nx(e,g),startAngle:r,endAngle:c,payload:e,paddingAngle:el(m)*l})})));return KO(KO({},p),{},{sectors:v,data:a})}));var rE=HN({chartName:"PieChart",GraphicalChild:tE,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_O},{axisType:"radiusAxis",AxisComp:zO}],formatAxisMap:function(e,t,r,n,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=ol(e.cx,i,i/2),u=ol(e.cy,o,o/2),d=tw(i,o,r),f=ol(e.innerRadius,d,0),h=ol(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,r){var i,o=t[r],d=o.domain,p=o.reversed;if(fl()(o.range))"angleAxis"===n?i=[s,l]:"radiusAxis"===n&&(i=[f,h]),p&&(i=[i[1],i[0]]);else{var m=Xx(i=o.range,2);s=m[0],l=m[1]}var y=hx(o,a),g=y.realScaleType,v=y.scale;v.domain(d).range(i),mx(v);var b=vx(v,Yx(Yx({},o),{},{realScaleType:g})),x=Yx(Yx(Yx({},o),b),{},{range:i,radius:h,realScaleType:g,scale:v,cx:c,cy:u,innerRadius:f,outerRadius:h,startAngle:s,endAngle:l});return Yx(Yx({},e),{},Gx({},r,x))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aE=o.createContext&&o.createContext(nE),iE=function(){return iE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},iE.apply(this,arguments)},oE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function sE(e){return e&&e.map((function(e,t){return o.createElement(e.tag,iE({key:t},e.attr),sE(e.child))}))}function lE(e){return function(t){return o.createElement(cE,iE({attr:iE({},e.attr)},t),sE(e.child))}}function cE(e){var t=function(t){var r,n=e.attr,a=e.size,i=e.title,s=oE(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o.createElement("svg",iE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:r,style:iE(iE({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==aE?o.createElement(aE.Consumer,null,(function(e){return t(e)})):t(nE)}function uE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function dE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}}]})(e)}function fE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}}]})(e)}function hE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}}]})(e)}function pE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"}}]})(e)}function mE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(e)}function yE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"}}]})(e)}function gE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}}]})(e)}function vE(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function bE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"}}]})(e)}function xE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}}]})(e)}function wE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}}]})(e)}function jE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}}]})(e)}function _E(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}}]})(e)}function kE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}}]})(e)}function NE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(e)}function SE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}}]})(e)}function OE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"}}]})(e)}function EE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}}]})(e)}function CE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"}}]})(e)}function AE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"}}]})(e)}function TE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}}]})(e)}function PE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(e)}function DE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"}}]})(e)}function ME(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}}]})(e)}function IE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"}}]})(e)}function LE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(e)}function RE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}}]})(e)}function FE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"}}]})(e)}function BE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"}}]})(e)}function qE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"}}]})(e)}function $E(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(e)}function UE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"}}]})(e)}function zE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"}}]})(e)}function HE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}}]})(e)}function WE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}}]})(e)}function VE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}}]})(e)}function KE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}}]})(e)}function YE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"}}]})(e)}function GE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}}]})(e)}function XE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"}}]})(e)}function QE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(e)}function JE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}}]})(e)}function ZE(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}}]})(e)}function eC(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"}}]})(e)}function tC(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}}]})(e)}function rC(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"}}]})(e)}function nC(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}}]})(e)}function aC(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}}]})(e)}function iC(e){return lE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}}]})(e)}const oC=()=>{const{currentUser:e}=Gr(),{showToast:t}=$s(),r=ne(),[n,a]=(0,o.useState)(!0),[i,s]=(0,o.useState)({stats:{},recentTasks:[],upcomingEvents:[],timeData:[],clientData:[]}),l=["#0088FE","#00C49F","#FFBB28","#FF8042","#A28CFF","#FF6B6B"];(0,o.useEffect)((()=>{c()}),[]);const c=async()=>{a(!0);try{var e;const t=await Si.getDashboardSummary(),r=await Si.getChartData("time","week");let n=[],a=[],i=[],o=[];r.labels&&r.datasets&&r.datasets.length>0&&(o=r.labels.map(((e,t)=>({name:e,hours:r.datasets[0].data[t]||0})))),s({stats:{activeTasks:0,completedTasks:0,clients:0,hoursTracked:null!==t&&void 0!==t&&null!==(e=t.this_month)&&void 0!==e&&e.hours?Math.floor(t.this_month.hours):0},recentTasks:n,upcomingEvents:a,timeData:o,clientData:i})}catch(r){console.error("Error fetching dashboard data:",r),t("\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error"),s({stats:{activeTasks:0,completedTasks:0,clients:0,hoursTracked:0},recentTasks:[],upcomingEvents:[],timeData:[],clientData:[]})}finally{a(!1)}},u=e=>{const t=Do(e),r=Uo(t,new Date);return 0===r?"\u4eca\u65e5":1===r?"\u660e\u65e5":-1===r?"\u6628\u65e5":r<-1?`${Math.abs(r)}\u65e5\u524d`:r>1?`${r}\u65e5\u5f8c`:To(t,"MM/dd")};return n?(0,Vr.jsx)("div",{className:"flex justify-center items-center h-full p-4",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):(0,Vr.jsxs)("div",{className:"p-4",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}),(0,Vr.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg p-6 mb-8 shadow-md",children:[(0,Vr.jsxs)("h2",{className:"text-2xl font-semibold mb-2",children:["\u304a\u304b\u3048\u308a\u306a\u3055\u3044\u3001",(null===e||void 0===e?void 0:e.first_name)||"User","\u3055\u3093\uff01"]}),(0,Vr.jsx)("p",{children:"\u4eca\u65e5\u3082\u7d20\u6674\u3089\u3057\u3044\u4e00\u65e5\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u4eca\u65e5\u306e\u3042\u306a\u305f\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u72b6\u6cc1\u3092\u304a\u77e5\u3089\u305b\u3057\u307e\u3059\u3002"})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Vr.jsx)("div",{className:"bg-blue-100 text-blue-800 rounded-lg shadow p-6",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(CE,{className:"w-8 h-8 mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"font-medium",children:"\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30bf\u30b9\u30af"}),(0,Vr.jsx)("p",{className:"text-3xl font-bold mt-1",children:i.stats.activeTasks})]})]})}),(0,Vr.jsx)("div",{className:"bg-green-100 text-green-800 rounded-lg shadow p-6",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(NE,{className:"w-8 h-8 mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"font-medium",children:"\u5b8c\u4e86\u3057\u305f\u30bf\u30b9\u30af"}),(0,Vr.jsx)("p",{className:"text-3xl font-bold mt-1",children:i.stats.completedTasks})]})]})}),(0,Vr.jsx)("div",{className:"bg-purple-100 text-purple-800 rounded-lg shadow p-6",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(aC,{className:"w-8 h-8 mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"font-medium",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u6570"}),(0,Vr.jsx)("p",{className:"text-3xl font-bold mt-1",children:i.stats.clients})]})]})}),(0,Vr.jsx)("div",{className:"bg-red-100 text-red-800 rounded-lg shadow p-6",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(PE,{className:"w-8 h-8 mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"font-medium",children:"\u4eca\u6708\u306e\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("p",{className:"text-3xl font-bold mt-1",children:[i.stats.hoursTracked,"h"]})]})]})})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,Vr.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h3",{className:"text-lg font-bold",children:"\u4eca\u9031\u306e\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",onClick:()=>r("/time-management"),children:["\u8a73\u7d30\u3092\u898b\u308b",(0,Vr.jsx)(uE,{className:"ml-1"})]})]}),(0,Vr.jsx)("div",{className:"h-72",children:i.timeData.length>0?(0,Vr.jsx)(Xl,{width:"100%",height:"100%",children:(0,Vr.jsxs)(RS,{data:i.timeData,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Vr.jsx)(tO,{strokeDasharray:"3 3"}),(0,Vr.jsx)(NS,{dataKey:"name"}),(0,Vr.jsx)(LS,{}),(0,Vr.jsx)(Jc,{formatter:e=>[`${e.toFixed(1)}\u6642\u9593`,"\u4f5c\u696d\u6642\u9593"]}),(0,Vr.jsx)(fd,{}),(0,Vr.jsx)(Vj,{dataKey:"hours",name:"\u4f5c\u696d\u6642\u9593",fill:"#3B82F6"})]})}):(0,Vr.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,Vr.jsx)(PE,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u4f5c\u696d\u6642\u9593\u30c7\u30fc\u30bf\u306f\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",onClick:()=>r("/time-management"),children:"\u6642\u9593\u7ba1\u7406\u30da\u30fc\u30b8\u3078"})]})})]}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h3",{className:"text-lg font-bold",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5225\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",onClick:()=>r("/clients"),children:["\u8a73\u7d30\u3092\u898b\u308b",(0,Vr.jsx)(uE,{className:"ml-1"})]})]}),(0,Vr.jsx)("div",{className:"h-72 flex flex-col items-center justify-center",children:i.clientData.length>0?(0,Vr.jsx)(Xl,{width:"100%",height:"100%",children:(0,Vr.jsxs)(rE,{children:[(0,Vr.jsx)(tE,{data:i.clientData,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,percent:r}=e;return`${t.substring(0,4)}... ${(100*r).toFixed(0)}%`},children:i.clientData.map(((e,t)=>(0,Vr.jsx)(_w,{fill:l[t%l.length]},`cell-${t}`)))}),(0,Vr.jsx)(Jc,{formatter:(e,t,r)=>[`${e}\u6642\u9593`,r.payload.name]})]})}):(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)(aC,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c7\u30fc\u30bf\u306f\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",onClick:()=>r("/clients"),children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30da\u30fc\u30b8\u3078"})]})})]})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Vr.jsx)("div",{className:"lg:col-span-2",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h3",{className:"text-lg font-bold",children:"\u6700\u8fd1\u306e\u30bf\u30b9\u30af"}),(0,Vr.jsxs)("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",onClick:()=>r("/tasks"),children:["\u3059\u3079\u3066\u8868\u793a",(0,Vr.jsx)(uE,{className:"ml-1"})]})]}),i.recentTasks.length>0?(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"min-w-full",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{className:"bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,Vr.jsx)("th",{className:"px-6 py-3",children:"\u30bf\u30b9\u30af"}),(0,Vr.jsx)("th",{className:"px-6 py-3",children:"\u671f\u9650"}),(0,Vr.jsx)("th",{className:"px-6 py-3",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("th",{className:"px-6 py-3",children:"\u512a\u5148\u5ea6"})]})}),(0,Vr.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.recentTasks.map((e=>{return(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("div",{className:"font-medium text-gray-900",children:e.title})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:""+(t=e.dueDate,Do(t)<new Date&&"Completed"!==e.status?"text-red-500 font-semibold":"text-gray-500"),children:u(e.dueDate)})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("Completed"===e.status?"bg-green-100 text-green-800":"In Progress"===e.status?"bg-blue-100 text-blue-800":"In Review"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"Completed"===e.status?"\u5b8c\u4e86":"In Progress"===e.status?"\u9032\u884c\u4e2d":"In Review"===e.status?"\u30ec\u30d3\u30e5\u30fc\u4e2d":"\u672a\u7740\u624b"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("High"===e.priority?"bg-red-100 text-red-800":"Medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"High"===e.priority?"\u9ad8":"Medium"===e.priority?"\u4e2d":"\u4f4e"})})]},e.id);var t}))})]})}):(0,Vr.jsxs)("div",{className:"py-12 text-center",children:[(0,Vr.jsx)(CE,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u6700\u8fd1\u306e\u30bf\u30b9\u30af\u306f\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",onClick:()=>r("/tasks"),children:"\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b"})]})]})}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h3",{className:"text-lg font-bold",children:"\u4eca\u5f8c\u306e\u4e88\u5b9a"}),(0,Vr.jsxs)("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",onClick:()=>r("/calendar"),children:["\u3059\u3079\u3066\u8868\u793a",(0,Vr.jsx)(uE,{className:"ml-1"})]})]}),i.upcomingEvents.length>0?(0,Vr.jsx)("div",{className:"space-y-4",children:i.upcomingEvents.map((e=>(0,Vr.jsxs)("div",{className:"flex items-start space-x-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,Vr.jsx)("div",{className:"rounded-full p-2 "+("meeting"===e.type?"bg-blue-100 text-blue-600":"deadline"===e.type?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:"meeting"===e.type?(0,Vr.jsx)(_E,{className:"w-5 h-5"}):"deadline"===e.type?(0,Vr.jsx)(PE,{className:"w-5 h-5"}):(0,Vr.jsx)(wE,{className:"w-5 h-5"})}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h4",{className:"font-medium",children:e.title}),(0,Vr.jsx)("p",{className:"text-sm text-gray-600",children:e.date})]})]},e.id)))}):(0,Vr.jsxs)("div",{className:"py-8 text-center",children:[(0,Vr.jsx)(_E,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",onClick:()=>r("/calendar"),children:"\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u898b\u308b"})]})]}),(0,Vr.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[(0,Vr.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u30af\u30a4\u30c3\u30af\u30a2\u30af\u30b7\u30e7\u30f3"}),(0,Vr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vr.jsxs)("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg flex flex-col items-center transition-colors",onClick:()=>r("/tasks/new"),children:[(0,Vr.jsx)(CE,{className:"w-6 h-6 text-blue-600 mb-2"}),(0,Vr.jsx)("span",{className:"text-sm",children:"\u30bf\u30b9\u30af\u4f5c\u6210"})]}),(0,Vr.jsxs)("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg flex flex-col items-center transition-colors",onClick:()=>r("/time-management"),children:[(0,Vr.jsx)(PE,{className:"w-6 h-6 text-green-600 mb-2"}),(0,Vr.jsx)("span",{className:"text-sm",children:"\u6642\u9593\u8a18\u9332"})]}),(0,Vr.jsxs)("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg flex flex-col items-center transition-colors",onClick:()=>r("/clients"),children:[(0,Vr.jsx)(aC,{className:"w-6 h-6 text-purple-600 mb-2"}),(0,Vr.jsx)("span",{className:"text-sm",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"})]}),(0,Vr.jsxs)("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg flex flex-col items-center transition-colors",onClick:()=>r("/wiki"),children:[(0,Vr.jsx)(ME,{className:"w-6 h-6 text-orange-600 mb-2"}),(0,Vr.jsx)("span",{className:"text-sm",children:"Wiki"})]})]})]})]})]})]})},sC=e=>{let{filters:t,onFilterChange:r,onApplyFilters:n,onResetFilters:a,onClose:i,currentUser:s,usersList:l=[],clientsList:c=[]}=e;const[u,d]=(0,o.useState)([]);return(0,o.useEffect)((()=>{(async()=>{try{if(window.__SPHERE_CACHED_STATUSES&&window.__SPHERE_CACHED_STATUSES.length>0)return void d(window.__SPHERE_CACHED_STATUSES);const e=await ki.getStatuses();e.data&&Array.isArray(e.data)&&d(e.data.sort(((e,t)=>e.order-t.order)))}catch(e){console.error("\u30b9\u30c6\u30fc\u30bf\u30b9\u4e00\u89a7\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f:",e)}})()}),[]),(0,Vr.jsxs)("div",{className:"bg-white shadow-card rounded-lg p-4 mb-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h2",{className:"text-lg font-medium text-gray-700",children:"\u30d5\u30a3\u30eb\u30bf\u30fc\u6761\u4ef6"}),(0,Vr.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:i,children:(0,Vr.jsx)(iC,{className:"w-5 h-5"})})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30bf\u30a4\u30c8\u30eb\u691c\u7d22"}),(0,Vr.jsxs)("div",{className:"relative",children:[(0,Vr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Vr.jsx)(tC,{className:"text-gray-400"})}),(0,Vr.jsx)("input",{type:"text",className:"pl-10 appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"\u30bf\u30b9\u30af\u540d\u3092\u5165\u529b...",value:t.searchTerm,onChange:e=>r("searchTerm",e.target.value)})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsxs)("select",{className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:t.status,onChange:e=>r("status",e.target.value),children:[(0,Vr.jsx)("option",{value:"",children:"\u3059\u3079\u3066"}),u.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,Vr.jsxs)("select",{className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:t.client,onChange:e=>r("client",e.target.value),children:[(0,Vr.jsx)("option",{value:"",children:"\u3059\u3079\u3066"}),c.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u62c5\u5f53\u8005"}),(0,Vr.jsxs)("select",{className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:t.assignee,onChange:e=>r("assignee",e.target.value),children:[(0,Vr.jsx)("option",{value:"",children:"\u3059\u3079\u3066\u306e\u30bf\u30b9\u30af"}),(0,Vr.jsx)("option",{value:(null===s||void 0===s?void 0:s.id)||"",children:"\u81ea\u5206\u306e\u62c5\u5f53\u30bf\u30b9\u30af"}),(0,Vr.jsx)("option",{value:"unassigned",children:"\u672a\u5272\u308a\u5f53\u3066\u30bf\u30b9\u30af"}),l.length>0&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),l.filter((e=>e.id!==(null===s||void 0===s?void 0:s.id))).map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.first_name&&e.last_name?`${e.last_name} ${e.first_name}`:e.username||`\u30e6\u30fc\u30b6\u30fc ${e.id}`},e.id)))]})]})]}),(0,Vr.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{id:"hide-completed",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",checked:t.hide_completed||!1,onChange:e=>r("hide_completed",e.target.checked)}),(0,Vr.jsx)("label",{htmlFor:"hide-completed",className:"ml-2 block text-sm text-gray-700",children:"\u5b8c\u4e86\u30bf\u30b9\u30af\u3092\u975e\u8868\u793a"})]}),(0,Vr.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,Vr.jsxs)("button",{className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center",onClick:n,children:[(0,Vr.jsx)(bE,{className:"mr-2 h-4 w-4"}),"\u9069\u7528"]}),(0,Vr.jsx)("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors text-sm",onClick:a,children:"\u30ea\u30bb\u30c3\u30c8"})]})]})]})]})},lC=e=>{let{tasks:t,sortConfig:r,onSortChange:n,bulkEditMode:a,selectedTasks:i,onSelectTask:s,onSelectAll:l,onTaskSelect:c}=e;(0,o.useEffect)((()=>{t.length>0&&(console.log("\u30bf\u30b9\u30af\u30c7\u30fc\u30bf\u306e\u30b5\u30f3\u30d7\u30eb:",t[0]),console.log("\u6c7a\u7b97\u671f\u95a2\u9023\u306e\u30d7\u30ed\u30d1\u30c6\u30a3:",{fiscal_year:t[0].fiscal_year,fiscal_year_data:t[0].fiscal_year_data,fiscal_year_name:t[0].fiscal_year_name}))}),[t]);const u=e=>e.status?e.status_data?e.status_data.name:e.status:"\u672a\u8a2d\u5b9a",d=e=>{var t;const r=(null===(t=e.status_data)||void 0===t?void 0:t.name)||"";return r.includes("\u5b8c\u4e86")?"badge-success":r.includes("\u4f5c\u696d\u4e2d")||r.includes("\u9032\u884c\u4e2d")?"badge-info":"\u30ec\u30d3\u30e5\u30fc\u4e2d"===r?"badge-warning":r.includes("\u5dee\u623b")?"badge-error":"badge-ghost"},f=e=>e.priority?e.priority_data?e.priority_data.priority_value:e.priority:"\u672a\u8a2d\u5b9a",h=e=>(console.log("\u6c7a\u7b97\u671f\u30c7\u30fc\u30bf:",{task_id:e.id,fiscal_year:e.fiscal_year,fiscal_year_data:e.fiscal_year_data,fiscal_year_name:e.fiscal_year_name}),e.fiscal_year_name?e.fiscal_year_name.includes("\u7b2c")&&e.fiscal_year_name.includes("\u671f")?e.fiscal_year_name:p(e.fiscal_year_name):e.fiscal_year_data&&e.fiscal_year_data.name?e.fiscal_year_data.name.includes("\u7b2c")&&e.fiscal_year_data.name.includes("\u671f")?e.fiscal_year_data.name:p(e.fiscal_year_data.name,e.fiscal_year_data.end_date):e.fiscal_year?"object"===typeof e.fiscal_year&&e.fiscal_year.name?e.fiscal_year.name.includes("\u7b2c")&&e.fiscal_year.name.includes("\u671f")?e.fiscal_year.name:p(e.fiscal_year.name,e.fiscal_year.end_date):p(String(e.fiscal_year)):"-"),p=(e,t)=>{if(/^\d+$/.test(e)){const r=t||"2024-12-31";return`\u7b2c${e}\u671f(${"string"===typeof r?r:r.toISOString().split("T")[0]})`}return e},m=e=>!!(e.fiscal_year_name||e.fiscal_year_data&&e.fiscal_year_data.name||e.fiscal_year);return(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"table w-full",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[a&&(0,Vr.jsx)("th",{className:"w-12",children:(0,Vr.jsx)("input",{type:"checkbox",className:"checkbox",checked:i.length===t.length&&t.length>0,onChange:l})}),(0,Vr.jsx)("th",{children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("th",{children:"\u30bf\u30a4\u30c8\u30eb"}),(0,Vr.jsx)("th",{children:"\u62c5\u5f53\u8005"}),(0,Vr.jsxs)("th",{onClick:()=>n("due_date"),className:"cursor-pointer select-none",children:["\u671f\u9650\u65e5","due_date"===r.field&&(0,Vr.jsx)("span",{className:"ml-1",children:"asc"===r.direction?"\u2191":"\u2193"})]}),(0,Vr.jsxs)("th",{onClick:()=>n("priority"),className:"cursor-pointer select-none",children:["\u512a\u5148\u5ea6","priority"===r.field&&(0,Vr.jsx)("span",{className:"ml-1",children:"asc"===r.direction?"\u2191":"\u2193"})]}),(0,Vr.jsx)("th",{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,Vr.jsx)("th",{children:"\u6c7a\u7b97\u671f"}),(0,Vr.jsx)("th",{children:"\u30ab\u30c6\u30b4\u30ea\u30fc"})]})}),(0,Vr.jsx)("tbody",{children:t.map((e=>{var t,r,n,o,l;return(0,Vr.jsxs)("tr",{className:"hover "+(i.includes(e.id)?"bg-indigo-50":""),onClick:t=>{a?t.target.closest('input[type="checkbox"]')||s(e.id):t.target.closest("button")||c(e)},children:[a&&(0,Vr.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,Vr.jsx)("input",{type:"checkbox",className:"checkbox",checked:i.includes(e.id),onChange:()=>s(e.id)})}),(0,Vr.jsx)("td",{children:e.status&&(0,Vr.jsx)("span",{className:`badge ${d(e)}`,children:u(e)})}),(0,Vr.jsx)("td",{className:"font-medium",children:e.title}),(0,Vr.jsx)("td",{children:(null===(t=e.assignee_data)||void 0===t?void 0:t.name)||e.assignee_name||(null===(r=e.assignee)||void 0===r?void 0:r.name)||""}),(0,Vr.jsx)("td",{children:e.due_date?new Date(e.due_date).toLocaleDateString():"-"}),(0,Vr.jsx)("td",{children:e.priority&&(0,Vr.jsx)("span",{className:"badge",children:f(e)})}),(0,Vr.jsxs)("td",{children:[(null===(n=e.client_data)||void 0===n?void 0:n.name)||e.client_name||(null===(o=e.client)||void 0===o?void 0:o.name)||"",e.is_fiscal_task&&(0,Vr.jsx)("span",{className:"ml-1 badge badge-xs badge-accent",children:"\u6c7a\u7b97"})]}),(0,Vr.jsx)("td",{children:m(e)?(0,Vr.jsx)("span",{className:"badge badge-outline badge-secondary",children:h(e)}):"-"}),(0,Vr.jsx)("td",{children:e.category&&(0,Vr.jsx)("span",{className:"badge badge-outline badge-primary",children:(null===(l=e.category_data)||void 0===l?void 0:l.name)||e.category_name||("object"===typeof e.category?e.category.name:e.category)})})]},e.id)}))})]})})},cC=e=>{let{selectedCount:t,onEditClick:r,onClearSelection:n}=e;return 0===t?null:(0,Vr.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 p-3 rounded-lg mb-4 flex justify-between items-center",children:[(0,Vr.jsxs)("div",{className:"font-medium text-indigo-800",children:[t,"\u4ef6\u306e\u30bf\u30b9\u30af\u3092\u9078\u629e\u4e2d"]}),(0,Vr.jsxs)("div",{className:"flex space-x-2",children:[(0,Vr.jsx)("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white py-1.5 px-4 rounded-lg transition-colors text-sm",onClick:r,children:"\u4e00\u62ec\u7de8\u96c6"}),(0,Vr.jsx)("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-1.5 px-4 rounded-lg transition-colors text-sm",onClick:n,children:"\u9078\u629e\u89e3\u9664"})]})]})},uC=e=>{let{isOpen:t,onClose:r,selectedCount:n,bulkEditData:a,onBulkEditDataChange:i,onSubmit:o,isLoading:s,currentUser:l,usersList:c=[]}=e;return t?(0,Vr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Vr.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Vr.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,Vr.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle bg-white rounded-lg shadow-xl transform transition-all",children:[(0,Vr.jsxs)("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:["\u30bf\u30b9\u30af\u306e\u4e00\u62ec\u7de8\u96c6 (",n,"\u4ef6)"]}),(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsxs)("select",{className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:a.status,onChange:e=>i("status",e.target.value),children:[(0,Vr.jsx)("option",{value:"",children:"\u5909\u66f4\u3057\u306a\u3044"}),(0,Vr.jsx)("option",{value:"1",children:"\u672a\u7740\u624b"}),(0,Vr.jsx)("option",{value:"2",children:"\u4f5c\u696d\u4e2d"}),(0,Vr.jsx)("option",{value:"3",children:"\u4f5c\u696d\u8005\u5b8c\u4e86"}),(0,Vr.jsx)("option",{value:"5",children:"\u30ec\u30d3\u30e5\u30fc\u4e2d"}),(0,Vr.jsx)("option",{value:"6",children:"\u5dee\u623b\u4e2d"}),(0,Vr.jsx)("option",{value:"7",children:"\u5dee\u623b\u5bfe\u5fdc\u4e2d"}),(0,Vr.jsx)("option",{value:"8",children:"\u5dee\u623b\u5bfe\u5fdc\u6e08"}),(0,Vr.jsx)("option",{value:"11",children:"\u5b8c\u4e86"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u4f5c\u696d\u8005"}),(0,Vr.jsxs)("select",{className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:a.worker,onChange:e=>i("worker",e.target.value),children:[(0,Vr.jsx)("option",{value:"",children:"\u5909\u66f4\u3057\u306a\u3044"}),(0,Vr.jsx)("option",{value:(null===l||void 0===l?void 0:l.id)||"",children:"\u81ea\u5206"}),c&&c.length>0&&c.filter((e=>e.id!==(null===l||void 0===l?void 0:l.id))).map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.full_name||e.username||e.email||`\u30e6\u30fc\u30b6\u30fc ${e.id}`},e.id)))]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30ec\u30d3\u30e5\u30a2\u30fc"}),(0,Vr.jsxs)("select",{className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:a.reviewer,onChange:e=>i("reviewer",e.target.value),children:[(0,Vr.jsx)("option",{value:"",children:"\u5909\u66f4\u3057\u306a\u3044"}),(0,Vr.jsx)("option",{value:(null===l||void 0===l?void 0:l.id)||"",children:"\u81ea\u5206"}),c&&c.length>0&&c.filter((e=>e.id!==(null===l||void 0===l?void 0:l.id))).map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.full_name||e.username||e.email||`\u30e6\u30fc\u30b6\u30fc ${e.id}`},e.id)))]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u671f\u9650\u65e5"}),(0,Vr.jsx)("input",{type:"date",className:"appearance-none relative block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:a.due_date,onChange:e=>i("due_date",e.target.value)})]})]}),(0,Vr.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Vr.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:r,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:o,disabled:s,children:s?"\u66f4\u65b0\u4e2d...":"\u4e00\u62ec\u66f4\u65b0"})]})]})]})}):null},dC=e=>{let{isOpen:t,task:r,onClose:n,onDelete:a}=e;return t&&r?(0,Vr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Vr.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),(0,Vr.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,Vr.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle bg-white rounded-lg shadow-xl transform transition-all",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"\u30bf\u30b9\u30af\u306e\u524a\u9664"}),(0,Vr.jsx)("div",{className:"mt-2",children:(0,Vr.jsxs)("p",{className:"text-sm text-gray-500",children:["\u300c",r.title,"\u300d\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f\u3053\u306e\u64cd\u4f5c\u306f\u5143\u306b\u623b\u305b\u307e\u305b\u3093\u3002"]})}),(0,Vr.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Vr.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:n,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:a,children:"\u524a\u9664\u3059\u308b"})]})]})]})}):null},fC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{field:"due_date",direction:"asc"},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"priority";const[n,a]=(0,o.useState)(e),[i,s]=(0,o.useState)(t),[l,c]=(0,o.useState)(r),u=e=>{switch(e){case"high":return 3;case"medium":return 2;case"low":return 1;default:return 0}},d=e=>[...e].sort(((e,t)=>{let r=0;if("due_date"===i.field){const n=e.due_date?new Date(e.due_date):new Date(864e13),a=t.due_date?new Date(t.due_date):new Date(864e13);r="asc"===i.direction?n-a:a-n}else if("priority"===i.field){const n=u(e.priority),a=u(t.priority);r="asc"===i.direction?a-n:n-a}else{const n=e[i.field]||"",a=t[i.field]||"";r="asc"===i.direction?n.toString().localeCompare(a.toString()):a.toString().localeCompare(n.toString())}if(0===r&&l){if("priority"===l){const r=u(e.priority);return u(t.priority)-r}if("due_date"===l){return(e.due_date?new Date(e.due_date):new Date(864e13))-(t.due_date?new Date(t.due_date):new Date(864e13))}}return r}));return(0,o.useEffect)((()=>{a((e=>d([...e])))}),[i,l]),{tasks:n,sortConfig:i,secondarySortField:l,setSecondarySortField:c,handleSortChange:e=>{s((t=>t.field===e?{field:e,direction:"asc"===t.direction?"desc":"asc"}:{field:e,direction:"asc"}))},updateTasks:e=>{a(d(e))},sortTasks:d}},hC=(0,o.forwardRef)(((e,t)=>{const r=te(),[n,a]=(0,o.useState)(!1),[i,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[f,h]=(0,o.useState)(null),[p,m]=(0,o.useState)(!0),{currentUser:y}=Gr(),[g,v]=(0,o.useState)(!1),[b,x]=(0,o.useState)([]),[w,j]=(0,o.useState)([]),[_,k]=(0,o.useState)(!1),[N,S]=(0,o.useState)([]),[O,E]=(0,o.useState)(!1),[C,A]=(0,o.useState)({status:"",worker:"",reviewer:"",due_date:""}),[T,P]=(0,o.useState)({status:"",searchTerm:"",client:"",assignee:(null===y||void 0===y?void 0:y.id)||"",hide_completed:!0});(0,o.useEffect)((()=>{(()=>{if(null===y||void 0===y||!y.id)return;const e=localStorage.getItem(`task_filters_${y.id}`);if(e)try{const t=JSON.parse(e);console.log("\u4fdd\u5b58\u3055\u308c\u305f\u30d5\u30a3\u30eb\u30bf\u30fc\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3057\u305f:",t),P(t)}catch(i){console.error("\u30d5\u30a3\u30eb\u30bf\u30fc\u8a2d\u5b9a\u306e\u8aad\u307f\u8fbc\u307f\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f:",i)}else P({status:"",searchTerm:"",client:"",assignee:y.id,hide_completed:!0})})()}),[y]);const D=(0,o.useCallback)((()=>{if(null!==y&&void 0!==y&&y.id)try{localStorage.setItem(`task_filters_${y.id}`,JSON.stringify(T)),console.log("\u30d5\u30a3\u30eb\u30bf\u30fc\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f:",T)}catch(i){console.error("\u30d5\u30a3\u30eb\u30bf\u30fc\u8a2d\u5b9a\u306e\u4fdd\u5b58\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f:",i)}}),[T,y]);(0,o.useEffect)((()=>{g&&D()}),[T,g,D]),(0,o.useEffect)((()=>{null!==y&&void 0!==y&&y.id&&!g&&(console.log("\ud83d\udd04 \u521d\u671f\u5316\u6642\u306b\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u8a2d\u5b9a\u3057\u307e\u3059:",y.id),P((e=>({...e,assignee:y.id}))),v(!0))}),[y,g]),(0,o.useEffect)((()=>{const e=new URLSearchParams(r.search).get("assignee");console.log("\ud83d\udd0d URL\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u62c5\u5f53\u8005\u60c5\u5831\u3092\u53d6\u5f97:",e),console.log("\ud83d\udd0d \u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fcID:",null===y||void 0===y?void 0:y.id),!e&&null!==y&&void 0!==y&&y.id?(console.log("\ud83d\udd04 URL\u306b\u62c5\u5f53\u8005\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u306a\u3044\u305f\u3081\u3001\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059"),P((e=>({...e,assignee:y.id})))):e&&(console.log("\ud83d\udd04 URL\u304b\u3089\u6307\u5b9a\u3055\u308c\u305f\u62c5\u5f53\u8005\u3067\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059:",e),P((t=>({...t,assignee:e}))))}),[r.search,null===y||void 0===y?void 0:y.id]);const{tasks:M,sortConfig:I,handleSortChange:L,updateTasks:R,sortTasks:F}=fC([]),B=async()=>{a(!0);try{const n={};Object.entries(T).forEach((e=>{let[t,r]=e;""!==r&&null!==r&&void 0!==r&&(n[t]=r)}));const a=""===T.assignee||"unassigned"===T.assignee;null===y||void 0===y||!y.id||n.assignee||a||(n.assignee=y.id,console.log("\ud83d\udea8 \u62c5\u5f53\u8005\u30d5\u30a3\u30eb\u30bf\u30fc\u304c\u672a\u8a2d\u5b9a\u306e\u305f\u3081\u3001\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fcID\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f:",y.id));const i=T.hide_completed;delete n.hide_completed,console.log("\ud83d\udd0d \u6700\u7d42\u7684\u306a\u30d5\u30a3\u30eb\u30bf\u30fc\u8a2d\u5b9a:",n,"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u5b8c\u4e86\u30bf\u30b9\u30af\u975e\u8868\u793a:",i),console.log("\u2b50\u2b50\u2b50 Fetching tasks with filters:",n),console.log("\u2b50\u2b50\u2b50 Using API endpoint: /api/tasks/"),console.group("Task API Request Debugging");let o=[];try{const r=await ki.getTasks(n);console.log("API Response full:",r),r&&Array.isArray(r.results)?(console.log("Using API response results array:",r.results.length),o=r.results,s(null)):Array.isArray(r)?(console.log("Using raw API response array:",r.length),o=r,s(null)):r&&"object"===typeof r&&Object.keys(r).length>0?(console.warn("API response format unexpected:",r),r.results&&0===r.results.length?(console.log("Empty results from API"),o=[],s(null)):(console.log("Using unexpected API response format as fallback"),r.detail?(console.error("API returned error:",r.detail),s(`API\u30a8\u30e9\u30fc: ${r.detail}`),o=[]):(o=[r],s(null)))):(console.error("API response is empty or invalid:",r),o=[],s("\u30bf\u30b9\u30af\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")),T.assignee&&(e=o,o=(t=T.assignee)&&""!==t?"unassigned"===t?(console.log("\ud83d\udd0d \u672a\u5272\u308a\u5f53\u3066\u30bf\u30b9\u30af\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059"),e.filter((e=>!(e.assignee||e.assignee_data&&e.assignee_data.id||e.assignee_name&&e.assignee_name.id)))):(console.log("\ud83d\udd0d \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u30bf\u30b9\u30af\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 - \u62c5\u5f53\u8005ID:",t),e.filter((e=>{const r=e.assignee||e.assignee_data&&e.assignee_data.id||e.assignee_name&&e.assignee_name.id,n=String(r)===String(t);return n||(console.log(`\u30bf\u30b9\u30af\u300c${e.title}\u300d(ID: ${e.id})\u306f\u62c5\u5f53\u8005\u304c\u4e00\u81f4\u3057\u306a\u3044\u305f\u3081\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u307e\u3057\u305f`),console.log("\u30bf\u30b9\u30af\u306e\u62c5\u5f53\u8005:",{assignee:e.assignee,assignee_data:e.assignee_data,assignee_name:e.assignee_name})),n}))):(console.log("\ud83d\udd0d \u62c5\u5f53\u8005\u30d5\u30a3\u30eb\u30bf\u30fc\u306a\u3057 - \u3059\u3079\u3066\u306e\u30bf\u30b9\u30af\u3092\u8868\u793a\u3057\u307e\u3059"),e)),i&&(o=o.filter((e=>!(e.status&&"11"===e.status.toString()||e.status_name&&"\u5b8c\u4e86"===e.status_name||e.status_data&&"\u5b8c\u4e86"===e.status_data.name))),console.log("\u5b8c\u4e86\u30bf\u30b9\u30af\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3057\u305f:",o.length)),R(o)}catch(r){console.error("API request failed:",r),s("API\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u5931\u6557\u3057\u307e\u3057\u305f"),R([])}console.groupEnd()}catch(i){console.error("\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f:",i),s("\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),R([])}finally{a(!1)}var e,t};(0,o.useEffect)((()=>{if(null!==y&&void 0!==y&&y.id){console.log("\ud83d\udd04 \u521d\u671f\u8aad\u307f\u8fbc\u307f\u6642\u306b\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fcID\u78ba\u8a8d:",y.id),B(),(async()=>{try{console.log("\ud83d\udd0d \u30e6\u30fc\u30b6\u30fc\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059");const e=await Oi.getAvailableWorkers();console.log("\ud83d\udccb \u53d6\u5f97\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7:",e),x(e)}catch(i){console.error("\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f:",i),hs.error("\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(),(async()=>{try{console.log("\ud83d\udd0d \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u307e\u3059");const e=(await Ni.getClients()).results||[];console.log("\ud83d\udccb \u53d6\u5f97\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7:",e),j(e)}catch(i){console.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f:",i),hs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})();const e=setTimeout((()=>{console.log("Retry fetchTasks after timeout"),B()}),1500);return()=>clearTimeout(e)}}),[null===y||void 0===y?void 0:y.id]),(0,o.useEffect)((()=>{console.log("Filters changed, fetching tasks with:",T),g&&B()}),[T,g]),(0,o.useEffect)((()=>{const e=e=>{if(console.log("\ud83d\udd14 Task updated event received",e.detail),!e.detail||!e.detail.task)return console.warn("Invalid task update event with no task data"),void B();const t=e.detail.task;if(console.log("Handling task update for task:",t),e.detail.isNew)console.log("Adding new task to the list",t),R([t,...M]);else{console.log("Updating existing task in the list",t);const e=M.findIndex((e=>e.id===t.id));if(e>=0){console.log(`Task found at index ${e}, replacing with updated version`);const r=[...M];r[e]=t,R(r)}else console.log("Updated task not found in current list, adding to top"),R([t,...M])}},t=e=>{if(console.log("\ud83d\udd14 Task deleted event received",e.detail),!e.detail||!e.detail.taskId)return console.warn("Invalid task delete event with no task ID"),void B();const t=e.detail.taskId;console.log("Removing deleted task from list, ID:",t),R(M.filter((e=>e.id!==t)))},r=()=>{console.log("\ud83d\udd14 Force refresh event received"),B()};return window.addEventListener("task-updated",e),window.addEventListener("task-deleted",t),window.addEventListener("task-update-force-refresh",r),()=>{window.removeEventListener("task-updated",e),window.removeEventListener("task-deleted",t),window.removeEventListener("task-update-force-refresh",r)}}),[M]),(0,o.useEffect)((()=>{e.forceRefresh&&(console.log("Force refresh prop changed, refreshing tasks"),B())}),[e.forceRefresh]),(0,o.useImperativeHandle)(t,(()=>({refreshTasks:()=>{console.log("Refresh tasks method called"),B()},refreshTasksWithData:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("Refresh with task data",e,"isNew:",t),!e)return console.warn("No task data provided for refresh"),void B();if(t)console.log("Adding new task to the list"),R([e,...M]);else{console.log("Updating existing task");const t=M.findIndex((t=>t.id===e.id));if(t>=0){const r=[...M];r[t]=e,R(r)}else R([e,...M])}}})));return(0,Vr.jsxs)("div",{className:"mb-6 space-y-6",children:[(0,Vr.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-2",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"\u30bf\u30b9\u30af\u4e00\u89a7"}),(0,Vr.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,Vr.jsxs)("button",{className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 shadow-sm",onClick:()=>m(!p),children:[(0,Vr.jsx)(FE,{className:"mr-2 h-5 w-5"}),"\u30d5\u30a3\u30eb\u30bf\u30fc"]}),(0,Vr.jsxs)("button",{className:"inline-flex items-center px-4 py-2 rounded-lg shadow-sm border "+(_?"text-white bg-primary-600 hover:bg-primary-700 border-primary-600":"text-gray-700 bg-white hover:bg-gray-50 border-gray-300"),onClick:()=>{const e=!_;k(e),e||S([])},children:[(0,Vr.jsx)(dE,{className:"mr-2 h-5 w-5"}),"\u4e00\u62ec\u7de8\u96c6\u30e2\u30fc\u30c9 ",_?"ON":"OFF"]}),(0,Vr.jsxs)(on,{to:"/tasks/new",className:"inline-flex items-center px-4 py-2 rounded-lg text-white bg-primary-600 hover:bg-primary-700 shadow-sm",children:[(0,Vr.jsx)(JE,{className:"mr-2 h-5 w-5"}),"\u65b0\u898f\u30bf\u30b9\u30af"]})]})]}),p&&(0,Vr.jsx)(sC,{filters:T,onFilterChange:(e,t)=>{P({...T,[e]:t})},onApplyFilters:()=>{B()},onResetFilters:()=>{const e={status:"",searchTerm:"",client:"",assignee:(null===y||void 0===y?void 0:y.id)||"",hide_completed:!0};P(e),null!==y&&void 0!==y&&y.id&&localStorage.removeItem(`task_filters_${y.id}`),setTimeout((()=>B()),0)},onClose:()=>m(!1),currentUser:y,usersList:b,clientsList:w}),_&&N.length>0&&(0,Vr.jsx)(cC,{selectedCount:N.length,onEditClick:()=>E(!0),onClearSelection:()=>S([])}),i&&(0,Vr.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("div",{className:"flex-shrink-0",children:(0,Vr.jsx)(LE,{className:"h-5 w-5 text-red-400"})}),(0,Vr.jsx)("div",{className:"ml-3",children:(0,Vr.jsx)("p",{className:"text-sm text-red-700",children:i})})]})}),T.assignee===(null===y||void 0===y?void 0:y.id)&&(0,Vr.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(FE,{className:"h-5 w-5 text-blue-500 mr-2"}),(0,Vr.jsx)("p",{className:"text-sm text-blue-700",children:"\u73fe\u5728\u300c\u81ea\u5206\u306e\u62c5\u5f53\u30bf\u30b9\u30af\u300d\u306e\u307f\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059"})]})}),n?(0,Vr.jsxs)("div",{className:"text-center p-8",children:[(0,Vr.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"}),(0,Vr.jsx)("p",{className:"mt-2 text-gray-500",children:"\u30bf\u30b9\u30af\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]}):M.length>0?(0,Vr.jsx)(lC,{tasks:M,sortConfig:I,onSortChange:L,bulkEditMode:_,selectedTasks:N,onSelectTask:e=>{S((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},onSelectAll:()=>{N.length===M.length?S([]):S(M.map((e=>e.id)))},onTaskSelect:t=>{console.log("Task selected:",t),e.onTaskSelect&&e.onTaskSelect(t)}}):(0,Vr.jsxs)("div",{className:"bg-white shadow-card rounded-lg p-8 text-center",children:[(0,Vr.jsx)(ME,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Vr.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"\u30bf\u30b9\u30af\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:Object.values(T).some((e=>""!==e))?"\u30d5\u30a3\u30eb\u30bf\u30fc\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u30bf\u30b9\u30af\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u6761\u4ef6\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"\u307e\u3060\u30bf\u30b9\u30af\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u300c\u65b0\u898f\u30bf\u30b9\u30af\u300d\u304b\u3089\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}),(0,Vr.jsx)(uC,{isOpen:O,onClose:()=>E(!1),selectedCount:N.length,bulkEditData:C,onBulkEditDataChange:(e,t)=>{console.log("Bulk edit data change:",e,t),A((r=>({...r,[e]:t})))},onSubmit:async()=>{if(0!==N.length){a(!0);try{const e={};for(const[n,a]of Object.entries(C))""!==a&&(e[n]=a);if(0===Object.keys(e).length)return hs.error("\u5909\u66f4\u3059\u308b\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093"),void a(!1);const t={...e};t.worker&&(t.assignee=t.worker,delete t.worker),t.reviewer&&(t.reviewer_id=t.reviewer,delete t.reviewer),console.log("Bulk editing tasks:",N),console.log("Original edit data:",e),console.log("API\u9001\u4fe1\u30c7\u30fc\u30bf:",t);const r=N.map((e=>ki.updateTask(e,t)));await Promise.all(r),hs.success("\u30bf\u30b9\u30af\u3092\u4e00\u62ec\u66f4\u65b0\u3057\u307e\u3057\u305f"),E(!1),A({status:"",worker:"",reviewer:"",due_date:""}),B()}catch(i){console.error("Error in bulk edit:",i),hs.error("\u4e00\u62ec\u7de8\u96c6\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{a(!1)}}else hs.error("\u30bf\u30b9\u30af\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093")},isLoading:n,currentUser:y,usersList:b}),(0,Vr.jsx)(dC,{isOpen:u,onClose:()=>d(!1),onConfirm:async()=>{if(f){a(!0);try{await ki.deleteTask(f.id),hs.success("\u30bf\u30b9\u30af\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),d(!1),h(null),R(M.filter((e=>e.id!==f.id))),window.dispatchEvent(new CustomEvent("task-deleted",{detail:{taskId:f.id}}))}catch(i){console.error("Error deleting task:",i),hs.error("\u30bf\u30b9\u30af\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{a(!1)}}},loading:n,targetName:(null===f||void 0===f?void 0:f.title)||"\u3053\u306e\u30bf\u30b9\u30af"})]})}));var pC=function(){return pC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},pC.apply(this,arguments)};Object.create;function mC(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var yC=r(7324),gC=r.n(yC),vC="-ms-",bC="-moz-",xC="-webkit-",wC="comm",jC="rule",_C="decl",kC="@keyframes",NC=Math.abs,SC=String.fromCharCode,OC=Object.assign;function EC(e){return e.trim()}function CC(e,t){return(e=t.exec(e))?e[0]:e}function AC(e,t,r){return e.replace(t,r)}function TC(e,t,r){return e.indexOf(t,r)}function PC(e,t){return 0|e.charCodeAt(t)}function DC(e,t,r){return e.slice(t,r)}function MC(e){return e.length}function IC(e){return e.length}function LC(e,t){return t.push(e),e}function RC(e,t){return e.filter((function(e){return!CC(e,t)}))}var FC=1,BC=1,qC=0,$C=0,UC=0,zC="";function HC(e,t,r,n,a,i,o,s){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:FC,column:BC,length:o,return:"",siblings:s}}function WC(e,t){return OC(HC("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function VC(e){for(;e.root;)e=WC(e.root,{children:[e]});LC(e,e.siblings)}function KC(){return UC=$C<qC?PC(zC,$C++):0,BC++,10===UC&&(BC=1,FC++),UC}function YC(){return PC(zC,$C)}function GC(){return $C}function XC(e,t){return DC(zC,e,t)}function QC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JC(e){return FC=BC=1,qC=MC(zC=e),$C=0,[]}function ZC(e){return zC="",e}function eA(e){return EC(XC($C-1,nA(91===e?e+2:40===e?e+1:e)))}function tA(e){for(;(UC=YC())&&UC<33;)KC();return QC(e)>2||QC(UC)>3?"":" "}function rA(e,t){for(;--t&&KC()&&!(UC<48||UC>102||UC>57&&UC<65||UC>70&&UC<97););return XC(e,GC()+(t<6&&32==YC()&&32==KC()))}function nA(e){for(;KC();)switch(UC){case e:return $C;case 34:case 39:34!==e&&39!==e&&nA(UC);break;case 40:41===e&&nA(e);break;case 92:KC()}return $C}function aA(e,t){for(;KC()&&e+UC!==57&&(e+UC!==84||47!==YC()););return"/*"+XC(t,$C-1)+"*"+SC(47===e?e:KC())}function iA(e){for(;!QC(YC());)KC();return XC(e,$C)}function oA(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function sA(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case _C:return e.return=e.return||e.value;case wC:return"";case kC:return e.return=e.value+"{"+oA(e.children,n)+"}";case jC:if(!MC(e.value=e.props.join(",")))return""}return MC(r=oA(e.children,n))?e.return=e.value+"{"+r+"}":""}function lA(e,t,r){switch(function(e,t){return 45^PC(e,0)?(((t<<2^PC(e,0))<<2^PC(e,1))<<2^PC(e,2))<<2^PC(e,3):0}(e,t)){case 5103:return xC+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xC+e+e;case 4789:return bC+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xC+e+bC+e+vC+e+e;case 5936:switch(PC(e,t+11)){case 114:return xC+e+vC+AC(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xC+e+vC+AC(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xC+e+vC+AC(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return xC+e+vC+e+e;case 6165:return xC+e+vC+"flex-"+e+e;case 5187:return xC+e+AC(e,/(\w+).+(:[^]+)/,xC+"box-$1$2"+vC+"flex-$1$2")+e;case 5443:return xC+e+vC+"flex-item-"+AC(e,/flex-|-self/g,"")+(CC(e,/flex-|baseline/)?"":vC+"grid-row-"+AC(e,/flex-|-self/g,""))+e;case 4675:return xC+e+vC+"flex-line-pack"+AC(e,/align-content|flex-|-self/g,"")+e;case 5548:return xC+e+vC+AC(e,"shrink","negative")+e;case 5292:return xC+e+vC+AC(e,"basis","preferred-size")+e;case 6060:return xC+"box-"+AC(e,"-grow","")+xC+e+vC+AC(e,"grow","positive")+e;case 4554:return xC+AC(e,/([^-])(transform)/g,"$1"+xC+"$2")+e;case 6187:return AC(AC(AC(e,/(zoom-|grab)/,xC+"$1"),/(image-set)/,xC+"$1"),e,"")+e;case 5495:case 3959:return AC(e,/(image-set\([^]*)/,xC+"$1$`$1");case 4968:return AC(AC(e,/(.+:)(flex-)?(.*)/,xC+"box-pack:$3"+vC+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xC+e+e;case 4200:if(!CC(e,/flex-|baseline/))return vC+"grid-column-align"+DC(e,t)+e;break;case 2592:case 3360:return vC+AC(e,"template-","")+e;case 4384:case 3616:return r&&r.some((function(e,r){return t=r,CC(e.props,/grid-\w+-end/)}))?~TC(e+(r=r[t].value),"span",0)?e:vC+AC(e,"-start","")+e+vC+"grid-row-span:"+(~TC(r,"span",0)?CC(r,/\d+/):+CC(r,/\d+/)-+CC(e,/\d+/))+";":vC+AC(e,"-start","")+e;case 4896:case 4128:return r&&r.some((function(e){return CC(e.props,/grid-\w+-start/)}))?e:vC+AC(AC(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return AC(e,/(.+)-inline(.+)/,xC+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(MC(e)-1-t>6)switch(PC(e,t+1)){case 109:if(45!==PC(e,t+4))break;case 102:return AC(e,/(.+:)(.+)-([^]+)/,"$1"+xC+"$2-$3$1"+bC+(108==PC(e,t+3)?"$3":"$2-$3"))+e;case 115:return~TC(e,"stretch",0)?lA(AC(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return AC(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,r,n,a,i,o,s){return vC+r+":"+n+s+(a?vC+r+"-span:"+(i?o:+o-+n)+s:"")+e}));case 4949:if(121===PC(e,t+6))return AC(e,":",":"+xC)+e;break;case 6444:switch(PC(e,45===PC(e,14)?18:11)){case 120:return AC(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xC+(45===PC(e,14)?"inline-":"")+"box$3$1"+xC+"$2$3$1"+vC+"$2box$3")+e;case 100:return AC(e,":",":"+vC)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return AC(e,"scroll-","scroll-snap-")+e}return e}function cA(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case _C:return void(e.return=lA(e.value,e.length,r));case kC:return oA([WC(e,{value:AC(e.value,"@","@"+xC)})],n);case jC:if(e.length)return function(e,t){return e.map(t).join("")}(r=e.props,(function(t){switch(CC(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":VC(WC(e,{props:[AC(t,/:(read-\w+)/,":-moz-$1")]})),VC(WC(e,{props:[t]})),OC(e,{props:RC(r,n)});break;case"::placeholder":VC(WC(e,{props:[AC(t,/:(plac\w+)/,":"+xC+"input-$1")]})),VC(WC(e,{props:[AC(t,/:(plac\w+)/,":-moz-$1")]})),VC(WC(e,{props:[AC(t,/:(plac\w+)/,vC+"input-$1")]})),VC(WC(e,{props:[t]})),OC(e,{props:RC(r,n)})}return""}))}}function uA(e){return ZC(dA("",null,null,null,[""],e=JC(e),0,[0],e))}function dA(e,t,r,n,a,i,o,s,l){for(var c=0,u=0,d=o,f=0,h=0,p=0,m=1,y=1,g=1,v=0,b="",x=a,w=i,j=n,_=b;y;)switch(p=v,v=KC()){case 40:if(108!=p&&58==PC(_,d-1)){-1!=TC(_+=AC(eA(v),"&","&\f"),"&\f",NC(c?s[c-1]:0))&&(g=-1);break}case 34:case 39:case 91:_+=eA(v);break;case 9:case 10:case 13:case 32:_+=tA(p);break;case 92:_+=rA(GC()-1,7);continue;case 47:switch(YC()){case 42:case 47:LC(hA(aA(KC(),GC()),t,r,l),l);break;default:_+="/"}break;case 123*m:s[c++]=MC(_)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:-1==g&&(_=AC(_,/\f/g,"")),h>0&&MC(_)-d&&LC(h>32?pA(_+";",n,r,d-1,l):pA(AC(_," ","")+";",n,r,d-2,l),l);break;case 59:_+=";";default:if(LC(j=fA(_,t,r,c,u,a,s,b,x=[],w=[],d,i),i),123===v)if(0===u)dA(_,t,j,j,x,i,d,s,w);else switch(99===f&&110===PC(_,3)?100:f){case 100:case 108:case 109:case 115:dA(e,j,j,n&&LC(fA(e,j,j,0,0,a,s,b,a,x=[],d,w),w),a,w,d,s,n?x:w);break;default:dA(_,j,j,j,[""],w,0,s,w)}}c=u=h=0,m=g=1,b=_="",d=o;break;case 58:d=1+MC(_),h=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==(UC=$C>0?PC(zC,--$C):0,BC--,10===UC&&(BC=1,FC--),UC))continue;switch(_+=SC(v),v*m){case 38:g=u>0?1:(_+="\f",-1);break;case 44:s[c++]=(MC(_)-1)*g,g=1;break;case 64:45===YC()&&(_+=eA(KC())),f=YC(),u=d=MC(b=_+=iA(GC())),v++;break;case 45:45===p&&2==MC(_)&&(m=0)}}return i}function fA(e,t,r,n,a,i,o,s,l,c,u,d){for(var f=a-1,h=0===a?i:[""],p=IC(h),m=0,y=0,g=0;m<n;++m)for(var v=0,b=DC(e,f+1,f=NC(y=o[m])),x=e;v<p;++v)(x=EC(y>0?h[v]+" "+b:AC(b,/&\f/g,h[v])))&&(l[g++]=x);return HC(e,t,r,0===a?jC:s,l,c,u,d)}function hA(e,t,r,n){return HC(e,t,r,wC,SC(UC),DC(e,2,-2),0,n)}function pA(e,t,r,n,a){return HC(e,t,r,_C,DC(e,0,n),DC(e,n+1,-1),n,a)}var mA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yA="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.SC_ATTR)||"data-styled",gA="active",vA="data-styled-version",bA="6.1.15",xA="/*!sc*/\n",wA="undefined"!=typeof window&&"HTMLElement"in window,jA=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"0.0.0.0",WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",FAST_REFRESH:!0,REACT_APP_WS_URL:"http://websocket:8001",REACT_APP_API_URL:"http://backend:8000"}.SC_DISABLE_SPEEDY)),_A=(new Set,Object.freeze([])),kA=Object.freeze({});function NA(e,t,r){return void 0===r&&(r=kA),e.theme!==r.theme&&e.theme||t||r.theme}var SA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),OA=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,EA=/(^-|-$)/g;function CA(e){return e.replace(OA,"-").replace(EA,"")}var AA=/(a)(d)/gi,TA=function(e){return String.fromCharCode(e+(e>25?39:97))};function PA(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=TA(t%52)+r;return(TA(t%52)+r).replace(AA,"$1-$2")}var DA,MA=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},IA=function(e){return MA(5381,e)};function LA(e){return PA(IA(e)>>>0)}function RA(e){return e.displayName||e.name||"Component"}function FA(e){return"string"==typeof e&&!0}var BA="function"==typeof Symbol&&Symbol.for,qA=BA?Symbol.for("react.memo"):60115,$A=BA?Symbol.for("react.forward_ref"):60112,UA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},HA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WA=((DA={})[$A]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DA[qA]=HA,DA);function VA(e){return("type"in(t=e)&&t.type.$$typeof)===qA?HA:"$$typeof"in e?WA[e.$$typeof]:UA;var t}var KA=Object.defineProperty,YA=Object.getOwnPropertyNames,GA=Object.getOwnPropertySymbols,XA=Object.getOwnPropertyDescriptor,QA=Object.getPrototypeOf,JA=Object.prototype;function ZA(e,t,r){if("string"!=typeof t){if(JA){var n=QA(t);n&&n!==JA&&ZA(e,n,r)}var a=YA(t);GA&&(a=a.concat(GA(t)));for(var i=VA(e),o=VA(t),s=0;s<a.length;++s){var l=a[s];if(!(l in zA||r&&r[l]||o&&l in o||i&&l in i)){var c=XA(t,l);try{KA(e,l,c)}catch(e){}}}}return e}function eT(e){return"function"==typeof e}function tT(e){return"object"==typeof e&&"styledComponentId"in e}function rT(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function nT(e,t){if(0===e.length)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function aT(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function iT(e,t,r){if(void 0===r&&(r=!1),!r&&!aT(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=iT(e[n],t[n]);else if(aT(t))for(var n in t)e[n]=iT(e[n],t[n]);return e}function oT(e,t){Object.defineProperty(e,"toString",{value:t})}function sT(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var lT=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,a=n;e>=a;)if((a<<=1)<0)throw sT(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var i=n;i<a;i++)this.groupSizes[i]=0}for(var o=this.indexOfGroup(e+1),s=(i=0,t.length);i<s;i++)this.tag.insertRule(o,t[i])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var a=r;a<n;a++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),a=n+r,i=n;i<a;i++)t+="".concat(this.tag.getRule(i)).concat(xA);return t},e}(),cT=new Map,uT=new Map,dT=1,fT=function(e){if(cT.has(e))return cT.get(e);for(;uT.has(dT);)dT++;var t=dT++;return cT.set(e,t),uT.set(t,e),t},hT=function(e,t){dT=t+1,cT.set(e,t),uT.set(t,e)},pT="style[".concat(yA,"][").concat(vA,'="').concat(bA,'"]'),mT=new RegExp("^".concat(yA,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),yT=function(e,t,r){for(var n,a=r.split(","),i=0,o=a.length;i<o;i++)(n=a[i])&&e.registerName(t,n)},gT=function(e,t){for(var r,n=(null!==(r=t.textContent)&&void 0!==r?r:"").split(xA),a=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var l=s.match(mT);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(hT(u,c),yT(e,u,l[3]),e.getTag().insertRules(c,a)),a.length=0}else a.push(s)}}},vT=function(e){for(var t=document.querySelectorAll(pT),r=0,n=t.length;r<n;r++){var a=t[r];a&&a.getAttribute(yA)!==gA&&(gT(e,a),a.parentNode&&a.parentNode.removeChild(a))}};function bT(){return r.nc}var xT=function(e){var t=document.head,r=e||t,n=document.createElement("style"),a=function(e){var t=Array.from(e.querySelectorAll("style[".concat(yA,"]")));return t[t.length-1]}(r),i=void 0!==a?a.nextSibling:null;n.setAttribute(yA,gA),n.setAttribute(vA,bA);var o=bT();return o&&n.setAttribute("nonce",o),r.insertBefore(n,i),n},wT=function(){function e(e){this.element=xT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var a=t[r];if(a.ownerNode===e)return a}throw sT(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),jT=function(){function e(e){this.element=xT(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),_T=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),kT=wA,NT={isServer:!wA,useCSSOMInjection:!jA},ST=function(){function e(e,t,r){void 0===e&&(e=kA),void 0===t&&(t={});var n=this;this.options=pC(pC({},NT),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&wA&&kT&&(kT=!1,vT(this)),oT(this,(function(){return function(e){for(var t=e.getTag(),r=t.length,n="",a=function(r){var a=function(e){return uT.get(e)}(r);if(void 0===a)return"continue";var i=e.names.get(a),o=t.getGroup(r);if(void 0===i||!i.size||0===o.length)return"continue";var s="".concat(yA,".g").concat(r,'[id="').concat(a,'"]'),l="";void 0!==i&&i.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),n+="".concat(o).concat(s,'{content:"').concat(l,'"}').concat(xA)},i=0;i<r;i++)a(i);return n}(n)}))}return e.registerId=function(e){return fT(e)},e.prototype.rehydrate=function(){!this.server&&wA&&vT(this)},e.prototype.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(pC(pC({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,r=e.target;return e.isServer?new _T(r):t?new wT(r):new jT(r)}(this.options),new lT(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(fT(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(fT(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(fT(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),OT=/&/g,ET=/^\s*\/\/.*$/gm;function CT(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=CT(e.children,t)),e}))}function AT(e){var t,r,n,a=void 0===e?kA:e,i=a.options,o=void 0===i?kA:i,s=a.plugins,l=void 0===s?_A:s,c=function(e,n,a){return a.startsWith(r)&&a.endsWith(r)&&a.replaceAll(r,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===jC&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(OT,r).replace(n,c))})),o.prefix&&u.push(cA),u.push(sA);var d=function(e,a,i,s){void 0===a&&(a=""),void 0===i&&(i=""),void 0===s&&(s="&"),t=s,r=a,n=new RegExp("\\".concat(r,"\\b"),"g");var l=e.replace(ET,""),c=uA(i||a?"".concat(i," ").concat(a," { ").concat(l," }"):l);o.namespace&&(c=CT(c,o.namespace));var d,f=[];return oA(c,function(e){var t=IC(e);return function(r,n,a,i){for(var o="",s=0;s<t;s++)o+=e[s](r,n,a,i)||"";return o}}(u.concat((d=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),f};return d.hash=l.length?l.reduce((function(e,t){return t.name||sT(15),MA(e,t.name)}),5381).toString():"",d}var TT=new ST,PT=AT(),DT=o.createContext({shouldForwardProp:void 0,styleSheet:TT,stylis:PT}),MT=(DT.Consumer,o.createContext(void 0));function IT(){return(0,o.useContext)(DT)}function LT(e){var t=(0,o.useState)(e.stylisPlugins),r=t[0],n=t[1],a=IT().styleSheet,i=(0,o.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),s=(0,o.useMemo)((function(){return AT({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,o.useEffect)((function(){gC()(r,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,o.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:i,stylis:s}}),[e.shouldForwardProp,i,s]);return o.createElement(DT.Provider,{value:l},o.createElement(MT.Provider,{value:s},e.children))}var RT=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=PT);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,oT(this,(function(){throw sT(12,String(r.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=PT),this.name+e.hash},e}(),FT=function(e){return e>="A"&&e<="Z"};function BT(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;FT(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var qT=function(e){return null==e||!1===e||""===e},$T=function(e){var t,r,n=[];for(var a in e){var i=e[a];e.hasOwnProperty(a)&&!qT(i)&&(Array.isArray(i)&&i.isCss||eT(i)?n.push("".concat(BT(a),":"),i,";"):aT(i)?n.push.apply(n,mC(mC(["".concat(a," {")],$T(i),!1),["}"],!1)):n.push("".concat(BT(a),": ").concat((t=a,null==(r=i)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||t in mA||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function UT(e,t,r,n){return qT(e)?[]:tT(e)?[".".concat(e.styledComponentId)]:eT(e)?!eT(a=e)||a.prototype&&a.prototype.isReactComponent||!t?[e]:UT(e(t),t,r,n):e instanceof RT?r?(e.inject(r,n),[e.getName(n)]):[e]:aT(e)?$T(e):Array.isArray(e)?Array.prototype.concat.apply(_A,e.map((function(e){return UT(e,t,r,n)}))):[e.toString()];var a}function zT(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(eT(r)&&!tT(r))return!1}return!0}var HT=IA(bA),WT=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&zT(e),this.componentId=t,this.baseHash=MA(HT,t),this.baseStyle=r,ST.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=rT(n,this.staticRulesId);else{var a=nT(UT(this.rules,e,t,r)),i=PA(MA(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,i)){var o=r(a,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,o)}n=rT(n,i),this.staticRulesId=i}else{for(var s=MA(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=nT(UT(u,e,t,r));s=MA(s,d+c),l+=d}}if(l){var f=PA(s>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,r(l,".".concat(f),void 0,this.componentId)),n=rT(n,f)}}return n},e}(),VT=o.createContext(void 0);VT.Consumer;var KT={};new Set;function YT(e,t,r){var n=tT(e),a=e,i=!FA(e),s=t.attrs,l=void 0===s?_A:s,c=t.componentId,u=void 0===c?function(e,t){var r="string"!=typeof e?"sc":CA(e);KT[r]=(KT[r]||0)+1;var n="".concat(r,"-").concat(LA(bA+r+KT[r]));return t?"".concat(t,"-").concat(n):n}(t.displayName,t.parentComponentId):c,d=t.displayName,f=void 0===d?function(e){return FA(e)?"styled.".concat(e):"Styled(".concat(RA(e),")")}(e):d,h=t.displayName&&t.componentId?"".concat(CA(t.displayName),"-").concat(t.componentId):t.componentId||u,p=n&&a.attrs?a.attrs.concat(l).filter(Boolean):l,m=t.shouldForwardProp;if(n&&a.shouldForwardProp){var y=a.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;m=function(e,t){return y(e,t)&&g(e,t)}}else m=y}var v=new WT(r,h,n?a.componentStyle:void 0);function b(e,t){return function(e,t,r){var n=e.attrs,a=e.componentStyle,i=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=o.useContext(VT),d=IT(),f=e.shouldForwardProp||d.shouldForwardProp,h=NA(t,u,i)||kA,p=function(e,t,r){for(var n,a=pC(pC({},t),{className:void 0,theme:r}),i=0;i<e.length;i+=1){var o=eT(n=e[i])?n(a):n;for(var s in o)a[s]="className"===s?rT(a[s],o[s]):"style"===s?pC(pC({},a[s]),o[s]):o[s]}return t.className&&(a.className=rT(a.className,t.className)),a}(n,t,h),m=p.as||c,y={};for(var g in p)void 0===p[g]||"$"===g[0]||"as"===g||"theme"===g&&p.theme===h||("forwardedAs"===g?y.as=p.forwardedAs:f&&!f(g,m)||(y[g]=p[g]));var v=function(e,t){var r=IT();return e.generateAndInjectStyles(t,r.styleSheet,r.stylis)}(a,p),b=rT(s,l);return v&&(b+=" "+v),p.className&&(b+=" "+p.className),y[FA(m)&&!SA.has(m)?"class":"className"]=b,r&&(y.ref=r),(0,o.createElement)(m,y)}(x,e,t)}b.displayName=f;var x=o.forwardRef(b);return x.attrs=p,x.componentStyle=v,x.displayName=f,x.shouldForwardProp=m,x.foldedComponentIds=n?rT(a.foldedComponentIds,a.styledComponentId):"",x.styledComponentId=h,x.target=n?a.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=n?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,a=t;n<a.length;n++)iT(e,a[n],!0);return e}({},a.defaultProps,e):e}}),oT(x,(function(){return".".concat(x.styledComponentId)})),i&&ZA(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function GT(e,t){for(var r=[e[0]],n=0,a=t.length;n<a;n+=1)r.push(t[n],e[n+1]);return r}var XT=function(e){return Object.assign(e,{isCss:!0})};function QT(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(eT(e)||aT(e))return XT(UT(GT(_A,mC([e],t,!0))));var n=e;return 0===t.length&&1===n.length&&"string"==typeof n[0]?UT(n):XT(UT(GT(n,t)))}function JT(e,t,r){if(void 0===r&&(r=kA),!t)throw sT(1,t);var n=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return e(t,r,QT.apply(void 0,mC([n],a,!1)))};return n.attrs=function(n){return JT(e,t,pC(pC({},r),{attrs:Array.prototype.concat(r.attrs,n).filter(Boolean)}))},n.withConfig=function(n){return JT(e,t,pC(pC({},r),n))},n}var ZT=function(e){return JT(YT,e)},eP=ZT;SA.forEach((function(e){eP[e]=ZT(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=zT(e),ST.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,r,n){var a=n(nT(UT(this.rules,t,r,n)),""),i=this.componentId+e;r.insertRules(i,i,a)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&ST.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=bT(),n=nT([r&&'nonce="'.concat(r,'"'),"".concat(yA,'="true"'),"".concat(vA,'="').concat(bA,'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw sT(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw sT(2);var r=e.instance.toString();if(!r)return[];var n=((t={})[yA]="",t[vA]=bA,t.dangerouslySetInnerHTML={__html:r},t),a=bT();return a&&(n.nonce=a),[o.createElement("style",pC({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ST({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw sT(2);return o.createElement(LT,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw sT(3)}})(),"__sc-".concat(yA,"__");eP.div`
  display: flex;
  flex-direction: column;
  padding: 10px 0;
  width: 100%;
`,eP.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 10px;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  overflow: hidden;
  position: relative;
`,eP.div`
  .ql-editor {
    min-height: 100px;
    max-height: 200px;
    overflow-y: auto;
    line-height: 1.5;
    padding: 12px 15px;
    background: #fff;
  }
  
  .ql-toolbar {
    border-bottom: 1px solid #e0e0e0;
    background: #f9f9f9;
  }
`,eP.div`
  display: flex;
  justify-content: flex-end;
  padding: 8px;
  background: #f9f9f9;
  border-top: 1px solid #e0e0e0;
`,eP.button`
  background-color: #4a86e8;
  color: white;
  border: none;
  padding: 6px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
  
  &:hover {
    background-color: #3a76d8;
  }
  
  &:disabled {
    background-color: #c5d3f0;
    cursor: not-allowed;
  }
`,eP.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,eP.div`
  display: flex;
  padding: 8px 0;
  border-bottom: 1px solid #f0f0f0;
`,eP.div`
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: #4a86e8;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin-right: 12px;
  flex-shrink: 0;
`,eP.div`
  flex: 1;
`,eP.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: 4px;
`,eP.div`
  font-weight: 500;
  color: #333;
`,eP.div`
  font-size: 0.8rem;
  color: #888;
`,eP.div`
  color: #333;
  
  p {
    margin: 0 0 8px 0;
  }
  
  a {
    color: #4a86e8;
    text-decoration: none;
    
    &:hover {
      text-decoration: underline;
    }
  }
  
  .mention {
    color: #4a86e8;
    background-color: rgba(74, 134, 232, 0.1);
    padding: 0 4px;
    border-radius: 2px;
    font-weight: 500;
  }
`;const tP=eP.div`
  position: absolute;
  background: white;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 10;
  max-height: 200px;
  overflow-y: auto;
  width: 250px;
`,rP=eP.div`
  padding: 8px 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  
  &:hover, &.selected {
    background-color: #f0f7ff;
  }
  
  .mention-avatar {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: #4a86e8;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-right: 8px;
    font-size: 0.8rem;
  }
  
  .mention-name {
    font-weight: 500;
  }
`,nP=e=>{if(!e)return"";try{const t=new Date(e);return`${t.getFullYear()}\u5e74${t.getMonth()+1}\u6708${t.getDate()}\u65e5 ${t.getHours()}:${t.getMinutes().toString().padStart(2,"0")}`}catch(t){return e}},aP={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]],clipboard:{matchVisual:!1},keyboard:{bindings:{}}},iP=["bold","italic","underline","strike","blockquote","code-block","list","bullet","link","image"],{entries:oP,setPrototypeOf:sP,isFrozen:lP,getPrototypeOf:cP,getOwnPropertyDescriptor:uP}=Object;let{freeze:dP,seal:fP,create:hP}=Object,{apply:pP,construct:mP}="undefined"!==typeof Reflect&&Reflect;dP||(dP=function(e){return e}),fP||(fP=function(e){return e}),pP||(pP=function(e,t,r){return e.apply(t,r)}),mP||(mP=function(e,t){return new e(...t)});const yP=TP(Array.prototype.forEach),gP=TP(Array.prototype.lastIndexOf),vP=TP(Array.prototype.pop),bP=TP(Array.prototype.push),xP=TP(Array.prototype.splice),wP=TP(String.prototype.toLowerCase),jP=TP(String.prototype.toString),_P=TP(String.prototype.match),kP=TP(String.prototype.replace),NP=TP(String.prototype.indexOf),SP=TP(String.prototype.trim),OP=TP(Object.prototype.hasOwnProperty),EP=TP(RegExp.prototype.test),CP=(AP=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return mP(AP,t)});var AP;function TP(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return pP(e,t,n)}}function PP(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wP;sP&&sP(e,null);let n=t.length;for(;n--;){let a=t[n];if("string"===typeof a){const e=r(a);e!==a&&(lP(t)||(t[n]=e),a=e)}e[a]=!0}return e}function DP(e){for(let t=0;t<e.length;t++){OP(e,t)||(e[t]=null)}return e}function MP(e){const t=hP(null);for(const[r,n]of oP(e)){OP(e,r)&&(Array.isArray(n)?t[r]=DP(n):n&&"object"===typeof n&&n.constructor===Object?t[r]=MP(n):t[r]=n)}return t}function IP(e,t){for(;null!==e;){const r=uP(e,t);if(r){if(r.get)return TP(r.get);if("function"===typeof r.value)return TP(r.value)}e=cP(e)}return function(){return null}}const LP=dP(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),RP=dP(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),FP=dP(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),BP=dP(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qP=dP(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$P=dP(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),UP=dP(["#text"]),zP=dP(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),HP=dP(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),WP=dP(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),VP=dP(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),KP=fP(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YP=fP(/<%[\w\W]*|[\w\W]*%>/gm),GP=fP(/\$\{[\w\W]*/gm),XP=fP(/^data-[\-\w.\u00B7-\uFFFF]+$/),QP=fP(/^aria-[\-\w]+$/),JP=fP(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ZP=fP(/^(?:\w+script|data):/i),eD=fP(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tD=fP(/^html$/i),rD=fP(/^[a-z][.\w]*(-[.\w]+)+$/i);var nD=Object.freeze({__proto__:null,ARIA_ATTR:QP,ATTR_WHITESPACE:eD,CUSTOM_ELEMENT:rD,DATA_ATTR:XP,DOCTYPE_NAME:tD,ERB_EXPR:YP,IS_ALLOWED_URI:JP,IS_SCRIPT_OR_DATA:ZP,MUSTACHE_EXPR:KP,TMPLIT_EXPR:GP});const aD=1,iD=3,oD=7,sD=8,lD=9,cD=function(){return"undefined"===typeof window?null:window};var uD=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cD();const r=t=>e(t);if(r.version="3.2.4",r.removed=[],!t||!t.document||t.document.nodeType!==lD||!t.Element)return r.isSupported=!1,r;let{document:n}=t;const a=n,i=a.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=t,m=c.prototype,y=IP(m,"cloneNode"),g=IP(m,"remove"),v=IP(m,"nextSibling"),b=IP(m,"childNodes"),x=IP(m,"parentNode");if("function"===typeof s){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let w,j="";const{implementation:_,createNodeIterator:k,createDocumentFragment:N,getElementsByTagName:S}=n,{importNode:O}=a;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"===typeof oP&&"function"===typeof x&&_&&void 0!==_.createHTMLDocument;const{MUSTACHE_EXPR:C,ERB_EXPR:A,TMPLIT_EXPR:T,DATA_ATTR:P,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:L}=nD;let{IS_ALLOWED_URI:R}=nD,F=null;const B=PP({},[...LP,...RP,...FP,...qP,...UP]);let q=null;const $=PP({},[...zP,...HP,...WP,...VP]);let U=Object.seal(hP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,H=null,W=!0,V=!0,K=!1,Y=!0,G=!1,X=!0,Q=!1,J=!1,Z=!1,ee=!1,te=!1,re=!1,ne=!0,ae=!1,ie=!0,oe=!1,se={},le=null;const ce=PP({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=PP({},["audio","video","img","source","image","track"]);let fe=null;const he=PP({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ye="http://www.w3.org/1999/xhtml";let ge=ye,ve=!1,be=null;const xe=PP({},[pe,me,ye],jP);let we=PP({},["mi","mo","mn","ms","mtext"]),je=PP({},["annotation-xml"]);const _e=PP({},["title","style","font","a","script"]);let ke=null;const Ne=["application/xhtml+xml","text/html"];let Se=null,Oe=null;const Ee=n.createElement("form"),Ce=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Oe||Oe!==e){if(e&&"object"===typeof e||(e={}),e=MP(e),ke=-1===Ne.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Se="application/xhtml+xml"===ke?jP:wP,F=OP(e,"ALLOWED_TAGS")?PP({},e.ALLOWED_TAGS,Se):B,q=OP(e,"ALLOWED_ATTR")?PP({},e.ALLOWED_ATTR,Se):$,be=OP(e,"ALLOWED_NAMESPACES")?PP({},e.ALLOWED_NAMESPACES,jP):xe,fe=OP(e,"ADD_URI_SAFE_ATTR")?PP(MP(he),e.ADD_URI_SAFE_ATTR,Se):he,ue=OP(e,"ADD_DATA_URI_TAGS")?PP(MP(de),e.ADD_DATA_URI_TAGS,Se):de,le=OP(e,"FORBID_CONTENTS")?PP({},e.FORBID_CONTENTS,Se):ce,z=OP(e,"FORBID_TAGS")?PP({},e.FORBID_TAGS,Se):{},H=OP(e,"FORBID_ATTR")?PP({},e.FORBID_ATTR,Se):{},se=!!OP(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,V=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,G=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,Q=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,ae=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||JP,ge=e.NAMESPACE||ye,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(V=!1),te&&(ee=!0),se&&(F=PP({},UP),q=[],!0===se.html&&(PP(F,LP),PP(q,zP)),!0===se.svg&&(PP(F,RP),PP(q,HP),PP(q,VP)),!0===se.svgFilters&&(PP(F,FP),PP(q,HP),PP(q,VP)),!0===se.mathMl&&(PP(F,qP),PP(q,WP),PP(q,VP))),e.ADD_TAGS&&(F===B&&(F=MP(F)),PP(F,e.ADD_TAGS,Se)),e.ADD_ATTR&&(q===$&&(q=MP(q)),PP(q,e.ADD_ATTR,Se)),e.ADD_URI_SAFE_ATTR&&PP(fe,e.ADD_URI_SAFE_ATTR,Se),e.FORBID_CONTENTS&&(le===ce&&(le=MP(le)),PP(le,e.FORBID_CONTENTS,Se)),ie&&(F["#text"]=!0),Q&&PP(F,["html","head","body"]),F.table&&(PP(F,["tbody"]),delete z.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw CP('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw CP('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,j=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(i){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(p,i)),null!==w&&"string"===typeof j&&(j=w.createHTML(""));dP&&dP(e),Oe=e}},Te=PP({},[...RP,...FP,...BP]),Pe=PP({},[...qP,...$P]),De=function(e){bP(r.removed,{element:e});try{x(e).removeChild(e)}catch(t){g(e)}},Me=function(e,t){try{bP(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(n){bP(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{De(t)}catch(n){}else try{t.setAttribute(e,"")}catch(n){}},Ie=function(e){let t=null,r=null;if(Z)e="<remove></remove>"+e;else{const t=_P(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===ke&&ge===ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=w?w.createHTML(e):e;if(ge===ye)try{t=(new h).parseFromString(a,ke)}catch(o){}if(!t||!t.documentElement){t=_.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?j:a}catch(o){}}const i=t.body||t.documentElement;return e&&r&&i.insertBefore(n.createTextNode(r),i.childNodes[0]||null),ge===ye?S.call(t,Q?"html":"body")[0]:Q?t.documentElement:i},Le=function(e){return k.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Re=function(e){return e instanceof f&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof d)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},Fe=function(e){return"function"===typeof l&&e instanceof l};function Be(e,t,n){yP(e,(e=>{e.call(r,t,n,Oe)}))}const qe=function(e){let t=null;if(Be(E.beforeSanitizeElements,e,null),Re(e))return De(e),!0;const n=Se(e.nodeName);if(Be(E.uponSanitizeElement,e,{tagName:n,allowedTags:F}),e.hasChildNodes()&&!Fe(e.firstElementChild)&&EP(/<[/\w]/g,e.innerHTML)&&EP(/<[/\w]/g,e.textContent))return De(e),!0;if(e.nodeType===oD)return De(e),!0;if(X&&e.nodeType===sD&&EP(/<[/\w]/g,e.data))return De(e),!0;if(!F[n]||z[n]){if(!z[n]&&Ue(n)){if(U.tagNameCheck instanceof RegExp&&EP(U.tagNameCheck,n))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(n))return!1}if(ie&&!le[n]){const t=x(e)||e.parentNode,r=b(e)||e.childNodes;if(r&&t){for(let n=r.length-1;n>=0;--n){const a=y(r[n],!0);a.__removalCount=(e.__removalCount||0)+1,t.insertBefore(a,v(e))}}}return De(e),!0}return e instanceof c&&!function(e){let t=x(e);t&&t.tagName||(t={namespaceURI:ge,tagName:"template"});const r=wP(e.tagName),n=wP(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ye?"svg"===r:t.namespaceURI===pe?"svg"===r&&("annotation-xml"===n||we[n]):Boolean(Te[r]):e.namespaceURI===pe?t.namespaceURI===ye?"math"===r:t.namespaceURI===me?"math"===r&&je[n]:Boolean(Pe[r]):e.namespaceURI===ye?!(t.namespaceURI===me&&!je[n])&&!(t.namespaceURI===pe&&!we[n])&&!Pe[r]&&(_e[r]||!Te[r]):!("application/xhtml+xml"!==ke||!be[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!EP(/<\/no(script|embed|frames)/i,e.innerHTML)?(G&&e.nodeType===iD&&(t=e.textContent,yP([C,A,T],(e=>{t=kP(t,e," ")})),e.textContent!==t&&(bP(r.removed,{element:e.cloneNode()}),e.textContent=t)),Be(E.afterSanitizeElements,e,null),!1):(De(e),!0)},$e=function(e,t,r){if(ne&&("id"===t||"name"===t)&&(r in n||r in Ee))return!1;if(V&&!H[t]&&EP(P,t));else if(W&&EP(D,t));else if(!q[t]||H[t]){if(!(Ue(e)&&(U.tagNameCheck instanceof RegExp&&EP(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&EP(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&EP(U.tagNameCheck,r)||U.tagNameCheck instanceof Function&&U.tagNameCheck(r))))return!1}else if(fe[t]);else if(EP(R,kP(r,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==NP(r,"data:")||!ue[e]){if(K&&!EP(M,kP(r,I,"")));else if(r)return!1}else;return!0},Ue=function(e){return"annotation-xml"!==e&&_P(e,L)},ze=function(e){Be(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Re(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let a=t.length;for(;a--;){const o=t[a],{name:s,namespaceURI:l,value:c}=o,u=Se(s);let d="value"===s?c:SP(c);if(n.attrName=u,n.attrValue=d,n.keepAttr=!0,n.forceKeepAttr=void 0,Be(E.uponSanitizeAttribute,e,n),d=n.attrValue,!ae||"id"!==u&&"name"!==u||(Me(s,e),d="user-content-"+d),X&&EP(/((--!?|])>)|<\/(style|title)/i,d)){Me(s,e);continue}if(n.forceKeepAttr)continue;if(Me(s,e),!n.keepAttr)continue;if(!Y&&EP(/\/>/i,d)){Me(s,e);continue}G&&yP([C,A,T],(e=>{d=kP(d,e," ")}));const f=Se(e.nodeName);if($e(f,u,d)){if(w&&"object"===typeof p&&"function"===typeof p.getAttributeType)if(l);else switch(p.getAttributeType(f,u)){case"TrustedHTML":d=w.createHTML(d);break;case"TrustedScriptURL":d=w.createScriptURL(d)}try{l?e.setAttributeNS(l,s,d):e.setAttribute(s,d),Re(e)?De(e):vP(r.removed)}catch(i){}}}Be(E.afterSanitizeAttributes,e,null)},He=function e(t){let r=null;const n=Le(t);for(Be(E.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)Be(E.uponSanitizeShadowNode,r,null),qe(r),ze(r),r.content instanceof o&&e(r.content);Be(E.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,s=null,c=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!==typeof e&&!Fe(e)){if("function"!==typeof e.toString)throw CP("toString is not a function");if("string"!==typeof(e=e.toString()))throw CP("dirty is not a string, aborting")}if(!r.isSupported)return e;if(J||Ae(t),r.removed=[],"string"===typeof e&&(oe=!1),oe){if(e.nodeName){const t=Se(e.nodeName);if(!F[t]||z[t])throw CP("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)n=Ie("\x3c!----\x3e"),i=n.ownerDocument.importNode(e,!0),i.nodeType===aD&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!ee&&!G&&!Q&&-1===e.indexOf("<"))return w&&re?w.createHTML(e):e;if(n=Ie(e),!n)return ee?null:re?j:""}n&&Z&&De(n.firstChild);const u=Le(oe?e:n);for(;s=u.nextNode();)qe(s),ze(s),s.content instanceof o&&He(s.content);if(oe)return e;if(ee){if(te)for(c=N.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(q.shadowroot||q.shadowrootmode)&&(c=O.call(a,c,!0)),c}let d=Q?n.outerHTML:n.innerHTML;return Q&&F["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&EP(tD,n.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+d),G&&yP([C,A,T],(e=>{d=kP(d,e," ")})),w&&re?w.createHTML(d):d},r.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},r.clearConfig=function(){Oe=null,J=!1},r.isValidAttribute=function(e,t,r){Oe||Ae({});const n=Se(e),a=Se(t);return $e(n,a,r)},r.addHook=function(e,t){"function"===typeof t&&bP(E[e],t)},r.removeHook=function(e,t){if(void 0!==t){const r=gP(E[e],t);return-1===r?void 0:xP(E[e],r,1)[0]}return vP(E[e])},r.removeHooks=function(e){E[e]=[]},r.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const dD=e=>{let{comment:t,onDelete:r}=e;const{currentUser:n}=Gr();return(0,Vr.jsx)("div",{className:"border-b border-gray-200 py-4 last:border-b-0",children:(0,Vr.jsxs)("div",{className:"flex items-start",children:[(0,Vr.jsx)("div",{className:"flex-shrink-0 mr-3",children:(0,Vr.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold",children:t.user_name?t.user_name.split(" ").map((e=>e[0])).join("").toUpperCase():"U"})}),(0,Vr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vr.jsx)("h4",{className:"text-sm font-medium",children:t.user_name||"\u4e0d\u660e\u306a\u30e6\u30fc\u30b6\u30fc"}),(0,Vr.jsx)("span",{className:"text-xs text-gray-500",children:nP(t.created_at)})]}),(0,Vr.jsx)("div",{className:"mt-1",children:(()=>{if(t.html_content){const e=uD.sanitize(t.html_content);return(0,Vr.jsx)("div",{className:"comment-html-content",dangerouslySetInnerHTML:{__html:e},ref:e=>{if(e){const t=e.querySelectorAll("img");t.length>0&&t.forEach((e=>{e.style.maxWidth="100%",e.style.maxHeight="400px",e.style.borderRadius="4px",e.style.margin="10px 0",e.style.height="auto",e.style.objectFit="contain"}))}}})}return(0,Vr.jsx)("div",{className:"comment-content",children:t.content})})()}),t.attachments&&t.attachments.length>0&&(0,Vr.jsxs)("div",{className:"mt-2",children:[(0,Vr.jsx)("h5",{className:"text-xs font-medium mb-1",children:"\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb:"}),(0,Vr.jsx)("div",{className:"flex flex-wrap gap-2",children:t.attachments.map((e=>(0,Vr.jsxs)("a",{href:e.file,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center",children:[(0,Vr.jsx)(YE,{className:"mr-1",size:14}),e.filename||"\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb"]},e.id)))})]}),(0,Vr.jsx)("div",{className:"mt-2 flex justify-end",children:t.user===(null===n||void 0===n?void 0:n.id)&&(0,Vr.jsx)("button",{onClick:async()=>{if(window.confirm("\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{await ki.deleteComment(t.id),qs.success("\u30b3\u30e1\u30f3\u30c8\u304c\u524a\u9664\u3055\u308c\u307e\u3057\u305f"),r&&r(t.id)}catch(e){console.error("\u30b3\u30e1\u30f3\u30c8\u524a\u9664\u30a8\u30e9\u30fc:",e),qs.error("\u30b3\u30e1\u30f3\u30c8\u306e\u524a\u9664\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f")}},className:"text-xs text-red-600 hover:text-red-800",children:"\u524a\u9664"})})]})]})})},fD=e=>{let{comments:t,loading:r,error:n,onDeleteComment:a,onRetry:i}=e;return r&&0===t.length?(0,Vr.jsx)("div",{className:"flex justify-center py-4",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):n&&0===t.length?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:[n,(0,Vr.jsx)("button",{onClick:i,className:"ml-2 underline hover:text-red-800",children:"\u518d\u8a66\u884c"})]}):0===t.length?(0,Vr.jsx)("div",{className:"text-center text-gray-500 py-4",children:"\u30b3\u30e1\u30f3\u30c8\u306f\u307e\u3060\u3042\u308a\u307e\u305b\u3093\u3002\u6700\u521d\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u6295\u7a3f\u3057\u307e\u3057\u3087\u3046\u3002"}):(0,Vr.jsx)("div",{className:"space-y-6",children:[...t].sort(((e,t)=>new Date(e.created_at)-new Date(t.created_at))).map((e=>(0,Vr.jsx)(dD,{comment:e,onDelete:a},e.id)))})};var hD=r(2823),pD=r.n(hD);const mD=e=>{let{users:t,position:r,onSelect:n,onClose:a}=e;const[i,s]=(0,o.useState)(0),l=(0,o.useRef)(null),c=(0,o.useRef)([]);(0,o.useEffect)((()=>{if(c.current=c.current.slice(0,t.length),t.length>0&&i>=0){const e=c.current[i];e&&l.current&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}}),[t,i]);const u=e=>{if(t.length)switch(e.key){case"ArrowDown":e.preventDefault(),s((e=>e<t.length-1?e+1:0));break;case"ArrowUp":e.preventDefault(),s((e=>e>0?e-1:t.length-1));break;case"Enter":case"Tab":e.preventDefault(),t[i]&&n(t[i]);break;case"Escape":e.preventDefault(),a()}};return(0,o.useEffect)((()=>(document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)})),[t,i]),t.length?(0,Vr.jsx)(tP,{ref:l,style:{top:`${r.top}px`,left:`${r.left}px`},children:t.map(((e,t)=>{const r=e.get_full_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.email||e.username||"",a=r.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2);return(0,Vr.jsxs)(rP,{className:t===i?"selected":"",onClick:()=>n(e),ref:e=>c.current[t]=e,children:[(0,Vr.jsx)("div",{className:"mention-avatar",children:a}),(0,Vr.jsx)("div",{className:"mention-name",children:r})]},e.id)}))}):null},yD=e=>{let{taskId:t,onCommentAdded:r,submitting:n,setSubmitting:a}=e;const[i,s]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)([]),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(""),[y,g]=(0,o.useState)({top:0,left:0}),[v,b]=(0,o.useState)([]),[x,w]=(0,o.useState)([]),[j,_]=(0,o.useState)(!1),k=(0,o.useRef)(null),N=(0,o.useRef)(null);(0,o.useEffect)((()=>{const e=setTimeout((()=>{_(!0)}),300);return()=>clearTimeout(e)}),[]);const S=(0,o.useCallback)((e=>{const t=e.clipboardData.items;let r=!1;for(let n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){r=!0,e.preventDefault();const a=t[n].getAsFile(),i=URL.createObjectURL(a);if(a.size>5242880)return void qs.error("\u753b\u50cf\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3059\u304e\u307e\u3059\uff08\u6700\u59275MB\uff09");const o=k.current.getEditor();if(o){const e=o.getSelection(),t=e?e.index:o.getLength();o.insertEmbed(t,"image",i),setTimeout((()=>{const e=o.root.querySelectorAll("img");if(e.length>0){const t=e[e.length-1];t.style.maxWidth="100%",t.style.height="auto",t.style.margin="10px 0",t.style.borderRadius="4px",t.naturalHeight>600&&(t.style.maxHeight="400px",t.style.objectFit="contain")}}),10),o.setSelection(t+1);const r=new FileReader;r.onload=function(e){const t=e.target.result,r=o.root.innerHTML.replace(i,t);o.root.innerHTML=r,c(r)},r.readAsDataURL(a),qs.success("\u753b\u50cf\u304c\u30b3\u30e1\u30f3\u30c8\u306b\u633f\u5165\u3055\u308c\u307e\u3057\u305f")}else d((e=>[...e,{id:Date.now().toString(),file:a,url:i}])),qs.success("\u753b\u50cf\u304c\u6dfb\u4ed8\u3055\u308c\u307e\u3057\u305f")}}),[]),O=(0,o.useCallback)((()=>{if(k.current)try{const e=k.current.getEditor();e&&e.root&&(e.root.removeEventListener("paste",S),e.root.addEventListener("paste",S),console.log("Paste event listener setup for Quill editor"))}catch(e){console.error("Error setting up clipboard handler:",e)}}),[S]);(0,o.useEffect)((()=>{if(j){O();setTimeout((()=>{const e=document.querySelector(".ql-toolbar");e&&(e.style.display="flex",e.style.visibility="visible",e.style.opacity="1")}),100)}return()=>{if(k.current)try{const e=k.current.getEditor();e&&e.root&&e.root.removeEventListener("paste",S)}catch(e){}}}),[O,S,j]);(0,o.useEffect)((()=>{(async()=>{try{console.log("Fetching users for mention feature...");const e=await Oi.getBusinessUsers();let t=[];e&&(Array.isArray(e)?t=e:e.data&&Array.isArray(e.data)?t=e.data:e.data&&e.data.results&&Array.isArray(e.data.results)&&(t=e.data.results)),console.log(`Loaded ${t.length} users for mention feature`),0===t.length&&(t=[{id:1,username:"admin",first_name:"\u7ba1\u7406\u8005",last_name:"\u30e6\u30fc\u30b6\u30fc"},{id:2,username:"worker1",first_name:"\u62c5\u5f53\u8005",last_name:"1"},{id:3,username:"worker2",first_name:"\u62c5\u5f53\u8005",last_name:"2"}],console.log("Using demo users for mention feature")),h(t)}catch(e){console.error("\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f:",e);h([{id:1,username:"admin",first_name:"\u7ba1\u7406\u8005",last_name:"\u30e6\u30fc\u30b6\u30fc"},{id:2,username:"worker1",first_name:"\u62c5\u5f53\u8005",last_name:"1"},{id:3,username:"worker2",first_name:"\u62c5\u5f53\u8005",last_name:"2"}]),console.log("Using demo users due to API error")}})()}),[]);const E=e=>{var t;const r=null===(t=k.current)||void 0===t?void 0:t.getEditor();if(!r)return;const n=r.getSelection();if(!n)return;const a=n.index,i=r.getText(0,a);console.log("Checking for mentions at position:",a),console.log("Text before cursor:",i);const o=i.lastIndexOf("@");if(-1===o)return void b([]);const s=i.slice(o+1),l=s.includes(" ");if(console.log("Text after @ symbol:",s),console.log("Has space after @:",l),l&&s.length>0)return void b([]);const c=s;m(c),console.log("Mention query:",c);const u=((e,t)=>{if(console.log("Finding mention candidates for query:",e),console.log("Available users:",t),!t||!Array.isArray(t))return console.log("No users available for mention search"),[];if(!e||""===e.trim())return console.log("Empty query, returning up to 5 users"),t.slice(0,5);const r=e.toLowerCase().trim(),n=t.filter((e=>{if(!e)return!1;const t=e.get_full_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.display_name||e.name||e.username||e.email||"",n=e.username||"",a=e.email||"";return t.toLowerCase().includes(r)||n.toLowerCase().includes(r)||a.toLowerCase().includes(r)}));return console.log(`Found ${n.length} matching users for query: "${e}"`),n.slice(0,5)})(c,f);console.log("Found mention candidates:",u.length),b(u);const d=r.getBounds(o),h=document.querySelector(".quill-container"),p=(null===h||void 0===h||h.getBoundingClientRect(),r.root.getBoundingClientRect()),y=p.top,v=p.left,x=y+d.top+d.height+10,w=v+d.left;console.log("Editor rect:",p),console.log("Bounds:",d),console.log("Absolute position:",{top:x,left:w}),g({top:x,left:w})},C=async e=>{if(e&&e.preventDefault(),!i.trim()&&!l&&0===u.length)return void qs.error("\u30b3\u30e1\u30f3\u30c8\u5185\u5bb9\u307e\u305f\u306f\u753b\u50cf\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");a(!0);let n=i,o=l;console.log("Submit data check:"),console.log("taskId:",t),console.log("savedComment:",n),console.log("savedHtml:",o),o&&"<p><br></p>"!==o&&"<p></p>"!==o||(console.log("Empty HTML content detected, generating from plain text"),o=`<p>${i.replace(/\n/g,"</p><p>")}</p>`);try{const e=(e=>e&&Array.isArray(e)?e.map((e=>e.id)):[])(x),i=new FormData;if(!t)return console.error("\u30bf\u30b9\u30afID\u304c\u4e0d\u6b63\u3067\u3059:",t),qs.error("\u30bf\u30b9\u30afID\u304c\u4e0d\u6b63\u3067\u3059\u3002\u30da\u30fc\u30b8\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void a(!1);if(!n&&!u.length)return console.error("\u30b3\u30e1\u30f3\u30c8\u5185\u5bb9\u304c\u7a7a\u3067\u3059"),qs.error("\u30b3\u30e1\u30f3\u30c8\u5185\u5bb9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),void a(!1);i.append("task",t),i.append("content",n||"\u753b\u50cf\u30b3\u30e1\u30f3\u30c8"),console.log("FormData values:"),console.log("task:",i.get("task")),console.log("content:",i.get("content")),i.append("html_content",o),console.log("html_content:",i.get("html_content"));const l=(e=>{const t=[],r=/<img[^>]+src="(data:image\/[^;]+;base64,[^"]+)"[^>]*>/g;let n;for(;null!==(n=r.exec(e));)t.push(n[1]);return t})(o);if(console.log(`Extracted ${l.length} base64 images from HTML content`),e.length>0){console.log("Adding mentioned user IDs:",e),e.forEach((e=>{i.append("mentioned_users",e.toString())}));const t=i.getAll("mentioned_users");console.log("All mentioned_users in FormData:",t)}u.length>0&&(console.log(`Adding ${u.length} attachment images to FormData`),u.forEach(((e,t)=>{i.append("files",e.file),console.log(`Added image ${t+1}: ${e.file.name} (${e.file.type}, ${e.file.size} bytes)`)}))),console.log("FormData entries:");for(let t of i.entries())t[1]instanceof File?console.log(t[0],":","[File object]",t[1].name,t[1].size,"bytes"):console.log(t[0],":",t[1]);console.log("\u9001\u4fe1\u958b\u59cb: addCommentWithFiles API\u547c\u3073\u51fa\u3057");const f=await ki.addCommentWithFiles(t,i);console.log("API\u5fdc\u7b54:",f),qs.success("\u30b3\u30e1\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f"),s(""),c(""),d([]),w([]),r&&r(f),a(!1)}catch(f){console.error("\u30b3\u30e1\u30f3\u30c8\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f:",f),f.response?(console.error("\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9:",f.response.data),console.error("\u30a8\u30e9\u30fc\u30b9\u30c6\u30fc\u30bf\u30b9:",f.response.status),qs.error(`\u30b3\u30e1\u30f3\u30c8\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f (${f.response.status}): \u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f`)):f.request?(console.error("\u30ea\u30af\u30a8\u30b9\u30c8\u30a8\u30e9\u30fc:",f.request),qs.error("\u30b3\u30e1\u30f3\u30c8\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f: \u30b5\u30fc\u30d0\u30fc\u304b\u3089\u5fdc\u7b54\u304c\u3042\u308a\u307e\u305b\u3093")):qs.error("\u30b3\u30e1\u30f3\u30c8\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f: "+f.message),a(!1)}};return(0,Vr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.length>0&&(0,Vr.jsxs)("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[(0,Vr.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"\u6dfb\u4ed8\u753b\u50cf"}),(0,Vr.jsx)("div",{className:"flex flex-wrap gap-3",children:u.map(((e,t)=>(0,Vr.jsxs)("div",{className:"relative group",children:[(0,Vr.jsx)("img",{src:e.url,alt:`\u6dfb\u4ed8${t+1}`,className:"w-24 h-24 object-cover rounded border border-gray-300"}),(0,Vr.jsx)("button",{className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{return t=e.id,void d((e=>e.filter((e=>e.id!==t))));var t},children:(0,Vr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Vr.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},t)))})]}),(0,Vr.jsxs)("div",{className:"relative",children:[(0,Vr.jsx)("input",{type:"file",ref:N,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>{var t;const r=e.target.files;if(!r||0===r.length)return;const n=null===(t=k.current)||void 0===t?void 0:t.getEditor();for(let a=0;a<r.length;a++){const e=r[a];if(e.type.startsWith("image/")){if(e.size>5242880){qs.error("\u753b\u50cf\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3059\u304e\u307e\u3059\uff08\u6700\u59275MB\uff09");continue}if(n){const t=new FileReader;t.onload=function(e){const t=e.target.result,r=n.getSelection(),a=r?r.index:n.getLength();n.insertEmbed(a,"image",t),setTimeout((()=>{const e=n.root.querySelectorAll("img");if(e.length>0){const t=e[e.length-1];t.style.maxWidth="100%",t.style.height="auto",t.style.margin="10px 0",t.style.borderRadius="4px",t.naturalHeight>600&&(t.style.maxHeight="400px",t.style.objectFit="contain")}}),10),n.setSelection(a+1),c(n.root.innerHTML)},t.readAsDataURL(e),qs.success("\u753b\u50cf\u304c\u30b3\u30e1\u30f3\u30c8\u306b\u633f\u5165\u3055\u308c\u307e\u3057\u305f")}else{const t=URL.createObjectURL(e);d((r=>[...r,{id:Date.now().toString()+a,file:e,url:t}])),qs.success("\u753b\u50cf\u304c\u6dfb\u4ed8\u3055\u308c\u307e\u3057\u305f")}}}e.target.value=""}}),(0,Vr.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vr.jsx)("div",{className:"relative flex-1",children:(0,Vr.jsxs)("div",{className:"quill-container relative",style:{minHeight:"150px"},children:[j&&(0,Vr.jsx)(pD(),{ref:k,value:l,onChange:(e,t,r,n)=>{if(n){c(e);const t=n.getText().trim();s(t),E(t)}},modules:aP,formats:iP,placeholder:"\u30b3\u30e1\u30f3\u30c8\u3092\u5165\u529b...",theme:"snow",className:"quill-editor",readOnly:n,onKeyDown:e=>{e.ctrlKey&&"Enter"===e.key&&C(),v.length}}),v.length>0&&(0,Vr.jsx)(mD,{users:v,position:y,onSelect:e=>{var t;const r=null===(t=k.current)||void 0===t?void 0:t.getEditor();if(!r)return;const n=r.getSelection();if(!n)return;const a=n.index,i=r.getText(0,a).lastIndexOf("@");if(-1!==i){r.deleteText(i,a-i);const t=e.get_full_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.email||e.username;r.insertText(i,`@${t} `,{color:"#4a86e8",background:"rgba(74, 134, 232, 0.1)",bold:!0}),r.focus(),w((t=>t.some((t=>t.id===e.id))?t:[...t,e]))}b([])},onClose:()=>{b([])}})]})}),(0,Vr.jsxs)("button",{type:"button",onClick:C,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 "+(n?"opacity-75 cursor-not-allowed":""),disabled:n,style:{marginTop:"15px"},children:[(0,Vr.jsx)(KE,{className:"-ml-1 mr-2 h-5 w-5 transform rotate-90"}),"\u9001\u4fe1"]})]}),(0,Vr.jsx)("div",{className:"mt-2 flex space-x-2",children:(0,Vr.jsx)("button",{type:"button",className:"p-1.5 text-gray-500 hover:text-primary-600 hover:bg-gray-100 rounded",onClick:()=>{var e;null===(e=N.current)||void 0===e||e.click()},title:"\u753b\u50cf\u3092\u6dfb\u4ed8",children:(0,Vr.jsx)(YE,{className:"h-5 w-5"})})})]}),(0,Vr.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:(0,Vr.jsx)("p",{children:"\u753b\u50cf\u306f\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u304b\u3089\u30da\u30fc\u30b9\u30c8\u3001**\u592a\u5b57**\u3001*\u659c\u4f53*\u3001`\u30b3\u30fc\u30c9`\u306a\u3069\u306e\u66f8\u5f0f\u304c\u4f7f\u3048\u307e\u3059\u3002"})})]})},gD=e=>{let{taskId:t,task:r,onCommentAdded:n}=e;const[a,i]=(0,o.useState)([]),[s,l]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)(!1),h=async()=>{if(t){l(!0);try{console.log(`Fetching comments for task ID: ${t}`);const e=await ki.getComments(t),r=e.results||e;console.log(`Received ${r.length} comments for task ${t}`);const n=r.map((e=>{if(e.html_content){if("<p><br></p>"===e.html_content||"<p></p>"===e.html_content)return{...e,html_content:e.content?`<p>${e.content.replace(/\n/g,"</p><p>")}</p>`:null}}else if(e.content)return{...e,html_content:`<p>${e.content.replace(/\n/g,"</p><p>")}</p>`};return e}));i(n),u(null)}catch(c){console.error(`Error fetching comments for task ${t}:`,c),u("\u30b3\u30e1\u30f3\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30da\u30fc\u30b8\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),qs.error("\u30b3\u30e1\u30f3\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{l(!1)}}};(0,o.useEffect)((()=>{t?h():console.log("No taskId provided, skipping comment fetch")}),[t]);return s&&0===a.length?(0,Vr.jsx)("div",{className:"flex justify-center py-8",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}):c&&0===a.length?(0,Vr.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg",children:c}):(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("style",{children:"\n/* \u30b3\u30f3\u30c6\u30ca\u5168\u4f53\u306e\u30b9\u30bf\u30a4\u30eb */\n.quill-container {\n  width: 100%;\n  border: 1px solid #e5e7eb;\n  border-radius: 0.375rem;\n  overflow: hidden;\n  min-height: 150px;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Quill\u30a8\u30c7\u30a3\u30bf\u5168\u4f53\u306e\u30b9\u30bf\u30a4\u30eb */\n.quill-editor {\n  display: flex;\n  flex-direction: column;\n  height: 150px;\n}\n\n/* \u30c4\u30fc\u30eb\u30d0\u30fc\u90e8\u5206\u306e\u30b9\u30bf\u30a4\u30eb */\n.ql-toolbar.ql-snow {\n  border-radius: 4px 4px 0 0;\n  border: none;\n  border-bottom: 1px solid #e5e7eb;\n  background-color: #f9fafb;\n  display: flex !important;\n  flex-wrap: wrap !important;\n  padding: 8px;\n}\n\n/* \u30a8\u30c7\u30a3\u30bf\u672c\u6587\u90e8\u5206\u306e\u30b9\u30bf\u30a4\u30eb */\n.ql-container.ql-snow {\n  border: none;\n  font-size: 0.875rem;\n  height: 120px;\n  overflow-y: auto;\n}\n\n/* \u30a8\u30c7\u30a3\u30bf\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u9818\u57df */\n.ql-editor {\n  min-height: 100px;\n  font-family: inherit;\n  padding: 12px;\n}\n\n/* \u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u7528\u306e\u30b9\u30bf\u30a4\u30eb */\n.quill-content {\n  font-size: 0.875rem;\n  line-height: 1.5;\n}\n\n.quill-content img {\n  max-width: 100%;\n  height: auto;\n  margin: 8px 0;\n  border-radius: 4px;\n}\n\n.quill-content p {\n  margin-bottom: 0.5rem;\n}\n\n.quill-content blockquote {\n  border-left: 3px solid #ccc;\n  padding-left: 0.75rem;\n  margin-left: 0;\n  color: #666;\n}\n\n.quill-content pre {\n  background-color: #f1f1f1;\n  border-radius: 3px;\n  padding: 0.5rem;\n  font-family: monospace;\n  white-space: pre-wrap;\n}\n\n.quill-content .ql-syntax {\n  background-color: #f8f8f8;\n  border-radius: 3px;\n  padding: 0.5rem;\n  font-family: monospace;\n  white-space: pre-wrap;\n}\n\n.quill-content ul, .quill-content ol {\n  padding-left: 1.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.quill-content ul li {\n  list-style-type: disc;\n}\n\n.quill-content ol li {\n  list-style-type: decimal;\n}\n\n.quill-content a {\n  color: #2563eb;\n  text-decoration: underline;\n}\n\n.quill-content strong, .quill-content b {\n  font-weight: bold;\n}\n\n.quill-content em, .quill-content i {\n  font-style: italic;\n}\n"}),(0,Vr.jsx)("div",{className:"mb-6",children:(0,Vr.jsx)(fD,{comments:a,loading:s,error:c,onDeleteComment:async e=>{if(window.confirm("\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{await ki.deleteComment(e),qs.success("\u30b3\u30e1\u30f3\u30c8\u304c\u524a\u9664\u3055\u308c\u307e\u3057\u305f"),h()}catch(c){console.error("Error deleting comment:",c),qs.error("\u30b3\u30e1\u30f3\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},onRetry:h})}),(0,Vr.jsx)(yD,{taskId:t,onCommentAdded:async(e,r)=>{if(!t)return;const a={id:`temp-${Date.now()}`,content:(null===e||void 0===e?void 0:e.content)||"\u753b\u50cf\u30b3\u30e1\u30f3\u30c8",html_content:(null===e||void 0===e?void 0:e.html_content)||"<p>\u753b\u50cf\u30b3\u30e1\u30f3\u30c8</p>",user_name:"\u3042\u306a\u305f",created_at:(new Date).toISOString(),isSending:!0,imageUrls:(null===e||void 0===e?void 0:e.imageUrls)||[]};i((e=>[...e,a]));try{console.log(`Sending comment to task ${t}`),r||(console.log("FormData is not provided, creating a new one"),r=new FormData,t&&r.append("task",t),e&&e.content?r.append("content",e.content):r.append("content","\u753b\u50cf\u30b3\u30e1\u30f3\u30c8"),e&&e.html_content&&r.append("html_content",e.html_content)),console.log("FormData before API call:",r);const a=await ki.addCommentWithFiles(t,r);console.log("Comment added successfully:",a),await h(),f(!1),n&&"function"===typeof n&&n()}catch(c){console.error("Error adding comment:",c),qs.error("\u30b3\u30e1\u30f3\u30c8\u306e\u8ffd\u52a0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"),i((e=>e.filter((e=>e.id!==a.id)))),f(!1)}},submitting:d,setSubmitting:f})]})},vD=e=>{if(!e)return"";return new Date(e).toISOString().split("T")[0]},bD=e=>{let{task:t,users:r}=e;return t?(0,Vr.jsxs)("div",{className:"bg-blue-50 px-3 py-1.5 rounded-md border border-blue-200 flex items-center",children:[(0,Vr.jsx)(gE,{className:"mr-1.5 text-blue-500"}),(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("span",{className:"text-blue-700 mr-1",children:"\u73fe\u5728\u306e\u62c5\u5f53\u8005:"}),(0,Vr.jsx)("span",{className:"text-blue-800 font-medium",children:(()=>{if(t.assignee_name)return t.assignee_name;if(t.status_data&&t.status_data.assignee_type){const e=t.status_data.assignee_type;if("worker"===e)return t.worker_name?t.worker_name:t.worker_data&&t.worker_data.get_full_name?t.worker_data.get_full_name:t.worker&&r&&r.find((e=>e.id===t.worker||e.id===parseInt(t.worker)))?r.find((e=>e.id===t.worker||e.id===parseInt(t.worker))).get_full_name||r.find((e=>e.id===t.worker||e.id===parseInt(t.worker))).email:"\u4f5c\u696d\u62c5\u5f53\u8005";if("reviewer"===e)return t.reviewer_name?t.reviewer_name:t.reviewer_data&&t.reviewer_data.get_full_name?t.reviewer_data.get_full_name:t.reviewer&&r&&r.find((e=>e.id===t.reviewer||e.id===parseInt(t.reviewer)))?r.find((e=>e.id===t.reviewer||e.id===parseInt(t.reviewer))).get_full_name||r.find((e=>e.id===t.reviewer||e.id===parseInt(t.reviewer))).email:"\u30ec\u30d3\u30e5\u30fc\u62c5\u5f53\u8005"}return"\u62c5\u5f53\u8005\u306a\u3057"})()})]})]}):null},xD=e=>{let{task:t,isRecordingTime:r=!1,timeEntry:n=null,elapsedTime:a=0,cachedTimeEntries:i=[],isLoadingTimeEntries:s=!1,editingTimeEntry:l=null,timeEntryForm:c={},startTimeRecording:u=()=>{},stopTimeRecording:d=()=>{},startEditingTimeEntry:f=()=>{},cancelEditingTimeEntry:h=()=>{},saveTimeEntryEdit:p=()=>{},deleteTimeEntry:m=()=>{},setTimeEntryForm:y=()=>{}}=e;const[g,v]=(0,o.useState)(!1);if(!t)return null;const b=e=>{if(!e)return"0\u6642\u9593";const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return 0===t?`${r}\u5206`:0===r?`${t}\u6642\u9593`:`${t}\u6642\u9593${r}\u5206`},x=e=>new Date(e).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return(0,Vr.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[(0,Vr.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,Vr.jsxs)("h3",{className:"text-md font-medium text-gray-700 flex items-center",children:[(0,Vr.jsx)(PE,{className:"mr-2 text-gray-500"}),"\u6642\u9593\u8a18\u9332"]}),(0,Vr.jsx)("div",{className:"flex space-x-2",children:r?(0,Vr.jsxs)("button",{type:"button",onClick:d,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[(0,Vr.jsx)(dE,{className:"mr-1"}),"\u8a18\u9332\u3092\u7d42\u4e86\uff08",a,"\uff09"]}):(0,Vr.jsxs)("button",{type:"button",onClick:u,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[(0,Vr.jsx)(PE,{className:"mr-1"}),"\u4f5c\u696d\u958b\u59cb"]})})]}),(0,Vr.jsxs)("div",{className:"mt-3",children:[(0,Vr.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-2 cursor-pointer hover:text-gray-800",onClick:()=>v(!g),children:[(0,Vr.jsx)("span",{children:g?"\u25bc \u8a18\u9332\u5c65\u6b74\u3092\u96a0\u3059":"\u25b6 \u8a18\u9332\u5c65\u6b74\u3092\u8868\u793a\u3059\u308b"}),(0,Vr.jsxs)("span",{className:"text-xs text-gray-500",children:[i.length,"\u4ef6\u306e\u8a18\u9332"]})]}),g&&(0,Vr.jsx)(Vr.Fragment,{children:s?(0,Vr.jsxs)("div",{className:"py-3 text-center text-sm text-gray-500",children:[(0,Vr.jsx)("span",{className:"inline-block animate-spin mr-1",children:"\u23f3"}),"\u8aad\u307f\u8fbc\u307f\u4e2d..."]}):0===i.length?(0,Vr.jsx)("div",{className:"py-3 text-center text-sm text-gray-500",children:"\u8a18\u9332\u304c\u3042\u308a\u307e\u305b\u3093"}):(0,Vr.jsx)("div",{className:"space-y-2 mt-2",children:i.map((e=>(0,Vr.jsx)("div",{className:"bg-gray-50 rounded-md p-3 border border-gray-200",children:l===e.id?(0,Vr.jsxs)("div",{className:"space-y-2",children:[(0,Vr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"\u958b\u59cb\u6642\u9593"}),(0,Vr.jsx)("input",{type:"datetime-local",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.start_time,onChange:e=>y({...c,start_time:e.target.value})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"\u7d42\u4e86\u6642\u9593"}),(0,Vr.jsx)("input",{type:"datetime-local",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.end_time,onChange:e=>y({...c,end_time:e.target.value})})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"\u8aac\u660e"}),(0,Vr.jsx)("input",{type:"text",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.description,onChange:e=>y({...c,description:e.target.value}),placeholder:"\u4f5c\u696d\u5185\u5bb9\u306e\u8aac\u660e"})]}),(0,Vr.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[(0,Vr.jsx)("button",{type:"button",onClick:h,className:"px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-50",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",onClick:p,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"\u4fdd\u5b58"})]})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{className:"flex justify-between",children:[(0,Vr.jsx)("div",{className:"text-sm text-gray-800 font-medium",children:b(e.duration_seconds)}),(0,Vr.jsxs)("div",{className:"flex space-x-1",children:[(0,Vr.jsx)("button",{onClick:()=>f(e),className:"text-gray-400 hover:text-gray-600",title:"\u7de8\u96c6",children:"\u270f\ufe0f"}),(0,Vr.jsx)("button",{onClick:()=>m(e.id),className:"text-gray-400 hover:text-red-600",title:"\u524a\u9664",children:(0,Vr.jsx)(nC,{size:16})})]})]}),(0,Vr.jsxs)("div",{className:"mt-1 text-xs text-gray-500",children:[x(e.start_time)," \u301c ",x(e.end_time)]}),e.description&&(0,Vr.jsx)("div",{className:"mt-1 text-sm",children:e.description})]})},e.id)))})})]})]})},wD=e=>{let{isOpen:t,onClose:r,onConfirm:n,isDeleting:a,taskTitle:i}=e;return t?(0,Vr.jsx)("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:(0,Vr.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[(0,Vr.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,Vr.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,Vr.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,Vr.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,Vr.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,Vr.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,Vr.jsx)(fE,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Vr.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,Vr.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"\u30bf\u30b9\u30af\u3092\u524a\u9664"}),(0,Vr.jsx)("div",{className:"mt-2",children:(0,Vr.jsxs)("p",{className:"text-sm text-gray-500",children:["\u30bf\u30b9\u30af\u300c",i||"\u9078\u629e\u4e2d\u306e\u30bf\u30b9\u30af","\u300d\u3092\u524a\u9664\u3057\u307e\u3059\u3002\u3053\u306e\u64cd\u4f5c\u306f\u53d6\u308a\u6d88\u305b\u307e\u305b\u3093\u3002"]})})]})]})}),(0,Vr.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,Vr.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm "+(a?"opacity-75 cursor-not-allowed":""),onClick:n,disabled:a,children:a?"\u524a\u9664\u4e2d...":"\u524a\u9664\u3059\u308b"}),(0,Vr.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:r,disabled:a,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})]})}):null},jD=e=>{let{isNewTask:t,onClose:r,saveState:n,isDirty:a,saveChanges:i}=e;return(0,Vr.jsxs)("div",{className:"px-4 py-6 bg-white border-b border-gray-200 sm:px-6",children:[(0,Vr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vr.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:t?"\u30bf\u30b9\u30af\u3092\u4f5c\u6210":"\u30bf\u30b9\u30af\u3092\u7de8\u96c6"}),(0,Vr.jsx)("div",{className:"ml-3 h-7 flex items-center",children:(0,Vr.jsxs)("button",{onClick:r,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,Vr.jsx)("span",{className:"sr-only",children:"\u9589\u3058\u308b"}),(0,Vr.jsx)(iC,{className:"h-6 w-6"})]})})]}),(0,Vr.jsx)("div",{className:"mt-2 text-sm",children:(()=>{switch(n){case"saving":return(0,Vr.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,Vr.jsx)(PE,{className:"mr-1 animate-pulse"}),(0,Vr.jsx)("span",{children:"\u5909\u66f4\u3092\u4fdd\u5b58\u4e2d..."})]});case"saved":return(0,Vr.jsxs)("div",{className:"flex items-center text-green-500",children:[(0,Vr.jsx)(dE,{className:"mr-1"}),(0,Vr.jsx)("span",{children:"\u4fdd\u5b58\u3057\u307e\u3057\u305f"})]});case"error":return(0,Vr.jsxs)("div",{className:"flex items-center text-red-500",children:[(0,Vr.jsx)("span",{children:"\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f"}),(0,Vr.jsx)("button",{onClick:i,className:"ml-2 text-xs bg-red-100 hover:bg-red-200 px-2 py-1 rounded",children:"\u518d\u8a66\u884c"})]});default:return a?(0,Vr.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,Vr.jsx)("span",{children:"\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059"}),(0,Vr.jsx)("button",{onClick:i,className:"ml-2 text-xs bg-blue-100 hover:bg-blue-200 px-2 py-1 rounded",children:"\u4fdd\u5b58"})]}):null}})()})]})},_D=e=>{let{isNewTask:t,task:r,onClose:n,handleSubmit:a,submitTask:i,saveState:o,handleDeleteConfirm:s}=e;return(0,Vr.jsxs)("div",{className:"flex-shrink-0 px-4 py-4 border-t border-gray-200 flex justify-between",children:[(0,Vr.jsx)("div",{children:!t&&r&&(0,Vr.jsxs)("button",{type:"button",className:"bg-white py-2 px-4 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:s,children:[(0,Vr.jsx)(nC,{className:"inline-block mr-1 -mt-1"}),"\u524a\u9664"]})}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("button",{type:"button",className:"mr-3 bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:n,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsxs)("button",{type:"button",className:"bg-primary-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:a(i),disabled:"saving"===o,children:[t?"\u4f5c\u6210":"\u4fdd\u5b58","saving"===o&&"\u4e2d..."]})]})]})},kD=e=>{let{control:t,statuses:r,categories:n,clients:a,fiscalYears:i,formState:o,handleFieldChange:s,watch:l}=e;const c="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",u=l("client"),d=u?i.filter((e=>e.client===parseInt(u))):[];return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-start",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"status",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"status",className:c,...t,onChange:e=>{t.onChange(e),s("status",e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),r.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})}})})]}),(0,Vr.jsxs)("div",{className:"col-span-2",children:[(0,Vr.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"\u30bf\u30a4\u30c8\u30eb"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"title",control:t,rules:{required:"\u30bf\u30a4\u30c8\u30eb\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"text",id:"title",className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"\u30bf\u30b9\u30af\u540d\u3092\u5165\u529b",...t,onChange:e=>{t.onChange(e),s("title",e.target.value)}}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.error.message})]})}})})]})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"\u30ab\u30c6\u30b4\u30ea\u30fc"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"category",control:t,render:e=>{var t;let{field:r}=e;return(0,Vr.jsxs)("div",{className:"relative",children:[(0,Vr.jsxs)("select",{id:"category",className:`${c} pl-7`,...r,onChange:e=>{r.onChange(e),s("category",""===e.target.value?null:e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u30ab\u30c6\u30b4\u30ea\u30fc\u306a\u3057"}),n.map((e=>(0,Vr.jsx)("option",{value:e.id,"data-color":e.color||"#6366F1",children:e.name},e.id)))]}),r.value&&(0,Vr.jsx)("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full",style:{backgroundColor:(null===(t=n.find((e=>e.id.toString()===r.value.toString())))||void 0===t?void 0:t.color)||"#6366F1"}})]})}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"client",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"client",className:c,...t,onChange:e=>{t.onChange(e),s("client",""===e.target.value?null:e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306a\u3057"}),a.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"fiscal_year",className:"block text-sm font-medium text-gray-700",children:"\u6c7a\u7b97\u671f"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"fiscal_year",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"fiscal_year",className:c,disabled:!u,...t,onChange:e=>{t.onChange(e),s("fiscal_year",""===e.target.value?null:e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u6c7a\u7b97\u671f\u306a\u3057"}),d.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.end_date?e.end_date.substring(0,10):e.year?`${e.year}-12-31`:"\u6c7a\u7b97\u671f",e.fiscal_period||e.period?`(\u7b2c${e.fiscal_period||e.period}\u671f)`:"",e.is_current&&" (\u73fe\u5728)"]},e.id)))]})}})})]})]})]})},ND=e=>{let{task:t,users:r,control:n,handleFieldChange:a,formState:i,watch:o}=e;const s="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md";o("worker"),o("reviewer");return(0,Vr.jsx)("div",{children:(0,Vr.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"\u62c5\u5f53\u8005"}),t&&!i.isDirty&&(0,Vr.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,Vr.jsx)(bD,{label:"\u4f5c\u696d\u8005",assigneeId:t.worker,users:r,icon:(0,Vr.jsx)(gE,{className:"h-5 w-5 text-gray-400"})}),(0,Vr.jsx)(bD,{label:"\u30ec\u30d3\u30e5\u30a2\u30fc",assigneeId:t.reviewer,users:r,icon:(0,Vr.jsx)(yE,{className:"h-5 w-5 text-gray-400"})})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"worker",className:"block text-sm font-medium text-gray-700",children:[(0,Vr.jsx)(gE,{className:"inline-block mr-1 -mt-1"}),"\u4f5c\u696d\u8005"]}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"worker",control:n,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"worker",className:s,...t,onChange:e=>{t.onChange(e),a("worker",""===e.target.value?null:e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u62c5\u5f53\u8005\u306a\u3057"}),r.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)))]})}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"reviewer",className:"block text-sm font-medium text-gray-700",children:[(0,Vr.jsx)(yE,{className:"inline-block mr-1 -mt-1"}),"\u30ec\u30d3\u30e5\u30a2\u30fc"]}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"reviewer",control:n,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"reviewer",className:s,...t,onChange:e=>{t.onChange(e),a("reviewer",""===e.target.value?null:e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u62c5\u5f53\u8005\u306a\u3057"}),r.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)))]})}})})]})]})]})})},SD=e=>{let{control:t,handleFieldChange:r,formState:n,watch:a}=e;const i="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",o=e=>{let{name:n,label:a,placeholder:o,required:s=!1}=e;const l="completed_at"===n;return(0,Vr.jsx)(na,{name:n,control:t,rules:s?{required:`${a}\u306f\u5fc5\u9808\u3067\u3059`}:{},render:e=>{let{field:t,fieldState:a}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("div",{className:"relative",children:(0,Vr.jsx)("input",{type:"date",className:i,placeholder:o,...t,value:t.value||"",onChange:e=>{t.onChange(e),l&&console.log("\u5b8c\u4e86\u65e5\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\u4fdd\u5b58\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u5909\u66f4\u3092\u78ba\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),r(n,e.target.value,l)}})}),a.error&&(0,Vr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a.error.message})]})}})};return(0,Vr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"due_date",className:"block text-sm font-medium text-gray-700",children:"\u671f\u9650\u65e5"}),(0,Vr.jsx)(o,{name:"due_date",label:"\u671f\u9650\u65e5",placeholder:"\u671f\u9650\u65e5\u3092\u9078\u629e"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"\u512a\u5148\u5ea6\uff08\u5c0f\u3055\u3044\u307b\u3069\u512a\u5148\u5ea6\u9ad8\uff09"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"priority_value",control:t,defaultValue:"",render:e=>{let{field:t}=e;return(0,Vr.jsx)("input",{type:"number",id:"priority_value",className:i,min:"1",max:"100",placeholder:"1-100 (\u5c0f\u3055\u3044\u307b\u3069\u512a\u5148\u5ea6\u9ad8)",...t,onChange:e=>{const n=e.target.value;t.onChange(n),r("priority_value",n)},onBlur:e=>{""===e.target.value&&(console.log("\u7a7a\u306e\u512a\u5148\u5ea6\u5024\u3092\u660e\u793a\u7684\u306b\u4fdd\u5b58\u3057\u307e\u3059"),r("priority_value",null))}})}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700",children:"\u958b\u59cb\u65e5"}),(0,Vr.jsx)(o,{name:"start_date",label:"\u958b\u59cb\u65e5",placeholder:"\u958b\u59cb\u65e5\u3092\u9078\u629e"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"completed_at",className:"block text-sm font-medium text-gray-700",children:"\u5b8c\u4e86\u65e5"}),(0,Vr.jsx)(o,{name:"completed_at",label:"\u5b8c\u4e86\u65e5",placeholder:"\u5b8c\u4e86\u65e5\u3092\u9078\u629e"})]})]})},OD=["bold","italic","strike","underline","list","bullet","ordered","link","code-block","code","blockquote","header","indent","align","image"],ED=e=>{let{value:t,onChange:r}=e;const[n,a]=(0,o.useState)(t||""),i=(0,o.useRef)(null),s=[["bold","italic","code"],[{list:"ordered"},{list:"bullet"}],["link","image"]],l=(0,o.useMemo)((()=>({toolbar:{container:s,handlers:{image:function(){const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.onchange=()=>{if(e.files&&e.files[0]){const t=e.files[0];if(t.size>5242880)return void qs.error("\u753b\u50cf\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3059\u304e\u307e\u3059\uff08\u6700\u59275MB\uff09");const n=new FileReader;n.onload=e=>{const t=this.quill,n=t.getSelection(!0),a=n?n.index:0;t.insertEmbed(a,"image",e.target.result),setTimeout((()=>{const e=t.root.querySelectorAll("img");if(e.length>0){const t=e[e.length-1];t.style.maxWidth="100%",t.style.height="auto",t.style.margin="10px 0",t.style.borderRadius="4px",t.naturalHeight>600&&(t.style.maxHeight="400px",t.style.objectFit="contain")}}),10),t.setSelection(a+1),r&&r(t.root.innerHTML)},n.readAsDataURL(t)}}}}},keyboard:{bindings:{bold:{key:"B",shortKey:!0,handler:function(e,t){this.quill.format("bold",!t.format.bold)}},italic:{key:"I",shortKey:!0,handler:function(e,t){this.quill.format("italic",!t.format.italic)}},code:{key:"E",shortKey:!0,handler:function(e,t){this.quill.format("code",!t.format.code)}}}}})),[]);(0,o.useEffect)((()=>{a(t||"")}),[t]),(0,o.useEffect)((()=>{if(!i.current)return;const e=i.current.getEditor(),t=()=>{try{const t=e.getText(),r=/https?:\/\/\S+/g;let n;for(;null!==(n=r.exec(t));){const t=n[0],r=n.index;let a=r+t.length;const i=t[t.length-1];[".",",",":",";",")","}","]"].includes(i)&&a--;const o=a-r;e.getFormat(r,o).link||setTimeout((()=>{e.formatText(r,o,"link",t.substring(0,o))}),1)}}catch(t){console.error("URL\u51e6\u7406\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f:",t)}},n=t=>{const n=t.clipboardData;if(!n)return;const a=n.items;let i=!1;for(let o=0;o<a.length;o++)if(-1!==a[o].type.indexOf("image")){i=!0;const n=a[o].getAsFile();if(n.size>5242880)return void qs.error("\u753b\u50cf\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3059\u304e\u307e\u3059\uff08\u6700\u59275MB\uff09");const s=new FileReader;s.onload=t=>{const n=t.target.result,a=e.getSelection(!0),i=a?a.index:e.getLength();e.insertEmbed(i,"image",n),setTimeout((()=>{const t=e.root.querySelectorAll("img");if(t.length>0){const e=t[t.length-1];e.style.maxWidth="100%",e.style.height="auto",e.style.margin="10px 0",e.style.borderRadius="4px",e.naturalHeight>600&&(e.style.maxHeight="400px",e.style.objectFit="contain")}}),10),e.setSelection(i+1),r&&r(e.root.innerHTML),qs.success("\u753b\u50cf\u304c\u633f\u5165\u3055\u308c\u307e\u3057\u305f")},s.readAsDataURL(n),t.preventDefault();break}};return e.on("text-change",((e,r,n)=>{"user"===n&&t()})),e.root.addEventListener("paste",n),setTimeout(t,100),()=>{e.off("text-change"),e.root&&e.root.removeEventListener("paste",n)}}),[r]);return(0,Vr.jsxs)("div",{className:"task-description-editor",children:[(0,Vr.jsx)("style",{children:"\n          .task-description-editor {\n            border: 1px solid #d1d5db;\n            border-radius: 0.375rem;\n            overflow: hidden;\n          }\n          \n          .task-description-editor .ql-toolbar {\n            border: none;\n            border-bottom: 1px solid #e5e7eb;\n            background-color: #f9fafb;\n            padding: 8px;\n          }\n          \n          .task-description-editor .ql-container {\n            border: none;\n            height: auto;\n            font-family: inherit;\n          }\n          \n          .task-description-editor .ql-editor {\n            min-height: 120px;\n            max-height: 300px;\n            overflow-y: auto;\n            font-size: 0.875rem;\n            font-family: inherit;\n          }\n          \n          .task-description-editor .ql-editor p {\n            margin-bottom: 0.5rem;\n          }\n          \n          .task-description-editor .ql-editor pre {\n            background: #f6f8fa;\n            border-radius: 3px;\n            padding: 0.5rem;\n            font-family: monospace;\n          }\n          \n          .task-description-editor .ql-editor code {\n            background: #f6f8fa;\n            border-radius: 3px;\n            padding: 0.125rem 0.25rem;\n            font-family: monospace;\n            font-size: 0.875em;\n          }\n          \n          .task-description-editor .ql-editor blockquote {\n            border-left: 4px solid #e5e7eb;\n            padding-left: 1rem;\n            color: #6b7280;\n          }\n          \n          .task-description-editor .ql-editor img {\n            max-width: 100%;\n            height: auto;\n            margin: 10px 0;\n            border-radius: 4px;\n          }\n          \n          .editor-footer {\n            border-top: 1px solid #e5e7eb;\n            background-color: #f9fafb;\n            padding: 8px 12px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n          \n          .save-button {\n            background-color: #3b82f6;\n            color: white;\n            font-size: 0.75rem;\n            font-weight: 500;\n            padding: 0.25rem 0.75rem;\n            border-radius: 0.25rem;\n            border: none;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 4px;\n          }\n          \n          .save-button:hover {\n            background-color: #2563eb;\n          }\n          \n          .save-button.saving {\n            background-color: #9ca3af;\n          }\n          \n          .editor-hint {\n            font-size: 0.75rem;\n            color: #6b7280;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          \n          .toolbar-toggle {\n            display: flex;\n            align-items: center;\n            padding: 4px 8px;\n            border-radius: 4px;\n            background: #f3f4f6;\n            cursor: pointer;\n            margin-right: 8px;\n          }\n          \n          .toolbar-toggle:hover {\n            background: #e5e7eb;\n          }\n          \n          .format-icons {\n            display: flex;\n            gap: 4px;\n            margin-right: 8px;\n          }\n          \n          .format-btn {\n            background: none;\n            border: none;\n            padding: 2px 4px;\n            border-radius: 4px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            color: #6b7280;\n          }\n          \n          .format-btn:hover {\n            background: #f3f4f6;\n            color: #374151;\n          }\n          \n          .format-btn.active {\n            color: #2563eb;\n            background: #eff6ff;\n          }\n          \n          .shortcut-help {\n            font-size: 0.7rem;\n            color: #6b7280;\n            display: flex;\n            gap: 1rem;\n            flex-wrap: wrap;\n          }\n          \n          .shortcut kbd {\n            background-color: #f3f4f6;\n            border: 1px solid #d1d5db;\n            border-radius: 3px;\n            box-shadow: 0 1px 0 rgba(0,0,0,0.2);\n            color: #374151;\n            display: inline-block;\n            font-family: inherit;\n            font-size: 0.65rem;\n            line-height: 1;\n            padding: 0.15rem 0.25rem;\n          }\n        "}),(0,Vr.jsx)(pD(),{ref:i,value:n,onChange:e=>{a(e),r&&r("<p><br></p>"===e||"<p></p>"===e?"":e)},modules:l,formats:OD,placeholder:"\u30bf\u30b9\u30af\u306e\u8a73\u7d30\u3092\u8a18\u5165..."}),(0,Vr.jsx)("div",{className:"editor-footer",children:(0,Vr.jsxs)("div",{className:"shortcut-help",children:[(0,Vr.jsxs)("span",{className:"shortcut",children:[(0,Vr.jsx)("kbd",{children:"Ctrl/Cmd"})," + ",(0,Vr.jsx)("kbd",{children:"B"}),": \u592a\u5b57"]}),(0,Vr.jsxs)("span",{className:"shortcut",children:[(0,Vr.jsx)("kbd",{children:"Ctrl/Cmd"})," + ",(0,Vr.jsx)("kbd",{children:"I"}),": \u659c\u4f53"]}),(0,Vr.jsxs)("span",{className:"shortcut",children:[(0,Vr.jsx)("kbd",{children:"Ctrl/Cmd"})," + ",(0,Vr.jsx)("kbd",{children:"E"}),": \u30b3\u30fc\u30c9"]}),(0,Vr.jsx)("span",{className:"shortcut",children:"URL\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u3068\u30ea\u30f3\u30af\u306b\u81ea\u52d5\u5909\u63db"}),(0,Vr.jsxs)("span",{className:"shortcut",children:["\u753b\u50cf\u306f\u8cbc\u308a\u4ed8\u3051(",(0,Vr.jsx)("kbd",{children:"Ctrl/Cmd"})," + ",(0,Vr.jsx)("kbd",{children:"V"}),")\u307e\u305f\u306f\u30c4\u30fc\u30eb\u30d0\u30fc\u304b\u3089\u8ffd\u52a0\u53ef\u80fd"]})]})})]})},CD=e=>{let{control:t,handleFieldChange:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"\u8aac\u660e"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"description",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsx)(ED,{value:t.value||"",onChange:e=>{let n="";e&&"<p><br></p>"!==e&&"<p></p>"!==e&&(n=e),t.onChange(n),r("description",n,!0)}})}})})]})},AD=e=>{let{task:t}=e;return t?(0,Vr.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Vr.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,Vr.jsxs)("span",{children:["\u4f5c\u6210\u65e5: ",t.created_at?new Date(t.created_at).toLocaleString():"-"]}),(0,Vr.jsxs)("span",{children:["\u66f4\u65b0\u65e5: ",t.updated_at?new Date(t.updated_at).toLocaleString():"-"]})]})}):null},TD=e=>{let{control:t,handleFieldChange:r,isNewTask:n,watch:a}=e;const i="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",o="true"===a("is_recurring")||!0===a("is_recurring"),s="true"===a("is_template")||!0===a("is_template");return(0,Vr.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"\u8ffd\u52a0\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsxs)("div",{className:"flex items-start",children:[(0,Vr.jsx)("div",{className:"flex items-center h-5",children:(0,Vr.jsx)(na,{name:"is_recurring",control:t,render:e=>{let{field:{onChange:t,onBlur:n,value:a,ref:i}}=e;return(0,Vr.jsx)("input",{id:"is_recurring",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:"true"===a||!0===a||!1,onChange:e=>{t(e.target.checked),r("is_recurring",e.target.checked)},onBlur:n,ref:i})}})}),(0,Vr.jsxs)("div",{className:"ml-3 text-sm",children:[(0,Vr.jsx)("label",{htmlFor:"is_recurring",className:"font-medium text-gray-700",children:"\u7e70\u308a\u8fd4\u3057\u30bf\u30b9\u30af"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u81ea\u52d5\u7684\u306b\u65b0\u3057\u3044\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059"})]})]}),o&&(0,Vr.jsxs)("div",{className:"mt-3 ml-7 grid grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"recurring_type",className:"block text-sm font-medium text-gray-700",children:"\u7e70\u308a\u8fd4\u3057\u5468\u671f"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"recurring_type",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"recurring_type",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",...t,onChange:e=>{t.onChange(e),r("recurring_type",e.target.value)},children:[(0,Vr.jsx)("option",{value:"daily",children:"\u6bce\u65e5"}),(0,Vr.jsx)("option",{value:"weekly",children:"\u6bce\u9031"}),(0,Vr.jsx)("option",{value:"monthly",children:"\u6bce\u6708"}),(0,Vr.jsx)("option",{value:"yearly",children:"\u6bce\u5e74"})]})}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"recurring_interval",className:"block text-sm font-medium text-gray-700",children:"\u9593\u9694"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"recurring_interval",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsx)("input",{type:"number",id:"recurring_interval",className:i,min:"1",placeholder:"1",...t,onChange:e=>{t.onChange(e),r("recurring_interval",e.target.value)}})}})})]})]})]}),n&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("div",{className:"flex items-start",children:[(0,Vr.jsx)("div",{className:"flex items-center h-5",children:(0,Vr.jsx)(na,{name:"is_template",control:t,render:e=>{let{field:{onChange:t,onBlur:n,value:a,ref:i}}=e;return(0,Vr.jsx)("input",{id:"is_template",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:"true"===a||!0===a||!1,onChange:e=>{t(e.target.checked),r("is_template",e.target.checked)},onBlur:n,ref:i})}})}),(0,Vr.jsxs)("div",{className:"ml-3 text-sm",children:[(0,Vr.jsx)("label",{htmlFor:"is_template",className:"font-medium text-gray-700",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u4fdd\u5b58"}),(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u3053\u306e\u30bf\u30b9\u30af\u3092\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u4fdd\u5b58\u3057\u3001\u5f8c\u3067\u518d\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059"})]})]}),s&&(0,Vr.jsxs)("div",{className:"mt-3 ml-7",children:[(0,Vr.jsx)("label",{htmlFor:"template_name",className:"block text-sm font-medium text-gray-700",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"template_name",control:t,rules:{required:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:n}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"text",id:"template_name",className:i,placeholder:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092\u5165\u529b",...t,onChange:e=>{t.onChange(e),r("template_name",e.target.value)}}),n.error&&(0,Vr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.error.message})]})}})})]})]})]})},PD=e=>{let{control:t,handleFieldChange:r,watch:n,setValue:a,task:i}=e;const s=n("is_recurring"),l=n("recurrence_pattern"),c=(n("weekday"),n("weekdays")),u=n("monthday"),d=n("business_day"),[f,h]=(n("consider_holidays"),(0,o.useState)([])),[p,m]=(0,o.useState)("day"),y=(0,o.useRef)(!1),g=(0,o.useRef)(null),v=(0,o.useRef)(0),b=[{value:"daily",label:"\u6bce\u65e5"},{value:"weekly",label:"\u6bce\u9031"},{value:"monthly",label:"\u6bce\u6708"},{value:"yearly",label:"\u6bce\u5e74"}],x=[{value:0,label:"\u6708\u66dc\u65e5"},{value:1,label:"\u706b\u66dc\u65e5"},{value:2,label:"\u6c34\u66dc\u65e5"},{value:3,label:"\u6728\u66dc\u65e5"},{value:4,label:"\u91d1\u66dc\u65e5"},{value:5,label:"\u571f\u66dc\u65e5"},{value:6,label:"\u65e5\u66dc\u65e5"}];(0,o.useEffect)((()=>{var e;v.current++;const t=v.current;if(!i)return void console.log(`[${t}] \u30bf\u30b9\u30af\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093`);const r=null===(e=g.current)||void 0===e?void 0:e.id,n=i.id;if(console.log(`[${t}] \u30bf\u30b9\u30af\u521d\u671f\u5316\u51e6\u7406: ${r} -> ${n}, is_template:${i.is_template}`),!0===(null===i||void 0===i?void 0:i.is_recurring)){if(console.log(`[${t}] \u7e70\u308a\u8fd4\u3057\u30bf\u30b9\u30af\u3092\u691c\u51fa\u3057\u307e\u3057\u305f: \u30d1\u30bf\u30fc\u30f3=${i.recurrence_pattern}`),a("is_recurring","true",{shouldDirty:!0}),i.recurrence_pattern&&(a("recurrence_pattern",i.recurrence_pattern,{shouldDirty:!0}),"weekly"===i.recurrence_pattern?w(i,t):"monthly"===i.recurrence_pattern&&j(i,t)),void 0!==i.consider_holidays)a("consider_holidays",i.consider_holidays,{shouldDirty:!0});else{const e=void 0!==i.business_day&&null!==i.business_day&&i.business_day>0;a("consider_holidays",e,{shouldDirty:!0})}i.recurrence_end_date&&a("recurrence_end_date",i.recurrence_end_date,{shouldDirty:!0})}else console.log(`[${t}] \u975e\u7e70\u308a\u8fd4\u3057\u30bf\u30b9\u30af\u3067\u3059`),a("is_recurring","false",{shouldDirty:!0}),a("consider_holidays",!1,{shouldDirty:!0});g.current=i}),[null===i||void 0===i?void 0:i.id]),(0,o.useEffect)((()=>{if(y.current&&f.length>=0){const e=f.length>0?f.join(","):"";console.log("\u9078\u629e\u3055\u308c\u305f\u66dc\u65e5\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e0\u5024\u3092\u66f4\u65b0:",{selectedWeekdays:f,currentFormValue:c,newFormValue:e}),c!==e&&(a("weekdays",e,{shouldDirty:!0}),r("weekdays",e))}}),[f]);const w=(e,t)=>{const r=!0===e.is_recurring||"true"===e.is_recurring,n="weekly"===e.recurrence_pattern;if(r&&n){console.log(`[${t}] \u9031\u6b21\u7e70\u308a\u8fd4\u3057\u30bf\u30b9\u30af\u3092\u691c\u51fa\u3001\u66dc\u65e5\u306e\u521d\u671f\u5316\u3092\u884c\u3044\u307e\u3059`);let r=[];if(e.weekdays){console.log(`[${t}] \u8907\u6570\u66dc\u65e5\u8a2d\u5b9a\u3092\u691c\u51fa:`,e.weekdays);try{r=e.weekdays.split(",").map((e=>{const t=parseInt(e.trim(),10);return isNaN(t)?null:t})).filter((e=>null!==e&&e>=0&&e<=6)),console.log(`[${t}] \u89e3\u6790\u3055\u308c\u305f\u66dc\u65e5\u914d\u5217:`,r)}catch(i){console.error(`[${t}] \u8907\u6570\u66dc\u65e5\u306e\u89e3\u6790\u30a8\u30e9\u30fc:`,i),r=[]}}else if(void 0!==e.weekday&&null!==e.weekday){const n=parseInt(e.weekday,10);!isNaN(n)&&n>=0&&n<=6&&(console.log(`[${t}] \u5358\u4e00\u66dc\u65e5\u8a2d\u5b9a\u3092\u691c\u51fa:`,n),r=[n])}h(r);const n=r.length>0?r.join(","):"";a("weekdays",n,{shouldDirty:!0})}},j=(e,t)=>{if(e){if(console.log(`[${t}] \u6708\u6b21\u8a2d\u5b9a\u306e\u521d\u671f\u5316\u3092\u5b9f\u884c\u3057\u307e\u3059:`,{monthday:e.monthday,business_day:e.business_day,consider_holidays:e.consider_holidays}),p){var n,i;if(console.log(`[${t}] \u65e2\u5b58\u306e\u6708\u6b21\u30bf\u30a4\u30d7\u3092\u691c\u51fa: ${p}`),"day"===p)return console.log(`[${t}] \u65e5\u4ed8\u30bf\u30a4\u30d7\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u65e5\u4ed8\u8a2d\u5b9a\u3092\u512a\u5148\u3057\u307e\u3059`),a("monthday",(null===(n=e.monthday)||void 0===n?void 0:n.toString())||"1",{shouldDirty:!0}),a("business_day","",{shouldDirty:!0}),r("monthday",parseInt((null===(i=e.monthday)||void 0===i?void 0:i.toString())||"1",10)),r("business_day",null),a("consider_holidays",!1,{shouldDirty:!0}),void r("consider_holidays",!1);if("business"===p){var o,s;console.log(`[${t}] \u55b6\u696d\u65e5\u30bf\u30a4\u30d7\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u55b6\u696d\u65e5\u8a2d\u5b9a\u3092\u512a\u5148\u3057\u307e\u3059`),a("business_day",(null===(o=e.business_day)||void 0===o?void 0:o.toString())||"1",{shouldDirty:!0}),a("monthday","",{shouldDirty:!0}),r("business_day",parseInt((null===(s=e.business_day)||void 0===s?void 0:s.toString())||"1",10)),r("monthday",null);const n=void 0===e.consider_holidays||e.consider_holidays;return a("consider_holidays",n,{shouldDirty:!0}),void r("consider_holidays",n)}}if(void 0!==e.monthday&&null!==e.monthday&&e.monthday>0)console.log(`[${t}] \u6708\u6b21\u65e5\u4ed8\u6307\u5b9a\u3092\u691c\u51fa:`,e.monthday),m("day"),a("monthday",e.monthday.toString(),{shouldDirty:!0}),a("business_day","",{shouldDirty:!0}),a("consider_holidays",!1,{shouldDirty:!0}),r("monthday",parseInt(e.monthday.toString(),10)),r("business_day",null),r("consider_holidays",!1);else if(void 0!==e.business_day&&null!==e.business_day&&e.business_day>0){console.log(`[${t}] \u6708\u6b21\u55b6\u696d\u65e5\u6307\u5b9a\u3092\u691c\u51fa:`,e.business_day),m("business"),a("business_day",e.business_day.toString(),{shouldDirty:!0}),a("monthday","",{shouldDirty:!0});const n=void 0===e.consider_holidays||e.consider_holidays;a("consider_holidays",n,{shouldDirty:!0}),r("business_day",parseInt(e.business_day.toString(),10)),r("monthday",null),r("consider_holidays",n)}else console.log(`[${t}] \u6708\u6b21\u8a2d\u5b9a\u304c\u672a\u8a2d\u5b9a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u4f7f\u7528\u3057\u307e\u3059`),m("day"),a("monthday","1",{shouldDirty:!0}),a("business_day","",{shouldDirty:!0}),a("consider_holidays",!1,{shouldDirty:!0}),r("monthday",1),r("business_day",null),r("consider_holidays",!1)}},_=e=>{if(m(e),"day"===e){a("business_day","",{shouldDirty:!0});const e=n("monthday")||"1";a("monthday",e,{shouldDirty:!0}),r("business_day",null),r("monthday",parseInt(e,10)||1),a("consider_holidays",!1,{shouldDirty:!0}),r("consider_holidays",!1)}else{a("monthday","",{shouldDirty:!0});const e=n("business_day")||"1";a("business_day",e,{shouldDirty:!0}),r("monthday",null),r("business_day",parseInt(e,10)||1),a("consider_holidays",!0,{shouldDirty:!0}),r("consider_holidays",!0)}};return(0,o.useEffect)((()=>{if(i){const e="taskInit-"+v.current++;console.log(`[${e}] \u30bf\u30b9\u30af\u30c7\u30fc\u30bf\u5909\u66f4\u3092\u691c\u51fa\u3001\u6708\u6b21\u8a2d\u5b9a\u3092\u521d\u671f\u5316\u3057\u307e\u3059:`,{task_id:i.id,is_recurring:i.is_recurring,recurrence_pattern:i.recurrence_pattern,monthday:i.monthday,business_day:i.business_day}),j(i,e)}}),[i,a]),(0,o.useEffect)((()=>{if("monthly"===l&&!0===s){const e="patternChange-"+v.current++;console.log(`[${e}] \u6708\u6b21\u30d1\u30bf\u30fc\u30f3\u3078\u306e\u5909\u66f4\u3092\u691c\u51fa\u3001\u521d\u671f\u5316\u3057\u307e\u3059`);j({is_recurring:s,recurrence_pattern:l,monthday:u||null,business_day:d||null},e)}}),[l,s]),(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsx)("div",{className:"flex items-center justify-between",children:(0,Vr.jsxs)("h3",{className:"text-md font-medium text-gray-700 flex items-center",children:[(0,Vr.jsx)(ZE,{className:"mr-2 text-gray-500"}),"\u7e70\u308a\u8fd4\u3057\u8a2d\u5b9a"]})}),(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsx)("div",{children:(0,Vr.jsx)(na,{name:"is_recurring",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{type:"checkbox",id:"is_recurring",checked:"true"===t.value,onChange:e=>{const n=e.target.checked?"true":"false";t.onChange(n),r("is_recurring",n)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Vr.jsx)("label",{htmlFor:"is_recurring",className:"ml-2 block text-sm text-gray-700",children:"\u3053\u306e\u30bf\u30b9\u30af\u3092\u7e70\u308a\u8fd4\u3057\u8a2d\u5b9a\u3059\u308b"})]})}})}),"true"===s&&(0,Vr.jsxs)("div",{className:"pl-6 space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"recurrence_pattern",className:"block text-sm font-medium text-gray-700",children:"\u7e70\u308a\u8fd4\u3057\u30d1\u30bf\u30fc\u30f3"}),(0,Vr.jsx)(na,{name:"recurrence_pattern",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"recurrence_pattern",...t,onChange:e=>{t.onChange(e),r("recurrence_pattern",e.target.value)},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[(0,Vr.jsx)("option",{value:"",children:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),b.map((e=>(0,Vr.jsx)("option",{value:e.value,children:e.label},e.value)))]})}})]}),"weekly"===l&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u66dc\u65e5\u3092\u9078\u629e\uff08\u8907\u6570\u53ef\uff09"}),(0,Vr.jsx)("div",{className:"space-y-2",children:x.map((e=>(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{type:"checkbox",id:`weekday-${e.value}`,checked:f.includes(e.value),onChange:()=>(e=>{let t;console.log("\u66dc\u65e5\u5207\u308a\u66ff\u3048:",e,"\u73fe\u5728\u306e\u9078\u629e:",f),t=f.includes(e)?f.filter((t=>t!==e)):[...f,e].sort(((e,t)=>e-t)),console.log("\u65b0\u3057\u3044\u9078\u629e\u66dc\u65e5:",t),h(t)})(e.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Vr.jsx)("label",{htmlFor:`weekday-${e.value}`,className:"ml-2 block text-sm text-gray-700",children:e.label})]},e.value)))}),(0,Vr.jsx)(na,{name:"weekdays",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsx)("input",{type:"hidden",...t,id:"weekdays-hidden-input"})}}),(0,Vr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:f.length>0?`\u9078\u629e\u3057\u305f\u66dc\u65e5: ${f.map((e=>{var t;return null===(t=x.find((t=>t.value===e)))||void 0===t?void 0:t.label})).join(", ")}`:"\u5c11\u306a\u304f\u3068\u30821\u3064\u306e\u66dc\u65e5\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]}),"monthly"===l&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u7e70\u308a\u8fd4\u3057\u306e\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"flex space-x-4 mb-3",children:[(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{type:"radio",id:"monthly-type-day",name:"monthly-type",checked:"day"===p,onChange:()=>_("day"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),(0,Vr.jsx)("label",{htmlFor:"monthly-type-day",className:"ml-2 block text-sm text-gray-700",children:"\u6bce\u6708X\u65e5"})]}),(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{type:"radio",id:"monthly-type-business",name:"monthly-type",checked:"business"===p,onChange:()=>_("business"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),(0,Vr.jsx)("label",{htmlFor:"monthly-type-business",className:"ml-2 block text-sm text-gray-700",children:"\u6bce\u6708X\u55b6\u696d\u65e5"})]})]}),"day"===p&&(0,Vr.jsxs)("div",{className:"mt-2",children:[(0,Vr.jsx)(na,{name:"monthday",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("span",{className:"mr-2",children:"\u6bce\u6708"}),(0,Vr.jsx)("input",{type:"number",min:"1",max:"31",...t,onChange:e=>{t.onChange(e);const n=parseInt(e.target.value,10);r("monthday",isNaN(n)?null:n)},className:"w-16 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Vr.jsx)("span",{className:"ml-2",children:"\u65e5\u306b\u7e70\u308a\u8fd4\u3059"})]})}}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u203b \u8a2d\u5b9a\u65e5\u304c\u5b58\u5728\u3057\u306a\u3044\u6708\u306e\u5834\u5408\u3001\u305d\u306e\u6708\u306e\u6700\u7d42\u65e5\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\uff08\u4f8b\uff1a31\u65e5\u21922\u670828\u65e5\uff09"})]}),"business"===p&&(0,Vr.jsxs)("div",{className:"mt-2",children:[(0,Vr.jsx)(na,{name:"business_day",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("span",{className:"mr-2",children:"\u6bce\u6708"}),(0,Vr.jsx)("input",{type:"number",min:"1",max:"23",...t,onChange:e=>{t.onChange(e);const n=parseInt(e.target.value,10);r("business_day",isNaN(n)?null:n)},className:"w-16 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Vr.jsx)("span",{className:"ml-2",children:"\u55b6\u696d\u65e5\u306b\u7e70\u308a\u8fd4\u3059"})]})}}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u203b \u55b6\u696d\u65e5\u306f\u571f\u65e5\u3092\u9664\u304f\u5e73\u65e5\u3067\u3059"})]}),"business"===p&&(0,Vr.jsxs)("div",{className:"mt-2",children:[(0,Vr.jsx)(na,{name:"consider_holidays",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{type:"checkbox",id:"consider-holidays",checked:t.value,onChange:e=>{t.onChange(e.target.checked),r("consider_holidays",e.target.checked)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Vr.jsx)("label",{htmlFor:"consider-holidays",className:"ml-2 block text-sm text-gray-700",children:"\u65e5\u672c\u306e\u795d\u65e5\u3082\u55b6\u696d\u65e5\u304b\u3089\u9664\u5916\u3059\u308b"})]})}}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u203b \u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3068\u3001\u571f\u65e5\u306b\u52a0\u3048\u3066\u65e5\u672c\u306e\u795d\u65e5\u3082\u55b6\u696d\u65e5\u3068\u3057\u3066\u30ab\u30a6\u30f3\u30c8\u3057\u307e\u305b\u3093"})]}),(0,Vr.jsx)(na,{name:"monthday",control:t,render:e=>{let{field:t}=e;return"day"!==p?(0,Vr.jsx)("input",{type:"hidden",...t}):null}}),(0,Vr.jsx)(na,{name:"business_day",control:t,render:e=>{let{field:t}=e;return"business"!==p?(0,Vr.jsx)("input",{type:"hidden",...t}):null}})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"recurrence_end_date",className:"block text-sm font-medium text-gray-700",children:"\u7e70\u308a\u8fd4\u3057\u7d42\u4e86\u65e5\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09"}),(0,Vr.jsx)(na,{name:"recurrence_end_date",control:t,render:e=>{let{field:t}=e;return(0,Vr.jsx)("input",{type:"date",id:"recurrence_end_date",...t,onChange:e=>{t.onChange(e),r("recurrence_end_date",e.target.value)},className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})}}),(0,Vr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"\u8a2d\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u7e70\u308a\u8fd4\u3057\u306f\u7121\u671f\u9650\u306b\u7d9a\u304d\u307e\u3059"})]})]})]})]})},DD=e=>{var t;let{task:r,isNewTask:n=!1,onClose:a,onTaskUpdated:i,isOpen:s=!1}=e;const[l,c]=(0,o.useState)(Date.now()),[u,d]=(0,o.useState)(!1),[f,h]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!1),[y,g]=(0,o.useState)(!1),v="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md hover:border-gray-400",b="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md hover:border-gray-400",x=((e,t,r)=>{const[n,a]=(0,o.useState)([]),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)([]),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(null),[y,g]=(0,o.useState)([]),[v,b]=(0,o.useState)(null),[x,w]=(0,o.useState)(null),[j,_]=(0,o.useState)(!1),[k,N]=(0,o.useState)("idle"),[S,O]=(0,o.useState)({}),E=(0,o.useRef)(null),C=async e=>{if(j&&0!==Object.keys(S).length){N("saving");try{const t=await ki.updateTask(e,S);t.data&&(N("saved"),O({}),_(!1),setTimeout((()=>{N("idle")}),3e3),r&&r(t.data))}catch(t){console.error("Error saving pending changes:",t),N("error"),qs.error("\u5909\u66f4\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}}};return(0,o.useEffect)((()=>()=>{E.current&&clearTimeout(E.current)}),[]),{categories:n,statuses:i,priorities:l,clients:u,users:f,businessId:p,fiscalYears:y,selectedClient:v,setSelectedClient:b,workspaceId:x,isDirty:j,saveState:k,pendingChanges:S,fetchBusinessData:async()=>{try{const t=await Oi.getProfile();if(t.data&&t.data.business){m(t.data.business.id);try{const e=await Ha.getWorkspaces(t.data.business.id);e.data&&e.data.length>0&&w(e.data[0].id)}catch(e){console.error("Error fetching workspaces:",e)}}else console.warn("Business ID not found in profile response. Using default value 1."),m(1)}catch(e){console.error("Error fetching profile:",e),m(1)}},fetchCategories:async()=>{try{const e=await ki.getTaskCategories();if(e.data){const t=e.data.filter((e=>e.business===p));a(t)}}catch(e){console.error("Error fetching categories:",e),qs.error("\u30ab\u30c6\u30b4\u30ea\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},fetchStatuses:async()=>{try{const e=await ki.getTaskStatuses();if(e.data){const t=e.data.filter((e=>e.business===p));t.sort(((e,t)=>e.order-t.order)),s(t)}}catch(e){console.error("Error fetching statuses:",e),qs.error("\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},fetchPriorities:async()=>{try{const e=await ki.getTaskPriorities();if(e.data){const t=e.data.filter((e=>e.business===p));t.sort(((e,t)=>e.priority_value-t.priority_value)),c(t)}}catch(e){console.error("Error fetching priorities:",e),qs.error("\u512a\u5148\u5ea6\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},fetchClients:async()=>{try{const e=await Ni.getClients();e.data&&d(e.data)}catch(e){console.error("Error fetching clients:",e),qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},fetchUsers:async()=>{try{const e=await Oi.getUsers();if(e.data){const t=e.data.filter((e=>e.business===p));h(t)}}catch(e){console.error("Error fetching users:",e),qs.error("\u30e6\u30fc\u30b6\u30fc\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},fetchFiscalYears:async e=>{if(e)try{const t=await Ni.getFiscalYears(e);t.data&&(t.data.sort(((e,t)=>t.year-e.year)),g(t.data))}catch(t){console.error("Error fetching fiscal years:",t),qs.error("\u6c7a\u7b97\u671f\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}else g([])},createTask:async e=>{N("saving");try{x&&(e.workspace=x);const t=await ki.createTask(e);if(t.data)return N("saved"),qs.success("\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),r&&r(t.data),t.data}catch(t){return console.error("Error creating task:",t),N("error"),qs.error("\u30bf\u30b9\u30af\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),null}},updateTask:async function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){N("saving");try{const n=await ki.updateTask(e,t);if(n.data)return N("saved"),r&&r(n.data),n.data}catch(n){return console.error("Error updating task:",n),N("error"),qs.error("\u30bf\u30b9\u30af\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),null}}else O((e=>({...e,...t}))),_(!0),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{C(e)}),1500)},savePendingChanges:C}})(0,0,i),w=(e=>{const[t,r]=(0,o.useState)(!1),[n,a]=(0,o.useState)(null),[i,s]=(0,o.useState)(0),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(!1),[y,g]=(0,o.useState)(null),[v,b]=(0,o.useState)({start_time:"",end_time:"",description:"",duration_seconds:0}),x=async()=>{if(e){m(!0);try{const t=await Si.getTimeEntriesByTask(e);t.data&&h(t.data)}catch(t){console.error("Error fetching time entries:",t)}finally{m(!1)}}};return(0,o.useEffect)((()=>()=>{u&&clearInterval(u)}),[u]),{isRecordingTime:t,timeEntry:n,elapsedTime:i,startTime:l,cachedTimeEntries:f,isLoadingTimeEntries:p,editingTimeEntry:y,setEditingTimeEntry:g,timeEntryForm:v,setTimeEntryForm:b,checkActiveTimeEntry:async e=>{if(e)try{const t=await Si.getActiveTimeEntry(e);if(t.data&&t.data.id){a(t.data),r(!0);const e=new Date(t.data.start_time);c(e);const n=new Date-e;s(Math.floor(n/1e3));const i=setInterval((()=>{s((e=>e+1))}),1e3);d(i)}}catch(t){console.error("Error checking active time entry:",t)}},startTimer:async()=>{if(e)try{const t=await Si.startTimeEntry({task:e,description:""});if(t.data&&t.data.id){a(t.data),r(!0),c(new Date(t.data.start_time)),s(0);const e=setInterval((()=>{s((e=>e+1))}),1e3);d(e),qs.success("\u30bf\u30a4\u30de\u30fc\u3092\u958b\u59cb\u3057\u307e\u3057\u305f")}}catch(t){console.error("Error starting timer:",t),qs.error("\u30bf\u30a4\u30de\u30fc\u306e\u958b\u59cb\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},stopTimer:async()=>{if(n&&n.id)try{await Si.stopTimeEntry(n.id),u&&(clearInterval(u),d(null)),r(!1),a(null),s(0),x(),qs.success("\u30bf\u30a4\u30de\u30fc\u3092\u505c\u6b62\u3057\u307e\u3057\u305f")}catch(e){console.error("Error stopping timer:",e),qs.error("\u30bf\u30a4\u30de\u30fc\u306e\u505c\u6b62\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},fetchTimeEntries:x,deleteTimeEntry:async e=>{try{await Si.deleteTimeEntry(e),qs.success("\u6642\u9593\u8a18\u9332\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),h((t=>t.filter((t=>t.id!==e))))}catch(t){console.error("Error deleting time entry:",t),qs.error("\u6642\u9593\u8a18\u9332\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}}}})(null===r||void 0===r?void 0:r.id),{control:j,handleSubmit:_,reset:k,setValue:N,getValues:S,watch:O,formState:E}=qa({defaultValues:{title:"",description:"",status:"",category:"",client:"",fiscal_year:"",worker:"",reviewer:"",due_date:"",start_date:"",completed_at:"",priority:"",priority_value:"",is_fiscal_task:"false",is_recurring:"false",recurrence_pattern:"",recurrence_end_date:"",is_template:"false",template_name:"",weekdays:""}}),C=O("client"),A=O("is_recurring"),T=O("is_template");(0,o.useEffect)((()=>{console.log("isOpen changed:",s,"isNewTask:",n),s&&n&&(console.log("Resetting form for new task"),k({title:"",description:"",status:"",category:"",client:"",fiscal_year:"",worker:"",reviewer:"",due_date:"",start_date:"",completed_at:"",priority:"",priority_value:"",is_fiscal_task:"false",is_recurring:"false",recurrence_pattern:"",recurrence_end_date:"",is_template:"false",template_name:"",weekdays:""}),c(Date.now()),x.setPendingChanges({}),x.setIsDirty(!1),x.setSaveState("idle"))}),[s,n,k,x]),(0,o.useEffect)((()=>{if(r&&!n){const e=(e=>{if(!e)return null;const t={...e};return["is_fiscal_task","is_recurring","is_template"].forEach((e=>{void 0!==t[e]&&(t[e]=t[e]?"true":"false")})),t.priority_data&&t.priority_data.priority_value?t.priority_value=t.priority_data.priority_value.toString():t.priority_value="",Object.keys(t).forEach((e=>{null===t[e]&&(t[e]="")})),t})(r);e.due_date&&(e.due_date=vD(e.due_date)),e.start_date&&(e.start_date=vD(e.start_date)),e.completed_at&&(e.completed_at=vD(e.completed_at)),e.recurrence_end_date&&(e.recurrence_end_date=vD(e.recurrence_end_date)),k(e),w.checkActiveTimeEntry(e.id),w.fetchTimeEntries()}}),[r,n,k,w]),(0,o.useEffect)((()=>{(async()=>{await x.fetchBusinessData(),Promise.all([x.fetchCategories(),x.fetchStatuses(),x.fetchPriorities(),x.fetchClients(),x.fetchUsers()])})()}),[x]),(0,o.useEffect)((()=>{if(C){x.fetchFiscalYears(C);const e=x.clients.find((e=>e.id.toString()===C.toString()));x.setSelectedClient(e)}else x.setSelectedClient(null)}),[C,x]);const P=(e,t)=>{if(N(e,t),!n&&r){const n={[e]:t};["is_fiscal_task","is_recurring","is_template"].includes(e)&&(n[e]="true"===t),""===t&&(n[e]=null),x.updateTask(r.id,n)}};return(0,Vr.jsxs)("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-hidden",children:[(0,Vr.jsx)(jD,{isNewTask:n,onClose:a,saveState:x.saveState,toggleTaskCompletion:async()=>{if(!r||!r.id)return;const e=x.statuses.find((e=>"\u5b8c\u4e86"===e.name));if(!e)return void qs.error("\u5b8c\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093");let t,n;if(r.status===e.id){const e=x.statuses.find((e=>"\u672a\u7740\u624b"===e.name));t=e?e.id:null,n=null}else t=e.id,n=(new Date).toISOString();const a={status:t,completed_at:n};await x.updateTask(r.id,a,!0)},isCompleted:(null===r||void 0===r?void 0:r.status)===(null===(t=x.statuses.find((e=>"\u5b8c\u4e86"===e.name)))||void 0===t?void 0:t.id)}),(0,Vr.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:n?(0,Vr.jsxs)("form",{onSubmit:_((async e=>{const t=(e=>{const t={...e};return["is_fiscal_task","is_recurring","is_template"].forEach((e=>{void 0!==t[e]&&(t[e]="true"===t[e])})),Object.keys(t).forEach((e=>{""===t[e]&&(t[e]=null)})),t})(e);await x.createTask(t)&&a()})),children:[(0,Vr.jsx)(kD,{control:j,inputClassName:v,selectClassName:b,categories:x.categories,statuses:x.statuses,handleFieldChange:P}),(0,Vr.jsx)(ND,{control:j,users:x.users,isExpanded:u,setIsExpanded:d,handleFieldChange:P,selectClassName:b}),(0,Vr.jsx)(SD,{control:j,priorities:x.priorities,isExpanded:f,setIsExpanded:h,handleFieldChange:P,inputClassName:v,selectClassName:b}),(0,Vr.jsx)(CD,{control:j,handleFieldChange:P,inputClassName:v}),(0,Vr.jsx)(TD,{control:j,handleFieldChange:P,clients:x.clients,fiscalYears:x.fiscalYears,watchedIsTemplate:T,selectClassName:b,inputClassName:v}),"true"===A&&(0,Vr.jsx)(PD,{control:j,handleFieldChange:P,inputClassName:v,selectClassName:b}),(0,Vr.jsxs)("div",{className:"mt-8 flex justify-end",children:[(0,Vr.jsx)("button",{type:"button",className:"mr-3 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:a,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"\u4f5c\u6210"})]})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(kD,{control:j,inputClassName:v,selectClassName:b,categories:x.categories,statuses:x.statuses,handleFieldChange:P}),(0,Vr.jsx)(ND,{control:j,users:x.users,isExpanded:u,setIsExpanded:d,handleFieldChange:P,selectClassName:b}),(0,Vr.jsx)(SD,{control:j,priorities:x.priorities,isExpanded:f,setIsExpanded:h,handleFieldChange:P,inputClassName:v,selectClassName:b}),(0,Vr.jsx)(CD,{control:j,handleFieldChange:P,inputClassName:v}),(0,Vr.jsx)(TD,{control:j,handleFieldChange:P,clients:x.clients,fiscalYears:x.fiscalYears,watchedIsTemplate:T,selectClassName:b,inputClassName:v}),"true"===A&&(0,Vr.jsx)(PD,{control:j,handleFieldChange:P,inputClassName:v,selectClassName:b}),(0,Vr.jsx)("div",{className:"mt-5",children:(0,Vr.jsx)(xD,{taskId:null===r||void 0===r?void 0:r.id,isRecordingTime:w.isRecordingTime,elapsedTime:w.elapsedTime,startTime:w.startTime,timeEntries:w.cachedTimeEntries,isLoadingTimeEntries:w.isLoadingTimeEntries,editingTimeEntry:w.editingTimeEntry,setEditingTimeEntry:w.setEditingTimeEntry,timeEntryForm:w.timeEntryForm,setTimeEntryForm:w.setTimeEntryForm,onStart:w.startTimer,onStop:w.stopTimer,onDelete:w.deleteTimeEntry,onRefresh:w.fetchTimeEntries})}),(0,Vr.jsx)("div",{className:"mt-5",children:(0,Vr.jsx)(gD,{taskId:null===r||void 0===r?void 0:r.id})}),(0,Vr.jsx)(AD,{task:r}),(0,Vr.jsx)("div",{className:"mt-8 border-t pt-4",children:(0,Vr.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:()=>m(!0),children:[(0,Vr.jsx)(nC,{className:"-ml-0.5 mr-2 h-4 w-4"}),"\u30bf\u30b9\u30af\u3092\u524a\u9664"]})})]})}),!n&&(0,Vr.jsx)(_D,{saveState:x.saveState}),(0,Vr.jsx)(wD,{isOpen:p,onClose:()=>m(!1),onDelete:async()=>{if(r&&r.id&&!y){g(!0);try{await x.deleteTask(r.id),qs.success("\u30bf\u30b9\u30af\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),a(),i&&i(null,!0)}catch(e){console.error("Error deleting task:",e),qs.error("\u30bf\u30b9\u30af\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{g(!1),m(!1)}}},isDeleting:y,taskTitle:null===r||void 0===r?void 0:r.title})]})},MD=e=>{let{view:t}=e;const{taskId:r}=ie(),[n,a]=(0,o.useState)(null),[i,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),u=ne(),d=(te(),(0,o.useRef)(null));(0,o.useEffect)((()=>{if("new"===r)return console.log("Opening new task form from URL"),a(null),c(!0),void s(!0);if(r&&!t&&"new"!==r){(async()=>{try{const e=await ki.getTask(r);a(e),s(!0)}catch(e){console.error("Error fetching task:",e)}})()}}),[r,t]);return(0,Vr.jsxs)("div",{className:"relative",children:[(0,Vr.jsx)(hC,{ref:d,onTaskSelect:e=>{a(e),s(!0),u(`/tasks/${e.id}`,{replace:!0})},onNewTask:()=>{console.log("Opening new task form"),a(null),c(!0),s(!0),u("/tasks/new",{replace:!0})},forceRefresh:i}),(0,Vr.jsx)(DD,{task:n,isNewTask:l,onClose:()=>{s(!1),a(null),c(!1),u("/tasks",{replace:!0})},onTaskUpdated:e=>{if(console.log("Task updated in parent:",e),!e)return void console.warn("Received empty updatedTask in handleTaskUpdated");if(n){console.log("Previous task state:",n),console.log("Updated task state:",e);["status","priority","category"].forEach((t=>{const r=n[t],a=e[t];console.log(`Field ${t}: ${JSON.stringify(r)} -> ${JSON.stringify(a)}`)}))}const t=JSON.parse(JSON.stringify(e));console.log("Setting selected task with deep copy:",t),a(t),l&&t?(console.log("New task created, directly updating task list with data"),d.current&&"function"===typeof d.current.refreshTasksWithData?d.current.refreshTasksWithData(t,!0):(console.log("Could not update with new task data, using event fallback"),window.dispatchEvent(new CustomEvent("task-updated",{detail:{task:t,isNew:!0}})))):(console.log("Existing task updated, updating specific task in list"),d.current&&"function"===typeof d.current.refreshTasksWithData?(console.log("Updating specific task in list with data"),d.current.refreshTasksWithData(t,!1)):(console.log("Could not update with task data, using event fallback"),window.dispatchEvent(new CustomEvent("task-updated",{detail:{task:t,isNew:!1}}))))},isOpen:i})]})},ID=e=>{var t,r,n,a;let{templateId:i=null,templateData:s=null,onSuccess:l,onCancel:c}=e;ne();const[u,d]=(0,o.useState)(!(!i||s)),[f,h]=(0,o.useState)(!1),[p,m]=(0,o.useState)(null),[y,g]=(0,o.useState)([]),[v,b]=(0,o.useState)([]),[x,w]=(0,o.useState)([]),[j,_]=(0,o.useState)([]),[k,N]=(0,o.useState)([]),S=s?{...s,category:(null===(t=s.category)||void 0===t?void 0:t.id)||null,priority:(null===(r=s.priority)||void 0===r?void 0:r.id)||null,status:(null===(n=s.status)||void 0===n?void 0:n.id)||null,workspace:(null===(a=s.workspace)||void 0===a?void 0:a.id)||null,is_template:!0,schedule_type:s.schedule_type||"monthly_start",recurrence:s.recurrence||"monthly",creation_day:s.creation_day||"",deadline_day:s.deadline_day||"",deadline_next_month:s.deadline_next_month||!1,fiscal_date_reference:s.fiscal_date_reference||"end_date",creation_date_offset:s.creation_date_offset||0,deadline_date_offset:s.deadline_date_offset||5,reference_date_type:s.reference_date_type||"execution_date"}:{title:"",description:"",category:null,priority:null,status:null,workspace:null,estimated_hours:"",template_name:"",is_template:!0,schedule:null,schedule_type:"monthly_start",recurrence:"monthly",creation_day:"",deadline_day:"",deadline_next_month:!1,fiscal_date_reference:"end_date",creation_date_offset:0,deadline_date_offset:5,reference_date_type:"execution_date"},[O,E]=(0,o.useState)(S);(0,o.useEffect)((()=>{console.log("TaskTemplateForm initialized with:",{templateId:i,templateData:s}),i&&!s?C():s&&(console.log("Using provided template data"),d(!1)),A()}),[i,s]);const C=async()=>{try{var e,t,r,n,a,o,s,l;console.log("Fetching template data for ID:",i);const c=await ki.getTask(i);console.log("Template data received:",c);let d={};if(c.schedule)try{console.log("Fetching schedule data for schedule ID:",c.schedule);const e=await ki.getTemplateSchedules();console.log("Schedule response:",e);const t=e.find((e=>e.id===c.schedule));t?(console.log("Found matching schedule:",t),d={schedule:t.id,schedule_type:t.schedule_type||"monthly_start",recurrence:t.recurrence||"monthly",creation_day:t.creation_day||"",deadline_day:t.deadline_day||"",deadline_next_month:t.deadline_next_month||!1,fiscal_date_reference:t.fiscal_date_reference||"end_date",creation_date_offset:t.creation_date_offset||0,deadline_date_offset:t.deadline_date_offset||5,reference_date_type:t.reference_date_type||"execution_date"}):console.warn("No matching schedule found for ID:",c.schedule)}catch(u){console.error("Error fetching schedule data:",u)}console.log("Setting form data with:",{...c,category:(null===(e=c.category)||void 0===e?void 0:e.id)||null,priority:(null===(t=c.priority)||void 0===t?void 0:t.id)||null,status:(null===(r=c.status)||void 0===r?void 0:r.id)||null,workspace:(null===(n=c.workspace)||void 0===n?void 0:n.id)||null,...d}),E({...c,category:(null===(a=c.category)||void 0===a?void 0:a.id)||null,priority:(null===(o=c.priority)||void 0===o?void 0:o.id)||null,status:(null===(s=c.status)||void 0===s?void 0:s.id)||null,workspace:(null===(l=c.workspace)||void 0===l?void 0:l.id)||null,...d}),m(null)}catch(p){var c;console.error("Error fetching template:",p),console.error("Error details:",(null===(c=p.response)||void 0===c?void 0:c.data)||p.message),m("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{d(!1)}},A=async()=>{try{console.log("Fetching reference data...");const[e,t,r,n]=await Promise.all([ki.getCategories(),ki.getPriorities(),ki.getStatuses(),ki.getTemplateSchedules()]);console.log("Reference data received:",{categories:e,priorities:t,statuses:r,schedules:n});const a=e=>e?Array.isArray(e)?e:e.results&&Array.isArray(e.results)?e.results:[]:[],i=a(e),o=a(t),s=a(r),l=a(n);console.log("Processed reference data:",{categories:i,priorities:o,statuses:s,schedules:l}),g(i),b(o),w(s),N(l),_([{id:1,name:"Default Workspace"},{id:2,name:"Development"},{id:3,name:"Marketing"}])}catch(p){console.error("Error fetching reference data:",p),qs.error("\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},T=e=>{const{name:t,value:r,type:n}=e.target;E("number"===n?e=>({...e,[t]:""===r?"":parseFloat(r)}):e=>({...e,[t]:r}))};return u?(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):p?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-6 rounded-lg",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium",children:p}),(0,Vr.jsx)("p",{className:"mt-2",children:(0,Vr.jsx)("button",{onClick:c,className:"text-red-700 underline",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})})]}):(0,Vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O.title)if(O.template_name){h(!0);try{let e=O.schedule;const t={name:`${O.template_name}\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb`,schedule_type:O.schedule_type,recurrence:O.recurrence,creation_day:O.creation_day,deadline_day:O.deadline_day,deadline_next_month:O.deadline_next_month,fiscal_date_reference:O.fiscal_date_reference,creation_date_offset:O.creation_date_offset,deadline_date_offset:O.deadline_date_offset,reference_date_type:O.reference_date_type};if(e)await ki.updateTemplateSchedule(e,t);else{e=(await ki.createDefaultTemplateSchedule(t)).id}const r={...O,is_template:!0,schedule:e};i?(await ki.updateTask(i,r),qs.success("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")):(await ki.createTask(r),qs.success("\u65b0\u898f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f")),l&&l()}catch(p){var t;console.error("Error saving template:",p);let r="\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";if(null!==(t=p.response)&&void 0!==t&&t.data){r+=`: ${Object.entries(p.response.data).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("; ")}`}else r+=`: ${p.message}`;qs.error(r)}finally{h(!1)}}else qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u306f\u5fc5\u9808\u3067\u3059");else qs.error("\u30bf\u30a4\u30c8\u30eb\u306f\u5fc5\u9808\u3067\u3059")},className:"space-y-6 p-6 bg-white rounded-lg shadow",children:[(0,Vr.jsx)("div",{children:(0,Vr.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:i?"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7de8\u96c6":"\u65b0\u898f\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210"})}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"template_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(ME,{})}),(0,Vr.jsx)("input",{type:"text",id:"template_name",name:"template_name",value:O.template_name,onChange:T,className:"input input-bordered rounded-l-none w-full",required:!0,placeholder:"\u6bce\u6708\u306e\u7de0\u3081\u4f5c\u696d\u3001\u6c7a\u7b97\u66f8\u30ec\u30d3\u30e5\u30fc\u306a\u3069"})]}),(0,Vr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30bf\u30b9\u30af\u30bf\u30a4\u30c8\u30eb ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(ME,{})}),(0,Vr.jsx)("input",{type:"text",id:"title",name:"title",value:O.title,onChange:T,className:"input input-bordered rounded-l-none w-full",required:!0,placeholder:"\u30bf\u30b9\u30af\u306e\u30bf\u30a4\u30c8\u30eb"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u8aac\u660e"}),(0,Vr.jsx)("textarea",{id:"description",name:"description",value:O.description,onChange:T,rows:"4",className:"textarea textarea-bordered w-full",placeholder:"\u30bf\u30b9\u30af\u306e\u8a73\u7d30\u306a\u8aac\u660e"})]})]}),(0,Vr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Vr.jsx)("button",{type:"button",onClick:c,className:"btn btn-ghost",disabled:f,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):i?"\u66f4\u65b0\u3059\u308b":"\u4f5c\u6210\u3059\u308b"})]})]})},LD=[{title:"\u6708\u6b21\u51e6\u7406\u30c1\u30a7\u30c3\u30af",description:"\u6bce\u6708\u306e\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u306a\u5bfe\u5fdc\u3092\u884c\u3044\u307e\u3059\u3002",category_name:"\u4e00\u822c",estimated_hours:2,template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u6708\u6b21\u30c1\u30a7\u30c3\u30af",recurrence_pattern:"monthly"},{title:"\u8a18\u5e33\u4ee3\u884c\u696d\u52d9",description:"\u8acb\u6c42\u66f8\u30fb\u9818\u53ce\u66f8\u306a\u3069\u306b\u57fa\u3065\u304d\u4f1a\u8a08\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",category_name:"\u8a18\u5e33\u4ee3\u884c",estimated_hours:3,template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u8a18\u5e33\u4ee3\u884c",recurrence_pattern:"monthly"},{title:"\u6c7a\u7b97\u30fb\u6cd5\u4eba\u7a0e\u7533\u544a\u696d\u52d9",description:"\u6c7a\u7b97\u671f\u306e\u6cd5\u4eba\u7a0e\u7533\u544a\u66f8\u3092\u4f5c\u6210\u30fb\u63d0\u51fa\u3057\u307e\u3059\u3002",category_name:"\u6c7a\u7b97\u30fb\u7533\u544a",estimated_hours:8,template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u6c7a\u7b97\u30fb\u7533\u544a",recurrence_pattern:"yearly"},{title:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u7d0d\u4ed8\u696d\u52d9",description:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u306e\u8a08\u7b97\u30fb\u7d0d\u4ed8\u624b\u7d9a\u304d\u3092\u884c\u3044\u307e\u3059\u3002",category_name:"\u7a0e\u52d9\u9867\u554f",estimated_hours:1,template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u6e90\u6cc9\u6240\u5f97\u7a0e",recurrence_pattern:"monthly"},{title:"\u4f4f\u6c11\u7a0e\u7d0d\u4ed8\u696d\u52d9",description:"\u4f4f\u6c11\u7a0e\u306e\u7d0d\u4ed8\u624b\u7d9a\u304d\u30fb\u7279\u5225\u5fb4\u53ce\u3092\u884c\u3044\u307e\u3059\u3002",category_name:"\u7a0e\u52d9\u9867\u554f",estimated_hours:1,template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u4f4f\u6c11\u7a0e",recurrence_pattern:"yearly"},{title:"\u793e\u4f1a\u4fdd\u967a\u5bfe\u5fdc\u696d\u52d9",description:"\u793e\u4f1a\u4fdd\u967a\u306e\u624b\u7d9a\u304d\u30fb\u8a08\u7b97\u3092\u884c\u3044\u307e\u3059\u3002",category_name:"\u7d66\u4e0e\u8a08\u7b97",estimated_hours:2,template_name:"\u30c7\u30d5\u30a9\u30eb\u30c8\u793e\u4f1a\u4fdd\u967a",recurrence_pattern:"monthly"}],RD=()=>{const e=ne(),[t,r]=(0,o.useState)([]),[n,a]=(0,o.useState)(!0),[i,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(null);(0,o.useEffect)((()=>{f()}),[]);const f=async()=>{a(!0);try{console.log("Getting templates...");const e=await ki.getTemplates();console.log("Templates fetched for display:",e),e&&e.length>0?(console.log(`Setting ${e.length} templates`),r(e)):(console.warn("No templates returned from API"),r([])),s(null)}catch(i){var e;console.error("Error fetching templates:",i),console.error("Error details:",(null===(e=i.response)||void 0===e?void 0:e.data)||i.message),s("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),r([])}finally{a(!1)}},h=()=>{d(null),c(!0)},p=()=>{c(!1),d(null),f()},m=()=>{c(!1),d(null)},y=async()=>{try{console.log("Starting to create default templates..."),a(!0),qs.loading("\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u4e2d...",{id:"default-templates"}),console.log("Fetching categories, priorities, and statuses...");const n=await ki.getCategories(),i=await ki.getPriorities(),o=await ki.getStatuses();console.log("Raw response data:",{categories:n,priorities:i,statuses:o});const s=Array.isArray(n)?n:null!==n&&void 0!==n&&n.results&&Array.isArray(n.results)?n.results:[],l=Array.isArray(i)?i:null!==i&&void 0!==i&&i.results&&Array.isArray(i.results)?i.results:[],c=Array.isArray(o)?o:null!==o&&void 0!==o&&o.results&&Array.isArray(o.results)?o.results:[];console.log("Processed data:",{categories:s,priorities:l,statuses:c}),0===s.length&&(console.log("No categories found, adding defaults"),s.push({id:1,name:"\u4e00\u822c",color:"#3B82F6"}),s.push({id:2,name:"\u8a18\u5e33\u4ee3\u884c",color:"#F59E0B"}),s.push({id:3,name:"\u6c7a\u7b97\u30fb\u7533\u544a",color:"#8B5CF6"})),0===l.length&&(console.log("No priorities found, adding defaults"),l.push({id:1,name:"\u4e2d",priority_value:50,color:"#F59E0B"})),0===c.length&&(console.log("No statuses found, adding defaults"),c.push({id:1,name:"\u672a\u7740\u624b",color:"#9CA3AF"}));let u=0;for(const a of LD)try{console.log(`Processing template: ${a.template_name}`);const e=s.find((e=>e.name===a.category_name));console.log("Found category:",e);const r=l.find((e=>"\u4e2d"===e.name||50===e.priority_value));console.log("Found priority:",r);const n=c.find((e=>"\u672a\u7740\u624b"===e.name));console.log("Found status:",n);const i={title:a.title,description:a.description,category:null===e||void 0===e?void 0:e.id,priority:null===r||void 0===r?void 0:r.id,status:null===n||void 0===n?void 0:n.id,is_template:!0,template_name:a.template_name,recurrence_pattern:a.recurrence_pattern,estimated_hours:a.estimated_hours};console.log("Template data prepared:",i);const o=(t||[]).some((e=>e.template_name===a.template_name||e.title===a.title));if(console.log(`Template exists check: ${o}`),o)console.log("Skipping template creation as it already exists");else{console.log("Creating template via API...");const e=await ki.createTask(i);console.log("Template created successfully:",e),u++}}catch(r){var e;console.error(`Error creating template ${a.title}:`,r),console.error("Error details:",(null===(e=r.response)||void 0===e?void 0:e.data)||r.message);continue}u>0?qs.success(`${u}\u500b\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f`,{id:"default-templates"}):qs.success("\u3059\u3079\u3066\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u65e2\u306b\u5b58\u5728\u3057\u3066\u3044\u307e\u3059",{id:"default-templates"}),f()}catch(i){console.error("Error creating default templates:",i),qs.error("\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f",{id:"default-templates"})}finally{a(!1)}};return n?(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-6 rounded-lg",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium",children:i}),(0,Vr.jsx)("p",{className:"mt-2",children:(0,Vr.jsx)("button",{onClick:()=>e("/tasks"),className:"text-red-700 underline",children:"\u30bf\u30b9\u30af\u4e00\u89a7\u306b\u623b\u308b"})})]}):l?(0,Vr.jsx)(ID,{templateId:null===u||void 0===u?void 0:u.id,templateData:u,onSuccess:p,onCancel:m}):(0,Vr.jsxs)("div",{className:"container mx-auto p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold",children:"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"}),(0,Vr.jsxs)("div",{className:"flex space-x-3",children:[(0,Vr.jsxs)("button",{className:"btn btn-outline btn-success",onClick:y,children:[(0,Vr.jsx)(UE,{className:"mr-2"})," \u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210"]}),(0,Vr.jsxs)("button",{className:"btn btn-primary",onClick:h,children:[(0,Vr.jsx)(JE,{className:"mr-2"})," \u65b0\u898f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"]})]})]}),0===t.length?(0,Vr.jsxs)("div",{className:"bg-gray-50 p-8 text-center rounded-lg border border-gray-200",children:[(0,Vr.jsx)(ME,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Vr.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("p",{className:"mt-1 text-gray-500",children:"\u65b0\u3057\u3044\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u3066\u7e70\u308a\u8fd4\u3057\u30bf\u30b9\u30af\u3092\u52b9\u7387\u5316\u3057\u307e\u3057\u3087\u3046\u3002"}),(0,Vr.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,Vr.jsxs)("button",{onClick:y,className:"btn btn-success",children:[(0,Vr.jsx)(UE,{className:"mr-2"})," \u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210"]}),(0,Vr.jsxs)("button",{onClick:h,className:"btn btn-primary",children:[(0,Vr.jsx)(JE,{className:"mr-2"})," \u65b0\u898f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210"]})]})]}):(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"table w-full table-zebra",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d"}),(0,Vr.jsx)("th",{children:"\u8aac\u660e"}),(0,Vr.jsx)("th",{children:"\u30ab\u30c6\u30b4\u30ea"}),(0,Vr.jsx)("th",{children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"}),(0,Vr.jsx)("th",{children:"\u898b\u7a4d\u6642\u9593"}),(0,Vr.jsx)("th",{children:"\u5185\u5305\u30bf\u30b9\u30af"}),(0,Vr.jsx)("th",{className:"text-right",children:"\u64cd\u4f5c"})]})}),(0,Vr.jsx)("tbody",{children:t.map((r=>(0,Vr.jsxs)("tr",{className:"hover",children:[(0,Vr.jsx)("td",{className:"font-medium",children:r.template_name||r.title}),(0,Vr.jsx)("td",{className:"max-w-xs truncate",title:r.description,children:r.description||"\u8aac\u660e\u306a\u3057"}),(0,Vr.jsx)("td",{children:r.category?(0,Vr.jsx)("span",{className:"badge badge-info badge-sm",children:r.category.name}):(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{children:r.schedule?(0,Vr.jsx)("span",{className:"badge badge-ghost badge-sm",children:"monthly_start"===r.schedule_type?"\u6708\u521d\u4f5c\u6210":"monthly_end"===r.schedule_type?"\u6708\u672b\u4f5c\u6210":"fiscal_relative"===r.schedule_type?"\u6c7a\u7b97\u65e5\u57fa\u6e96":"custom"===r.schedule_type?"\u30ab\u30b9\u30bf\u30e0":"\u672a\u8a2d\u5b9a"}):(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{children:r.estimated_hours?(0,Vr.jsxs)("span",{children:[r.estimated_hours,"\u6642\u9593"]}):(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{children:(0,Vr.jsx)("div",{className:"flex items-center",children:(0,Vr.jsxs)("span",{className:"badge badge-secondary badge-sm",children:[r.child_tasks_count||0,"\u500b"]})})}),(0,Vr.jsx)("td",{className:"text-right",children:(0,Vr.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,Vr.jsx)("button",{className:"btn btn-xs btn-info",onClick:()=>(async r=>{try{var n;const a=await ki.createFromTemplate(r,{title:(null===(n=t.find((e=>e.id===r)))||void 0===n?void 0:n.title)||"New Task"});qs.success("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),e(`/tasks/${a.id}`)}catch(i){console.error("Error applying template:",i),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9069\u7528\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(r.id),title:"\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30bf\u30b9\u30af\u3092\u4f5c\u6210",children:(0,Vr.jsx)(IE,{size:16})}),(0,Vr.jsx)("button",{className:"btn btn-xs btn-secondary",onClick:()=>e(`/tasks/templates/${r.id}/tasks`),title:"\u5185\u5305\u30bf\u30b9\u30af\u4e00\u89a7",children:(0,Vr.jsx)(rC,{size:16})}),(0,Vr.jsx)("button",{className:"btn btn-xs btn-primary",onClick:()=>(e=>{console.log("Edit template clicked:",e),d(e),c(!0)})(r),title:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u7de8\u96c6",children:(0,Vr.jsx)(GE,{size:16})}),(0,Vr.jsx)("button",{className:"btn btn-xs btn-error",onClick:()=>(async e=>{if(window.confirm("\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{await ki.deleteTask(e),qs.success("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),f()}catch(i){console.error("Error deleting template:",i),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(r.id),title:"\u524a\u9664",children:(0,Vr.jsx)(nC,{size:16})})]})})]},r.id)))})]})})]})},FD=()=>(0,Vr.jsx)("div",{className:"container mx-auto",children:(0,Vr.jsx)(RD,{})}),BD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,r]=(0,o.useState)([]),[n,a]=(0,o.useState)([]),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)([]),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(!1),[y,g]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{(async()=>{try{m(!0);const[t,n,i,o,l]=await Promise.all([ki.getCategories(),ki.getStatuses(),ki.getPriorities(),Oi.getAvailableWorkers(),Oi.getAvailableReviewers()]);let u=[];!1!==e.fetchClients&&(u=await Ni.getClients({contract_status:"active"})),Array.isArray(t)?r(t):t&&Array.isArray(t.results)?r(t.results):r([]),Array.isArray(n)?a(n):n&&Array.isArray(n.results)?a(n.results):a([]),Array.isArray(i)?s(i):i&&Array.isArray(i.results)?s(i.results):s([]),!1!==e.fetchClients&&(Array.isArray(u)?c(u):u&&Array.isArray(u.results)?c(u.results):c([])),Array.isArray(o)?d(o):o&&Array.isArray(o.results)?d(o.results):d([]),Array.isArray(l)?h(l):l&&Array.isArray(l.results)?h(l.results):h([])}catch(t){console.error("Error fetching task metadata:",t),qs.error("\u30bf\u30b9\u30af\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),r([]),a([]),s([]),c([]),d([]),h([])}finally{m(!1),g(!1)}})()}),[e.fetchClients]),{categories:t,statuses:n,priorities:i,clients:l,workers:u,reviewers:f,isLoadingUsers:p,isLoading:y}},qD=e=>{let{parentTemplateId:t,templateTaskId:r=null,onSuccess:n,onCancel:a}=e;const{categories:i,statuses:s,priorities:l,workers:c,reviewers:u,isLoadingUsers:d}=BD({fetchClients:!1}),[f,h]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!1),[y,g]=(0,o.useState)(null),v="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md hover:border-gray-400",b="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md hover:border-gray-400",{control:x,handleSubmit:w,formState:j,setValue:_,reset:k,watch:N,getValues:S}=qa({defaultValues:{title:"",description:"",status:"",priority_value:"50",category:"",estimated_hours:"",has_custom_schedule:"false",order:"1",worker:"",reviewer:"",schedule_type:"custom",recurrence:"monthly",creation_date_offset:"0",deadline_date_offset:"5",reference_date_type:"execution_date"}}),O=(e,t)=>{_(e,t,{shouldDirty:!0,shouldValidate:!0})},E=N("has_custom_schedule");(0,o.useEffect)((()=>{m("true"===E)}),[E]),(0,o.useEffect)((()=>{(async()=>{if(t)try{const e=await ki.getTemplate(t);g(e)}catch(e){console.error("Error fetching parent template:",e),qs.error("\u89aa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})()}),[t]),(0,o.useEffect)((()=>{if(r){(async()=>{try{var e,t,n,a,i,o,s,l,c,u;const d=await ki.getTemplateTask(r),f=e=>e?"object"===typeof e&&e.id?e.id.toString():e.toString():"";let h="50";d.priority&&"object"===typeof d.priority&&d.priority.priority_value&&(h=d.priority.priority_value.toString()),k({title:d.title||"",description:d.description||"",category:f((null===(e=d.category)||void 0===e?void 0:e.id)||d.category),status:f((null===(t=d.status)||void 0===t?void 0:t.id)||d.status),priority_value:h,estimated_hours:d.estimated_hours||"",has_custom_schedule:d.has_custom_schedule?"true":"false",order:(null===(n=d.order)||void 0===n?void 0:n.toString())||"1",worker:f((null===(a=d.worker)||void 0===a?void 0:a.id)||d.worker),reviewer:f((null===(i=d.reviewer)||void 0===i?void 0:i.id)||d.reviewer),schedule_type:(null===(o=d.schedule)||void 0===o?void 0:o.schedule_type)||"custom",recurrence:(null===(s=d.schedule)||void 0===s?void 0:s.recurrence)||"monthly",creation_date_offset:((null===(l=d.schedule)||void 0===l?void 0:l.creation_date_offset)||0).toString(),deadline_date_offset:((null===(c=d.schedule)||void 0===c?void 0:c.deadline_date_offset)||5).toString(),reference_date_type:(null===(u=d.schedule)||void 0===u?void 0:u.reference_date_type)||"execution_date"}),m(d.has_custom_schedule)}catch(d){console.error("Error fetching template task:",d),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})()}}),[r,k]);return(0,Vr.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[(0,Vr.jsx)("h2",{className:"text-xl font-bold mb-6",children:r?"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u3092\u7de8\u96c6":"\u65b0\u898f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u4f5c\u6210"}),y&&(0,Vr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[(0,Vr.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"\u89aa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u60c5\u5831"}),(0,Vr.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Vr.jsxs)("p",{children:[(0,Vr.jsx)("span",{className:"font-medium",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d:"})," ",y.template_name||y.title]}),y.description&&(0,Vr.jsxs)("p",{children:[(0,Vr.jsx)("span",{className:"font-medium",children:"\u8aac\u660e:"})," ",y.description]})]})]}),(0,Vr.jsx)("form",{onSubmit:w((async e=>{h(!0);try{let a=null;if(e.priority_value){const t=parseInt(e.priority_value,10);if(!isNaN(t)&&t>=1&&t<=100)try{a=(await ki.createPriorityForValue(t)).id,console.log(`\u512a\u5148\u5ea6 ${t} \u306e\u30ec\u30b3\u30fc\u30c9\u3092\u53d6\u5f97: ID=${a}`)}catch(i){console.error("\u512a\u5148\u5ea6\u30ec\u30b3\u30fc\u30c9\u306e\u4f5c\u6210\u306b\u5931\u6557:",i)}}const o={...e,status:e.status?parseInt(e.status):null,priority:a,category:e.category?parseInt(e.category):null,worker:e.worker?parseInt(e.worker):null,reviewer:e.reviewer?parseInt(e.reviewer):null,order:e.order?parseInt(e.order):1,has_custom_schedule:"true"===e.has_custom_schedule,parent_template:t,is_template_task:!0};console.log("Template task submission data:",o);let s,l=null;if(o.has_custom_schedule&&(l={name:`${o.title}\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb`,schedule_type:e.schedule_type||"custom",recurrence:e.recurrence||"monthly",creation_date_offset:parseInt(e.creation_date_offset)||0,deadline_date_offset:parseInt(e.deadline_date_offset)||5,reference_date_type:e.reference_date_type||"execution_date"},l)){const e=await ki.createTaskSchedule(l);o.schedule=e.id}r?(s=await ki.updateTemplateTask(r,o),qs.success("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f")):(s=await ki.createTemplateTask(o),qs.success("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f")),console.log("\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9:",s),n&&n(s)}catch(i){var a;console.error("Error saving template task:",i);let e="\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306e\u4fdd\u5b58\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f";if(null!==(a=i.response)&&void 0!==a&&a.data)if("object"===typeof i.response.data){const t=Object.entries(i.response.data).map((e=>{let[t,r]=e;return Array.isArray(r)?`${t}: ${r.join(", ")}`:`${t}: ${r}`})).join("; ");t&&(e=`\u4fdd\u5b58\u30a8\u30e9\u30fc: ${t}`)}else i.response.data.detail&&(e=i.response.data.detail);qs.error(e)}finally{h(!1)}})),children:(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"status",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"status",control:x,rules:{required:"\u30b9\u30c6\u30fc\u30bf\u30b9\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("select",{id:"status",className:`${b} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,...t,onChange:e=>{t.onChange(e),O("status",e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u9078\u629e"}),s.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"priority_value",children:["\u512a\u5148\u5ea6",(0,Vr.jsxs)("div",{className:"relative ml-2 group inline-block",children:[(0,Vr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Vr.jsxs)("div",{className:"absolute left-0 bottom-6 w-52 p-2 bg-gray-800 text-white text-xs rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[(0,Vr.jsx)("p",{children:"\u512a\u5148\u5ea6\u306f1\u301c100\u306e\u6570\u5024\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002"}),(0,Vr.jsx)("p",{className:"mt-1",children:"\u6570\u5024\u304c\u5c0f\u3055\u3044\u307b\u3069\u512a\u5148\u5ea6\u304c\u9ad8\u304f\u306a\u308a\u307e\u3059\u3002"}),(0,Vr.jsx)("div",{className:"absolute bottom-0 left-3 transform translate-y-full w-2 h-2 bg-gray-800 rotate-45"})]})]})]}),(0,Vr.jsx)("div",{className:"mt-1",children:(0,Vr.jsx)(na,{name:"priority_value",control:x,rules:{min:{value:1,message:"1\u4ee5\u4e0a\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"},max:{value:100,message:"100\u4ee5\u4e0b\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"number",id:"priority_value",min:"1",max:"100",placeholder:"1-100\u306e\u6570\u5024\u3092\u5165\u529b",className:`${v} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,...t,onChange:e=>{t.onChange(e),O("priority_value",e.target.value)}}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"title",children:"\u30bf\u30a4\u30c8\u30eb"}),(0,Vr.jsx)(na,{name:"title",control:x,rules:{required:"\u30bf\u30a4\u30c8\u30eb\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"text",id:"title",className:`${v} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,placeholder:"\u30bf\u30b9\u30af\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b",...t,onChange:e=>{t.onChange(e),O("title",e.target.value)}}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]}),(0,Vr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"category",children:"\u30ab\u30c6\u30b4\u30ea\u30fc"}),(0,Vr.jsx)(na,{name:"category",control:x,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"category",className:b,...t,onChange:e=>{t.onChange(e),O("category",e.target.value)},children:[(0,Vr.jsx)("option",{value:"",children:"\u30ab\u30c6\u30b4\u30ea\u30fc\u3092\u9078\u629e"}),i.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})}})]})}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"worker",children:"\u62c5\u5f53\u8005"}),(0,Vr.jsx)(na,{name:"worker",control:x,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"worker",className:b,...t,onChange:e=>{t.onChange(e),O("worker",e.target.value)},disabled:d,children:[(0,Vr.jsx)("option",{value:"",children:"\u62c5\u5f53\u8005\u3092\u9078\u629e"}),c.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.first_name||""," ",e.last_name||""," ",e.first_name||e.last_name?"":e.username||e.email||`User ${e.id}`]},e.id)))]})}})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"reviewer",children:"\u30ec\u30d3\u30e5\u30a2\u30fc"}),(0,Vr.jsx)(na,{name:"reviewer",control:x,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"reviewer",className:b,...t,onChange:e=>{t.onChange(e),O("reviewer",e.target.value)},disabled:d,children:[(0,Vr.jsx)("option",{value:"",children:"\u30ec\u30d3\u30e5\u30a2\u30fc\u3092\u9078\u629e"}),u.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.first_name||""," ",e.last_name||""," ",e.first_name||e.last_name?"":e.username||e.email||`User ${e.id}`]},e.id)))]})}})]})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"order",children:"\u5b9f\u884c\u9806\u5e8f"}),(0,Vr.jsx)(na,{name:"order",control:x,render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"number",id:"order",className:`${v} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,placeholder:"1",min:"1",...t,onChange:e=>{t.onChange(e),O("order",e.target.value)}}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u8907\u6570\u30bf\u30b9\u30af\u304c\u3042\u308b\u5834\u5408\u306e\u5b9f\u884c\u9806\u5e8f"}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"has_custom_schedule",children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a"}),(0,Vr.jsx)(na,{name:"has_custom_schedule",control:x,render:e=>{let{field:t}=e;return(0,Vr.jsxs)("select",{id:"has_custom_schedule",className:b,...t,onChange:e=>{t.onChange(e),O("has_custom_schedule",e.target.value)},children:[(0,Vr.jsx)("option",{value:"false",children:"\u89aa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8a2d\u5b9a\u3092\u4f7f\u7528"}),(0,Vr.jsx)("option",{value:"true",children:"\u30ab\u30b9\u30bf\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u8a2d\u5b9a"})]})}})]})]}),p&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[(0,Vr.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"\u30ab\u30b9\u30bf\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a73\u7d30"}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"reference_date_type",children:"\u57fa\u6e96\u65e5\u30bf\u30a4\u30d7"}),(0,Vr.jsx)(na,{name:"reference_date_type",control:x,rules:{required:!!p&&"\u57fa\u6e96\u65e5\u30bf\u30a4\u30d7\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("select",{id:"reference_date_type",className:`${b} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,...t,onChange:e=>{t.onChange(e),O("reference_date_type",e.target.value)},children:[(0,Vr.jsx)("option",{value:"parent_creation",children:"\u89aa\u30bf\u30b9\u30af\u4f5c\u6210\u65e5"}),(0,Vr.jsx)("option",{value:"execution_date",children:"\u5b9f\u884c\u65e5\uff08\u30d0\u30c3\u30c1\u51e6\u7406\u5b9f\u884c\u65e5\uff09"}),(0,Vr.jsx)("option",{value:"fiscal_start",children:"\u6c7a\u7b97\u671f\u958b\u59cb\u65e5"}),(0,Vr.jsx)("option",{value:"fiscal_end",children:"\u6c7a\u7b97\u671f\u7d42\u4e86\u65e5"}),(0,Vr.jsx)("option",{value:"month_start",children:"\u5f53\u6708\u521d\u65e5"}),(0,Vr.jsx)("option",{value:"month_end",children:"\u5f53\u6708\u672b\u65e5"})]}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"recurrence",children:"\u7e70\u308a\u8fd4\u3057"}),(0,Vr.jsx)(na,{name:"recurrence",control:x,rules:{required:!!p&&"\u7e70\u308a\u8fd4\u3057\u30bf\u30a4\u30d7\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("select",{id:"recurrence",className:`${b} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,...t,onChange:e=>{t.onChange(e),O("recurrence",e.target.value)},children:[(0,Vr.jsx)("option",{value:"with_parent",children:"\u89aa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u540c\u6642"}),(0,Vr.jsx)("option",{value:"monthly",children:"\u6bce\u6708"}),(0,Vr.jsx)("option",{value:"quarterly",children:"\u56db\u534a\u671f\u3054\u3068"}),(0,Vr.jsx)("option",{value:"yearly",children:"\u6bce\u5e74"}),(0,Vr.jsx)("option",{value:"once",children:"\u4e00\u5ea6\u306e\u307f"})]}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"creation_date_offset",children:"\u4f5c\u6210\u65e5\u30aa\u30d5\u30bb\u30c3\u30c8\uff08\u65e5\u6570\uff09"}),(0,Vr.jsx)(na,{name:"creation_date_offset",control:x,rules:{required:!!p&&"\u4f5c\u6210\u65e5\u30aa\u30d5\u30bb\u30c3\u30c8\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"number",id:"creation_date_offset",className:`${v} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,placeholder:"\u57fa\u6e96\u65e5\u304b\u3089\u306e\u65e5\u6570",...t,onChange:e=>{t.onChange(e),O("creation_date_offset",e.target.value)}}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u57fa\u6e96\u65e5\u304b\u3089\u4f55\u65e5\u5f8c\u306b\u4f5c\u6210\u3059\u308b\u304b\uff080=\u5f53\u65e5\uff09"}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"deadline_date_offset",children:"\u671f\u9650\u65e5\u30aa\u30d5\u30bb\u30c3\u30c8\uff08\u65e5\u6570\uff09"}),(0,Vr.jsx)(na,{name:"deadline_date_offset",control:x,rules:{required:!!p&&"\u671f\u9650\u65e5\u30aa\u30d5\u30bb\u30c3\u30c8\u306f\u5fc5\u9808\u3067\u3059"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"number",id:"deadline_date_offset",className:`${v} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,placeholder:"\u4f5c\u6210\u65e5\u304b\u3089\u306e\u65e5\u6570",...t,onChange:e=>{t.onChange(e),O("deadline_date_offset",e.target.value)}}),(0,Vr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"\u4f5c\u6210\u65e5\u304b\u3089\u4f55\u65e5\u5f8c\u3092\u671f\u9650\u3068\u3059\u308b\u304b"}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]})]})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"description",children:"\u8aac\u660e"}),(0,Vr.jsx)(na,{name:"description",control:x,render:e=>{let{field:t}=e;return(0,Vr.jsx)("textarea",{id:"description",rows:"4",className:v,placeholder:"\u30bf\u30b9\u30af\u306e\u8a73\u7d30\u3092\u5165\u529b",...t,onChange:e=>{t.onChange(e),O("description",e.target.value)}})}})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"estimated_hours",children:"\u898b\u7a4d\u6642\u9593 (\u6642\u9593)"}),(0,Vr.jsx)(na,{name:"estimated_hours",control:x,rules:{validate:e=>!e||Number(e)>=0||"\u6b63\u306e\u6570\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"},render:e=>{let{field:t,fieldState:r}=e;return(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("input",{type:"number",id:"estimated_hours",step:"0.5",min:"0",className:`${v} ${r.error?"border-red-300 ring-1 ring-red-300":""}`,placeholder:"2.5",...t,onChange:e=>{t.onChange(e),O("estimated_hours",e.target.value)}}),r.error&&(0,Vr.jsx)("p",{className:"mt-1 text-xs text-red-600",children:r.error.message})]})}})]}),(0,Vr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Vr.jsx)("button",{type:"button",className:"mr-3 bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:a,disabled:f,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"submit",className:"bg-primary-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:f,children:f?"\u4fdd\u5b58\u4e2d...":r?"\u66f4\u65b0":"\u4f5c\u6210"})]})]})})]})},$D=()=>{const{templateId:e}=ie(),t=ne(),[r,n]=(0,o.useState)(!0),[a,i]=(0,o.useState)(null),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)(!1),[d,f]=(0,o.useState)(null),[h,p]=(0,o.useState)(null);(0,o.useEffect)((()=>{m(),y()}),[e]);const m=async()=>{try{console.log("Fetching parent template with ID:",e);const t=await ki.getTemplate(e);console.log("Parent template data:",t),i(t),p(null)}catch(h){var t;console.error("Error fetching parent template:",h),console.error("Error details:",(null===(t=h.response)||void 0===t?void 0:t.data)||h.message),qs.error("\u89aa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),i(null)}},y=async()=>{n(!0);try{console.log("Fetching template child tasks with templateId:",e);const t=await ki.getTemplateChildTasks(e);console.log("Template child tasks:",t),l(Array.isArray(t)?t:[]),p(null)}catch(h){var t;console.error("Error fetching template tasks:",h),console.error("Error details:",(null===(t=h.response)||void 0===t?void 0:t.data)||h.message),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),p("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),l([])}finally{n(!1)}},g=()=>{f(null),u(!0)},v=()=>{u(!1),f(null)};return r?(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):h&&h.includes("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306e\u53d6\u5f97\u306b\u5931\u6557")?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-6 rounded-lg",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium",children:h}),(0,Vr.jsx)("p",{className:"mt-2",children:(0,Vr.jsx)("button",{onClick:()=>t("/tasks/templates"),className:"text-red-700 underline",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e00\u89a7\u306b\u623b\u308b"})})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{className:"container mx-auto p-6",children:[(0,Vr.jsxs)("div",{className:"mb-6",children:[(0,Vr.jsxs)("button",{onClick:()=>t("/tasks/templates"),className:"btn btn-ghost btn-sm mb-4",children:[(0,Vr.jsx)(xE,{className:"mr-2"})," \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e00\u89a7\u306b\u623b\u308b"]}),a?(0,Vr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold mb-2",children:a.template_name}),(0,Vr.jsx)("p",{className:"text-gray-600 mb-2",children:a.description}),(0,Vr.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.category&&(0,Vr.jsx)("span",{className:"badge badge-info",children:a.category.name}),a.schedule&&(0,Vr.jsx)("span",{className:"badge badge-ghost",children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3042\u308a"})]})]}):(0,Vr.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg shadow-sm mb-6",children:[(0,Vr.jsxs)("h1",{className:"text-xl font-bold mb-2",children:["\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 ID: ",e]}),(0,Vr.jsx)("p",{className:"text-yellow-600",children:"\u89aa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u304c\u3001\u5185\u5305\u30bf\u30b9\u30af\u306e\u7ba1\u7406\u306f\u5f15\u304d\u7d9a\u304d\u884c\u3048\u307e\u3059\u3002"})]})]}),(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vr.jsx)("h2",{className:"text-xl font-semibold",children:"\u5185\u5305\u30bf\u30b9\u30af\u4e00\u89a7"}),(0,Vr.jsxs)("button",{className:"btn btn-primary",onClick:g,children:[(0,Vr.jsx)(JE,{className:"mr-2"})," \u65b0\u898f\u5185\u5305\u30bf\u30b9\u30af"]})]}),r?(0,Vr.jsx)("div",{className:"flex justify-center py-8",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}):0===s.length?(0,Vr.jsxs)("div",{className:"bg-gray-50 p-8 text-center rounded-lg border border-gray-200",children:[(0,Vr.jsx)(ME,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Vr.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"\u5185\u5305\u30bf\u30b9\u30af\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("p",{className:"mt-1 text-gray-500",children:"\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u306f\u307e\u3060\u5185\u5305\u30bf\u30b9\u30af\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"}),(0,Vr.jsx)("div",{className:"mt-6",children:(0,Vr.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,Vr.jsxs)("button",{onClick:g,className:"btn btn-primary",children:[(0,Vr.jsx)(JE,{className:"mr-2"})," \u5185\u5305\u30bf\u30b9\u30af\u3092\u8ffd\u52a0"]})})})]}):(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"table w-full table-zebra",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{children:"\u9806\u5e8f"}),(0,Vr.jsx)("th",{children:"\u30bf\u30b9\u30af\u540d"}),(0,Vr.jsx)("th",{children:"\u8aac\u660e"}),(0,Vr.jsx)("th",{children:"\u30ab\u30c6\u30b4\u30ea"}),(0,Vr.jsx)("th",{children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"}),(0,Vr.jsx)("th",{children:"\u898b\u7a4d\u6642\u9593"}),(0,Vr.jsx)("th",{className:"text-right",children:"\u64cd\u4f5c"})]})}),(0,Vr.jsx)("tbody",{children:s.map(((e,t)=>(0,Vr.jsxs)("tr",{className:"hover",children:[(0,Vr.jsx)("td",{children:e.order||t+1}),(0,Vr.jsx)("td",{className:"font-medium",children:e.title}),(0,Vr.jsx)("td",{className:"max-w-xs truncate",title:e.description,children:e.description||"\u8aac\u660e\u306a\u3057"}),(0,Vr.jsx)("td",{children:e.category?(0,Vr.jsx)("span",{className:"badge badge-info badge-sm",children:e.category.name}):(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{children:e.has_custom_schedule?(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("span",{className:"badge badge-success badge-sm mb-1",children:"\u72ec\u81ea\u8a2d\u5b9a"}),e.schedule&&(0,Vr.jsxs)("div",{className:"text-xs",children:[(0,Vr.jsx)("div",{className:"text-gray-600",children:e.schedule.name}),(0,Vr.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Vr.jsx)(_E,{className:"text-gray-500 mr-1",size:12}),(0,Vr.jsxs)("span",{className:"text-gray-500",children:["monthly_start"===e.schedule.schedule_type&&"\u6708\u521d\u4f5c\u6210","monthly_end"===e.schedule.schedule_type&&"\u6708\u672b\u4f5c\u6210","fiscal_relative"===e.schedule.schedule_type&&"\u6c7a\u7b97\u65e5\u57fa\u6e96","custom"===e.schedule.schedule_type&&"\u30ab\u30b9\u30bf\u30e0"]})]})]})]}):(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("span",{className:"badge badge-ghost badge-sm",children:"\u89aa\u3068\u540c\u3058"}),(0,Vr.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,Vr.jsx)(PE,{className:"inline mr-1",size:12}),"\u89aa\u30bf\u30b9\u30af\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u7d99\u627f"]})]})}),(0,Vr.jsx)("td",{children:e.estimated_hours?(0,Vr.jsxs)("span",{children:[e.estimated_hours,"\u6642\u9593"]}):(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{className:"text-right",children:(0,Vr.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,Vr.jsx)("button",{className:"btn btn-xs btn-primary",onClick:()=>(e=>{f(e),u(!0)})(e),title:"\u7de8\u96c6",children:(0,Vr.jsx)(GE,{size:16})}),(0,Vr.jsx)("button",{className:"btn btn-xs btn-error",onClick:()=>(async e=>{if(window.confirm("\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{await ki.deleteTemplateTask(e),qs.success("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),y()}catch(h){console.error("Error deleting template task:",h),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(e.id),title:"\u524a\u9664",children:(0,Vr.jsx)(nC,{size:16})})]})})]},e.id)))})]})})]}),c&&(0,Vr.jsx)("div",{className:"fixed inset-0 overflow-hidden z-50",children:(0,Vr.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Vr.jsx)("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:v}),(0,Vr.jsx)("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:(0,Vr.jsx)("div",{className:"relative w-screen max-w-2xl transform transition ease-in-out duration-300",children:(0,Vr.jsxs)("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-auto",children:[(0,Vr.jsx)("div",{className:"px-4 py-6 bg-white border-b border-gray-200 sm:px-6",children:(0,Vr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Vr.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:d?"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u3092\u7de8\u96c6":"\u65b0\u898f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u4f5c\u6210"}),(0,Vr.jsx)("div",{className:"ml-3 h-7 flex items-center",children:(0,Vr.jsxs)("button",{onClick:v,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,Vr.jsx)("span",{className:"sr-only",children:"\u9589\u3058\u308b"}),(0,Vr.jsx)(iC,{className:"h-6 w-6"})]})})]})}),(0,Vr.jsx)("div",{className:"flex-1 py-6 px-4 sm:px-6 overflow-auto",children:(0,Vr.jsx)(qD,{parentTemplateId:e,templateTaskId:null===d||void 0===d?void 0:d.id,onSuccess:()=>{u(!1),f(null),y()},onCancel:v})})]})})})]})})]})},UD=()=>{const e=ne(),[t,r]=(0,o.useState)([]),[n,a]=(0,o.useState)([]),[i,s]=(0,o.useState)(!0),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(""),[f,h]=(0,o.useState)("All"),[p,m]=(0,o.useState)("All");(0,o.useEffect)((()=>{y()}),[]);const y=async()=>{s(!0);try{const e=await Ni.getClients({});e&&e.results?r(e.results):Array.isArray(e)?r(e):(console.error("Unexpected API response format:",e),r([])),c(null)}catch(l){console.error("Error fetching clients:",l),c("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),r([])}finally{s(!1)}},g=t.filter((e=>{var t,r,n;return((null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.client_code)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase())))&&("All"===f||e.contract_status===f)&&("All"===p||e.corporate_individual===p)}));return(0,Vr.jsxs)("div",{className:"p-4",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,Vr.jsxs)("button",{className:"btn btn-primary",onClick:()=>e("/clients/new"),children:[(0,Vr.jsx)("span",{className:"mr-2",children:"+"})," \u65b0\u898f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"]})]}),l&&(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 flex justify-between items-center",children:[(0,Vr.jsx)("span",{children:l}),(0,Vr.jsxs)("button",{onClick:y,className:"flex items-center text-sm bg-red-100 hover:bg-red-200 px-3 py-1 rounded",children:[(0,Vr.jsx)(ZE,{className:"mr-1"})," \u518d\u8aad\u307f\u8fbc\u307f"]})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u691c\u7d22"}),(0,Vr.jsx)("input",{type:"text",className:"input input-bordered w-full",placeholder:"\u540d\u524d\u3001\u30b3\u30fc\u30c9\u3001\u30e1\u30fc\u30eb\u3067\u691c\u7d22...",value:u,onChange:e=>d(e.target.value)})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsxs)("select",{className:"select select-bordered w-full",value:f,onChange:e=>h(e.target.value),children:[(0,Vr.jsx)("option",{value:"All",children:"\u3059\u3079\u3066\u306e\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsx)("option",{value:"active",children:"\u5951\u7d04\u4e2d"}),(0,Vr.jsx)("option",{value:"suspended",children:"\u4f11\u6b62\u4e2d"}),(0,Vr.jsx)("option",{value:"terminated",children:"\u89e3\u7d04"}),(0,Vr.jsx)("option",{value:"preparing",children:"\u5951\u7d04\u6e96\u5099\u4e2d"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u6cd5\u4eba/\u500b\u4eba"}),(0,Vr.jsxs)("select",{className:"select select-bordered w-full",value:p,onChange:e=>m(e.target.value),children:[(0,Vr.jsx)("option",{value:"All",children:"\u3059\u3079\u3066"}),(0,Vr.jsx)("option",{value:"corporate",children:"\u6cd5\u4eba"}),(0,Vr.jsx)("option",{value:"individual",children:"\u500b\u4eba"})]})]})]}),i&&(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),!i&&(0,Vr.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Vr.jsxs)("table",{className:"table w-full",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d"}),(0,Vr.jsx)("th",{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9"}),(0,Vr.jsx)("th",{children:"\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsx)("th",{children:"\u6cd5\u4eba/\u500b\u4eba"}),(0,Vr.jsx)("th",{children:"\u96fb\u8a71\u756a\u53f7"}),(0,Vr.jsx)("th",{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsx)("th",{children:"\u6c7a\u7b97\u671f"})]})}),(0,Vr.jsx)("tbody",{children:g.length>0?g.map((t=>(0,Vr.jsxs)("tr",{className:"hover cursor-pointer",onClick:()=>e(`/clients/${t.id}/edit`),children:[(0,Vr.jsx)("td",{className:"font-medium",children:t.name}),(0,Vr.jsx)("td",{children:t.client_code||"-"}),(0,Vr.jsx)("td",{children:(0,Vr.jsx)("span",{className:"badge "+("active"===t.contract_status?"badge-success":"suspended"===t.contract_status?"badge-warning":"terminated"===t.contract_status?"badge-error":"badge-ghost"),children:t.contract_status_display||t.contract_status||"\u672a\u8a2d\u5b9a"})}),(0,Vr.jsx)("td",{children:(0,Vr.jsx)("span",{className:"badge badge-outline",children:t.corporate_individual_display||("corporate"===t.corporate_individual?"\u6cd5\u4eba":"individual"===t.corporate_individual?"\u500b\u4eba":"-")})}),(0,Vr.jsx)("td",{children:t.phone||"-"}),(0,Vr.jsx)("td",{children:t.email||"-"}),(0,Vr.jsx)("td",{children:t.fiscal_year?`\u7b2c${t.fiscal_year}\u671f`:"-"})]},t.id))):(0,Vr.jsx)("tr",{children:(0,Vr.jsx)("td",{colSpan:"7",className:"text-center py-4",children:"\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})})})]})})]})};function zD(e){return lE({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM7.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM8.25 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM9.75 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM10.5 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM12.75 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM14.25 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 13.5a.75.75 0 100-1.5.75.75 0 000 1.5z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z",clipRule:"evenodd"}}]})(e)}function HD(e){return lE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13.2 2.24a.75.75 0 00.04 1.06l2.1 1.95H6.75a.75.75 0 000 1.5h8.59l-2.1 1.95a.75.75 0 101.02 1.1l3.5-3.25a.75.75 0 000-1.1l-3.5-3.25a.75.75 0 00-1.06.04zm-6.4 8a.75.75 0 00-1.06-.04l-3.5 3.25a.75.75 0 000 1.1l3.5 3.25a.75.75 0 101.02-1.1l-2.1-1.95h8.59a.75.75 0 000-1.5H4.66l2.1-1.95a.75.75 0 00.04-1.06z",clipRule:"evenodd"}}]})(e)}const WD=e=>{let{clientId:t,fiscalYear:r=null,onClose:n,onSuccess:a}=e;const[i,s]=(0,o.useState)({client:t,fiscal_period:"",start_date:"",end_date:"",description:"",is_current:!1,is_locked:!1}),[l,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{r&&s({client:r.client,fiscal_period:r.fiscal_period,start_date:r.start_date,end_date:r.end_date,description:r.description||"",is_current:r.is_current||!1,is_locked:r.is_locked||!1})}),[r]);const u=e=>{const{name:t,value:r,type:n,checked:a}=e.target;s({...i,[t]:"checkbox"===n?a:r})};return(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center",style:{zIndex:5e4,position:"fixed",top:0,left:0,right:0,bottom:0},onClick:e=>{e.preventDefault(),n()},children:(0,Vr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",style:{position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h2",{className:"text-xl font-semibold",children:r?"\u6c7a\u7b97\u671f\u3092\u7de8\u96c6":"\u6c7a\u7b97\u671f\u3092\u8ffd\u52a0"}),(0,Vr.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},style:{fontSize:"1.5rem",lineHeight:1},children:"\u2715"})]}),(0,Vr.jsxs)("div",{className:"fiscal-year-form-container",children:[(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"fiscal_period",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u6c7a\u7b97\u671f\uff08\u671f\uff09 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsx)("input",{type:"number",id:"fiscal_period",name:"fiscal_period",value:i.fiscal_period,onChange:u,min:"1",className:"input input-bordered w-full",required:!0})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u958b\u59cb\u65e5 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsx)("input",{type:"date",id:"start_date",name:"start_date",value:i.start_date,onChange:u,className:"input input-bordered w-full",required:!0})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u7d42\u4e86\u65e5 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsx)("input",{type:"date",id:"end_date",name:"end_date",value:i.end_date,onChange:u,className:"input input-bordered w-full",required:!0})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5099\u8003"}),(0,Vr.jsx)("textarea",{id:"description",name:"description",value:i.description,onChange:u,rows:"3",className:"textarea textarea-bordered w-full"})]}),(0,Vr.jsxs)("div",{className:"flex space-x-6",children:[(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsxs)("label",{className:"label cursor-pointer",children:[(0,Vr.jsx)("span",{className:"label-text mr-2",children:"\u73fe\u5728\u306e\u671f"}),(0,Vr.jsx)("input",{type:"checkbox",name:"is_current",checked:i.is_current,onChange:u,className:"checkbox checkbox-primary",disabled:r&&r.is_locked})]}),(0,Vr.jsx)("span",{className:"text-xs text-gray-500",children:"\u3053\u308c\u3092\u73fe\u5728\u306e\u671f\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u4e00\u5ea6\u306b1\u3064\u3060\u3051\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002"})]}),r&&(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsxs)("label",{className:"label cursor-pointer",children:[(0,Vr.jsx)("span",{className:"label-text mr-2",children:"\u30ed\u30c3\u30af"}),(0,Vr.jsx)("input",{type:"checkbox",name:"is_locked",checked:i.is_locked,onChange:u,className:"checkbox checkbox-warning"})]}),(0,Vr.jsx)("span",{className:"text-xs text-gray-500",children:"\u30ed\u30c3\u30af\u3059\u308b\u3068\u57fa\u672c\u30c7\u30fc\u30bf\u306e\u7de8\u96c6\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002"})]})]})]}),(0,Vr.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Vr.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},className:"btn btn-ghost",disabled:l,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",className:"btn btn-primary",disabled:l,onClick:()=>{l||(async()=>{if(!i.fiscal_period)return void qs.error("\u6c7a\u7b97\u671f\u306f\u5fc5\u9808\u3067\u3059");if(!i.start_date)return void qs.error("\u958b\u59cb\u65e5\u306f\u5fc5\u9808\u3067\u3059");if(!i.end_date)return void qs.error("\u7d42\u4e86\u65e5\u306f\u5fc5\u9808\u3067\u3059");if(new Date(i.end_date)<new Date(i.start_date))return void qs.error("\u7d42\u4e86\u65e5\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044");c(!0);const e={...i,client:Number(t),fiscal_period:Number(i.fiscal_period)};console.log("FiscalYear submit data:",e);try{let i;r?(i=await Ni.updateFiscalYear(r.id,e),console.log("Fiscal year updated:",i),qs.success("\u6c7a\u7b97\u671f\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")):(i=await Ni.createFiscalYear(Number(t),e),console.log("New fiscal year created:",i),qs.success("\u6c7a\u7b97\u671f\u60c5\u5831\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f")),console.log("Form submission successful, calling success callback"),a&&(console.log("Calling onSuccess callback"),a()),console.log("Closing modal after successful submission"),n()}catch(l){var o,s;console.error("Error saving fiscal year:",l),console.error("Request data:",e),console.error("Error details:",null===(o=l.response)||void 0===o?void 0:o.data);let t="\u6c7a\u7b97\u671f\u60c5\u5831\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";null!==(s=l.response)&&void 0!==s&&s.data?t+=`: ${Object.entries(l.response.data).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("; ")}`:t+=`: ${l.message}`,qs.error(t)}finally{c(!1)}})()},children:l?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):r?"\u66f4\u65b0\u3059\u308b":"\u8ffd\u52a0\u3059\u308b"})]})]})]})})};var VD=r(446),KD=r.n(VD);const YD=e=>{let{clientId:t}=e;const[r,n]=(0,o.useState)([]),[a,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)(!1),[h,p]=(0,o.useState)(null),m=(0,o.useRef)(null);(0,o.useEffect)((()=>{console.log("FiscalYearManagement mounted or clientId changed:",t),y()}),[t]);const y=async()=>{console.log("Fetching fiscal years for client:",t),i(!0);try{const e=await Ni.getFiscalYears(t);console.log("Fiscal years fetched:",e),n(e),u(null)}catch(c){console.error("Error fetching fiscal years:",c),u("\u6c7a\u7b97\u671f\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u6c7a\u7b97\u671f\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{i(!1)}},g=(e,t)=>{if(!e||!t)return"";const r=new Date(e),n=new Date(t),a=Math.floor((n-r)/864e5)+1,i=Math.floor(a/30);return i<1?`${a}\u65e5\u9593`:`\u7d04${i}\u30f6\u6708\u9593 (${a}\u65e5)`};return(0,Vr.jsxs)("div",{className:"mt-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,Vr.jsx)(zD,{className:"mr-2 text-primary"}),"\u6c7a\u7b97\u671f\u7ba1\u7406"]}),(0,Vr.jsx)("button",{className:"btn btn-sm btn-outline btn-primary",onClick:()=>{p(null),f(!0)},disabled:s,children:"\u6c7a\u7b97\u671f\u3092\u8ffd\u52a0"})]}),c&&(0,Vr.jsxs)("div",{className:"alert alert-error mb-4 flex justify-between items-center",children:[(0,Vr.jsx)("span",{children:c}),(0,Vr.jsxs)("button",{onClick:y,className:"btn btn-sm btn-ghost",children:[(0,Vr.jsx)(ZE,{className:"mr-1"})," \u518d\u8aad\u307f\u8fbc\u307f"]})]}),a?(0,Vr.jsx)("div",{className:"flex justify-center py-4",children:(0,Vr.jsx)("span",{className:"loading loading-spinner loading-md"})}):0===r.length?(0,Vr.jsx)("div",{className:"alert alert-info",children:"\u307e\u3060\u6c7a\u7b97\u671f\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u300c\u6c7a\u7b97\u671f\u3092\u8ffd\u52a0\u300d\u30dc\u30bf\u30f3\u304b\u3089\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):(0,Vr.jsx)(Vr.Fragment,{children:(0,Vr.jsx)("div",{className:"overflow-x-auto rounded-lg border",children:(0,Vr.jsxs)("table",{className:"table w-full",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{children:"\u671f"}),(0,Vr.jsx)("th",{children:"\u671f\u9593"}),(0,Vr.jsx)("th",{children:"\u9577\u3055"}),(0,Vr.jsx)("th",{children:"\u72b6\u614b"}),(0,Vr.jsx)("th",{children:"\u5099\u8003"}),(0,Vr.jsx)("th",{children:"\u64cd\u4f5c"})]})}),(0,Vr.jsx)("tbody",{children:r.map((e=>(0,Vr.jsxs)("tr",{className:e.is_current?"bg-primary bg-opacity-10":"",children:[(0,Vr.jsxs)("td",{className:"font-medium",children:["\u7b2c",e.fiscal_period,"\u671f",e.is_current&&(0,Vr.jsx)("span",{className:"ml-2 badge badge-primary badge-sm",children:"\u73fe\u5728"})]}),(0,Vr.jsxs)("td",{className:"whitespace-nowrap",children:[e.start_date," \u301c ",e.end_date]}),(0,Vr.jsx)("td",{children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(HD,{className:"mr-1 text-gray-500"}),g(e.start_date,e.end_date),e.duration_days&&(0,Vr.jsxs)("span",{className:"text-xs ml-1",children:["(",e.duration_days,"\u65e5)"]})]})}),(0,Vr.jsx)("td",{children:e.is_locked?(0,Vr.jsxs)("span",{className:"flex items-center text-warning",children:[(0,Vr.jsx)(hE,{className:"mr-1"})," \u30ed\u30c3\u30af\u6e08"]}):(0,Vr.jsxs)("span",{className:"flex items-center text-success",children:[(0,Vr.jsx)(pE,{className:"mr-1"})," \u7de8\u96c6\u53ef\u80fd"]})}),(0,Vr.jsx)("td",{className:"truncate max-w-[200px]",children:e.description}),(0,Vr.jsx)("td",{children:(0,Vr.jsxs)("div",{className:"flex space-x-2",children:[!e.is_current&&(0,Vr.jsxs)("button",{className:"btn btn-xs btn-outline btn-primary",onClick:()=>(async e=>{if(!s)if(e.is_locked)qs.error("\u30ed\u30c3\u30af\u3055\u308c\u305f\u6c7a\u7b97\u671f\u306f\u73fe\u5728\u306e\u671f\u3068\u3057\u3066\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093");else if(e.is_current)qs("\u3053\u306e\u6c7a\u7b97\u671f\u306f\u65e2\u306b\u73fe\u5728\u306e\u671f\u3068\u3057\u3066\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059");else try{l(!0),await Ni.setCurrentFiscalYear(e.id),qs.success(`\u7b2c${e.fiscal_period}\u671f\u3092\u73fe\u5728\u306e\u671f\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u307e\u3057\u305f`),y()}catch(c){var t,r;console.error("Error setting current fiscal year:",c);let n="\u73fe\u5728\u306e\u671f\u306e\u8a2d\u5b9a\u306b\u5931\u6557\u3057\u307e\u3057\u305f";null!==(t=c.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.error&&(n=c.response.data.error),qs.error(n)}finally{l(!1)}})(e),disabled:s||e.is_locked,title:"\u73fe\u5728\u306e\u671f\u3068\u3057\u3066\u8a2d\u5b9a",children:[(0,Vr.jsx)(mE,{className:"mr-1"}),"\u73fe\u5728"]}),(0,Vr.jsx)("button",{className:"btn btn-xs btn-outline "+(e.is_locked?"btn-warning":"btn-ghost"),onClick:()=>(async e=>{if(!s)try{l(!0),(await Ni.toggleFiscalYearLock(e.id)).is_locked?qs.success(`\u7b2c${e.fiscal_period}\u671f\u3092\u30ed\u30c3\u30af\u3057\u307e\u3057\u305f`):qs.success(`\u7b2c${e.fiscal_period}\u671f\u306e\u30ed\u30c3\u30af\u3092\u89e3\u9664\u3057\u307e\u3057\u305f`),y()}catch(c){var t,r;console.error("Error toggling fiscal year lock:",c);let n="\u30ed\u30c3\u30af\u72b6\u614b\u306e\u5909\u66f4\u306b\u5931\u6557\u3057\u307e\u3057\u305f";null!==(t=c.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.error&&(n=c.response.data.error),qs.error(n)}finally{l(!1)}})(e),disabled:s,title:e.is_locked?"\u30ed\u30c3\u30af\u89e3\u9664":"\u30ed\u30c3\u30af",children:e.is_locked?(0,Vr.jsx)(hE,{}):(0,Vr.jsx)(pE,{})}),(0,Vr.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>(e=>{p(e),f(!0)})(e),disabled:s||e.is_locked,title:"\u7de8\u96c6",children:"\u7de8\u96c6"})]})})]},e.id)))})]})})}),(0,Vr.jsx)("div",{ref:m,className:"fiscal-year-form-modal-container",style:{position:"relative",zIndex:5e4},children:d&&(0,Vr.jsx)(WD,{clientId:t,fiscalYear:h,onClose:()=>{console.log("Form close called"),f(!1),p(null)},onSuccess:()=>{console.log("Form success callback triggered"),y()}})})]})},GD=e=>{let{clientId:t,taxRule:r=null,taxType:n="income",onClose:a,onSuccess:i}=e;const s={client:t,tax_type:n,rule_type:"principle",start_date:"",end_date:"",description:""},[l,c]=(0,o.useState)(s),[u,d]=(0,o.useState)(!1);(0,o.useEffect)((()=>{c(r?{client:r.client,tax_type:r.tax_type,rule_type:r.rule_type,start_date:r.start_date||"",end_date:r.end_date||"",description:r.description||""}:{...s,tax_type:n,start_date:(new Date).toISOString().split("T")[0]})}),[r,n,t]);const f=e=>{const{name:t,value:r,type:n,checked:a}=e.target;c({...l,[t]:"checkbox"===n?a:r})};return(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,Vr.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Vr.jsx)(ME,{className:"mr-2 text-primary-600"}),r?"\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u7de8\u96c6":"\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0"," (","income"===l.tax_type?"\u6e90\u6cc9\u6240\u5f97\u7a0e":"\u4f4f\u6c11\u7a0e",")"]}),(0,Vr.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:a,children:(0,Vr.jsx)(iC,{className:"h-5 w-5"})})]}),(0,Vr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"rule_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30eb\u30fc\u30eb\u7a2e\u5225 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("select",{id:"rule_type",name:"rule_type",value:l.rule_type,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"principle",children:"\u539f\u5247"}),(0,Vr.jsx)("option",{value:"exception",children:"\u7279\u4f8b"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u958b\u59cb\u65e5 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,Vr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Vr.jsx)(_E,{className:"h-5 w-5 text-gray-400"})}),(0,Vr.jsx)("input",{type:"date",id:"start_date",name:"start_date",value:l.start_date,onChange:f,className:"pl-10 focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:["\u7d42\u4e86\u65e5",(0,Vr.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"(\u7a7a\u767d\u306e\u5834\u5408\u306f\u73fe\u5728\u307e\u3067\u9069\u7528)"})]}),(0,Vr.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,Vr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Vr.jsx)(_E,{className:"h-5 w-5 text-gray-400"})}),(0,Vr.jsx)("input",{type:"date",id:"end_date",name:"end_date",value:l.end_date||"",onChange:f,className:"pl-10 focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"\u672a\u5165\u529b\u3067\u73fe\u5728\u307e\u3067\u9069\u7528"})]}),(0,Vr.jsxs)("div",{className:"mt-1 flex items-center text-xs text-gray-500",children:[(0,Vr.jsx)($E,{className:"h-4 w-4 mr-1"}),"\u7d42\u4e86\u65e5\u3092\u5165\u529b\u3057\u306a\u3044\u5834\u5408\u3001\u73fe\u5728\u3082\u9069\u7528\u4e2d\u306e\u30eb\u30fc\u30eb\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059"]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5099\u8003"}),(0,Vr.jsx)("textarea",{id:"description",name:"description",value:l.description,onChange:f,rows:"3",className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"\u30eb\u30fc\u30eb\u306b\u95a2\u3059\u308b\u88dc\u8db3\u60c5\u5831"})]})]}),(0,Vr.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3 rounded-b-lg",children:[(0,Vr.jsx)("button",{type:"button",onClick:a,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:u,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:u,onClick:async()=>{if(!l.rule_type)return void qs.error("\u30eb\u30fc\u30eb\u7a2e\u5225\u306f\u5fc5\u9808\u3067\u3059");if(!l.start_date)return void qs.error("\u958b\u59cb\u65e5\u306f\u5fc5\u9808\u3067\u3059");if(l.end_date&&new Date(l.end_date)<new Date(l.start_date))return void qs.error("\u7d42\u4e86\u65e5\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044");d(!0);const e={...l,client:Number(t)};""===e.end_date&&(e.end_date=null),console.log("TaxRule submit data:",e);try{let n;r?(n=await Ni.updateTaxRule(r.id,e),console.log("Tax rule updated:",n),qs.success("\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")):(n=await Ni.createTaxRule(t,e),console.log("New tax rule created:",n),qs.success("\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f")),console.log("Closing modal and notifying success"),a(),setTimeout((()=>{i&&(console.log("Calling onSuccess callback"),i())}),300)}catch(c){var n,o,s;console.error("Error saving tax rule:",c),console.error("Request data:",e),console.error("Error details:",null===(n=c.response)||void 0===n?void 0:n.data);let t="\u7a0e\u52d9\u30eb\u30fc\u30eb\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";if(null!==(o=c.response)&&void 0!==o&&o.data&&"string"===typeof c.response.data&&c.response.data.startsWith("<!DOCTYPE html>"))t="\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002";else if(null!==(s=c.response)&&void 0!==s&&s.data)try{if("object"===typeof c.response.data){t+=`: ${Object.entries(c.response.data).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("; ")}`}else t+=`: ${c.response.data}`}catch(KR){t+=`: ${c.message}`}else t+=`: ${c.message}`;qs.error(t)}finally{d(!1)}},children:u?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Vr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Vr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u4fdd\u5b58\u4e2d..."]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(eC,{className:"mr-2 -ml-1 h-5 w-5"}),r?"\u66f4\u65b0\u3059\u308b":"\u8ffd\u52a0\u3059\u308b"]})})]})]})})},XD=e=>"income"===e?"\u6e90\u6cc9\u6240\u5f97\u7a0e":"\u4f4f\u6c11\u7a0e",QD=e=>ZD(e)?"bg-green-100 text-green-800":new Date(e.start_date)>new Date?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",JD=e=>ZD(e)?"\u73fe\u5728\u9069\u7528\u4e2d":new Date(e.start_date)>new Date?"\u5c06\u6765\u9069\u7528\u4e88\u5b9a":"\u904e\u53bb\u306e\u30eb\u30fc\u30eb",ZD=e=>{const t=new Date,r=new Date(e.start_date),n=e.end_date?new Date(e.end_date):null;return r<=t&&(!n||n>=t)},eM=e=>{if(!e)return"\u73fe\u5728\u307e\u3067";try{return new Date(e).toLocaleDateString("ja-JP")}catch(KR){return e}},tM=e=>{let{isOpen:t,onClose:r,clientId:n,taxType:a,onSaveComplete:i}=e;const[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)(!0),[d,f]=(0,o.useState)(null),[h,p]=(0,o.useState)(!1),[m,y]=(0,o.useState)({client:n,tax_type:a,rule_type:"principle",start_date:(new Date).toISOString().split("T")[0],end_date:"",description:""}),[g,v]=(0,o.useState)(!1);(0,o.useEffect)((()=>{t&&b()}),[t,n,a]);const b=async()=>{if(n&&a){u(!0);try{const e=await Ni.getTaxRules(n,{tax_type:a});console.log(`${XD(a)}\u30eb\u30fc\u30eb\u53d6\u5f97:`,e);const t=Array.isArray(e)?e.sort(((e,t)=>new Date(t.start_date)-new Date(e.start_date))):[];l(t),y((e=>({...e,tax_type:a,start_date:(new Date).toISOString().split("T")[0]})))}catch(d){console.error("\u7a0e\u52d9\u30eb\u30fc\u30eb\u53d6\u5f97\u4e2d\u306e\u30a8\u30e9\u30fc:",d),f("\u7a0e\u52d9\u30eb\u30fc\u30eb\u306e\u8868\u793a\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f"),l([])}finally{u(!1)}}},x=e=>{const{name:t,value:r,type:n,checked:a}=e.target;y({...m,[t]:"checkbox"===n?a:r})};return t?(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Vr.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("button",{className:"mr-2 text-gray-500 hover:text-gray-700",onClick:r,children:(0,Vr.jsx)(xE,{className:"h-5 w-5"})}),(0,Vr.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[XD(a),"\u30eb\u30fc\u30eb\u306e\u5c65\u6b74"]})]}),(0,Vr.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:r,children:(0,Vr.jsx)(iC,{className:"h-5 w-5"})})]}),(0,Vr.jsx)("div",{className:"overflow-auto flex-grow p-4",children:c?(0,Vr.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}):(0,Vr.jsxs)(Vr.Fragment,{children:[s.length>0?(0,Vr.jsxs)("div",{className:"mb-6",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"\u30eb\u30fc\u30eb\u5c65\u6b74"}),(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u9069\u7528\u671f\u9593"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30eb\u30fc\u30eb\u7a2e\u5225"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u72b6\u614b"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u5099\u8003"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u64cd\u4f5c"})]})}),(0,Vr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e=>{return(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(_E,{className:"mr-1 text-gray-500"}),eM(e.start_date)," \u301c ",eM(e.end_date)]})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.rule_type,"principle"===t?"\u539f\u5247":"\u7279\u4f8b")}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${QD(e)}`,children:JD(e)})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-[200px] truncate",children:e.description||"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsx)("button",{onClick:()=>(async e=>{if(e&&window.confirm("\u3053\u306e\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f\u3053\u306e\u64cd\u4f5c\u306f\u5143\u306b\u623b\u305b\u307e\u305b\u3093\u3002"))try{await Ni.deleteTaxRule(e),hs.success("\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),b(),i&&i()}catch(d){console.error("\u7a0e\u52d9\u30eb\u30fc\u30eb\u524a\u9664\u30a8\u30e9\u30fc:",d),hs.error("\u7a0e\u52d9\u30eb\u30fc\u30eb\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(e.id),className:"text-red-600 hover:text-red-900",title:"\u524a\u9664",children:(0,Vr.jsx)(nC,{className:"h-5 w-5"})})})]},e.id);var t}))})]})})]}):(0,Vr.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg mb-6",children:[(0,Vr.jsx)(RE,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Vr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"\u30eb\u30fc\u30eb\u5c65\u6b74\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[XD(a),"\u306e\u30eb\u30fc\u30eb\u5c65\u6b74\u306f\u307e\u3060\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"]})]}),h?(0,Vr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium text-gray-700",children:"\u65b0\u898f\u30eb\u30fc\u30eb\u306e\u767b\u9332"}),(0,Vr.jsx)("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Vr.jsx)(iC,{className:"h-5 w-5"})})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30eb\u30fc\u30eb\u7a2e\u5225 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("select",{name:"rule_type",value:m.rule_type,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"principle",children:"\u539f\u5247"}),(0,Vr.jsx)("option",{value:"exception",children:"\u7279\u4f8b"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u958b\u59cb\u65e5 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsx)("input",{type:"date",name:"start_date",value:m.start_date,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d42\u4e86\u65e5 (\u7a7a\u6b04\u306e\u5834\u5408\u306f\u73fe\u5728\u307e\u3067\u9069\u7528)"}),(0,Vr.jsx)("input",{type:"date",name:"end_date",value:m.end_date,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{className:"sm:col-span-2",children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5099\u8003"}),(0,Vr.jsx)("textarea",{name:"description",value:m.description,onChange:x,rows:"3",placeholder:"\u30eb\u30fc\u30eb\u306b\u95a2\u3059\u308b\u88dc\u8db3\u60c5\u5831",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]}),(0,Vr.jsxs)("div",{className:"mt-4 flex justify-end",children:[(0,Vr.jsx)("button",{type:"button",onClick:()=>p(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 mr-3",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",onClick:async e=>{if(e&&e.preventDefault&&e.preventDefault(),m.rule_type)if(m.start_date)if(m.end_date&&new Date(m.end_date)<new Date(m.start_date))hs.error("\u7d42\u4e86\u65e5\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044");else try{v(!0);const o={...m,client:Number(n)};""===o.end_date&&(o.end_date=null),console.log("\u7a0e\u52d9\u30eb\u30fc\u30eb\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u307e\u3059:",o);try{const e=await Ni.createTaxRule(n,o);console.log("\u65b0\u3057\u3044\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f:",e),hs.success("\u7a0e\u52d9\u30eb\u30fc\u30eb\u3092\u767b\u9332\u3057\u307e\u3057\u305f"),y({client:n,tax_type:a,rule_type:"principle",start_date:(new Date).toISOString().split("T")[0],end_date:"",description:""}),b(),p(!1),i&&i()}catch(r){var t;console.error("\u7a0e\u52d9\u30eb\u30fc\u30eb\u4fdd\u5b58\u6642\u306eAPI\u30a8\u30e9\u30fc:",r);let n="\u7a0e\u52d9\u30eb\u30fc\u30eb\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";if(null!==(t=r.response)&&void 0!==t&&t.data)try{if("object"===typeof r.response.data){n+=`: ${Object.entries(r.response.data).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("; ")}`}else n+=`: ${r.response.data}`}catch(e){n+=`: ${r.message}`}else n+=`: ${r.message}`;hs.error(n)}}catch(d){console.error("\u4fdd\u5b58\u51e6\u7406\u4e2d\u306e\u30a8\u30e9\u30fc:",d),hs.error("\u7a0e\u52d9\u30eb\u30fc\u30eb\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{v(!1)}else hs.error("\u958b\u59cb\u65e5\u306f\u5fc5\u9808\u3067\u3059");else hs.error("\u30eb\u30fc\u30eb\u7a2e\u5225\u306f\u5fc5\u9808\u3067\u3059")},disabled:g,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:g?(0,Vr.jsxs)("span",{className:"inline-flex items-center",children:[(0,Vr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Vr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Vr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u4fdd\u5b58\u4e2d..."]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(eC,{className:"mr-2 h-4 w-4"}),"\u4fdd\u5b58"]})})]})]}):(0,Vr.jsxs)("button",{onClick:()=>p(!0),className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Vr.jsx)(JE,{className:"mr-2 h-4 w-4"}),"\u65b0\u898f\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0"]})]})})]})}):null},rM=e=>{let{clientId:t}=e;const[r,n]=(0,o.useState)([]),[a,i]=(0,o.useState)([]),[s,l]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)(!1),[h,p]=(0,o.useState)(null),[m,y]=(0,o.useState)("income"),[g,v]=(0,o.useState)(!1),[b,x]=(0,o.useState)(!1),[w,j]=(0,o.useState)(null),_=async()=>{console.log("Fetching tax rules for client:",t),l(!0),v(!0);try{let a=[],o=[];try{a=await Ni.getTaxRules(t,{tax_type:"income"}),console.log("Income tax rules fetched:",a)}catch(e){console.error("Error fetching income tax rules:",e),a=[]}try{o=await Ni.getTaxRules(t,{tax_type:"residence"}),console.log("Residence tax rules fetched:",o)}catch(r){console.error("Error fetching residence tax rules:",r),o=[]}const s=k(Array.isArray(a)?a:[]),l=k(Array.isArray(o)?o:[]);n(s),i(l),u(null)}catch(a){console.error("Error in fetchTaxRules:",a),n([]),i([]),u("\u73fe\u5728\u30c7\u30fc\u30bf\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093")}finally{l(!1),v(!1)}},k=e=>e.sort(((e,t)=>{const r=N(e),n=N(t);return r!==n?r-n:new Date(t.start_date)-new Date(e.start_date)})),N=e=>O(e)?0:new Date(e.start_date)>new Date?1:2;(0,o.useEffect)((()=>{t&&_()}),[t]);const S=(e,t)=>{e.preventDefault(),e.stopPropagation(),j(t),x(!0)},O=e=>{const t=new Date,r=new Date(e.start_date),n=e.end_date?new Date(e.end_date):null;return r<=t&&(!n||n>=t)},E=e=>"principle"===e?"\u539f\u5247":"\u7279\u4f8b",C=e=>{if(!e)return"\u73fe\u5728\u307e\u3067";try{return new Date(e).toLocaleDateString("ja-JP")}catch(KR){return e}},A=e=>e.find(O)||null,T=A(r),P=A(a);return!s||r.length||a.length?(0,Vr.jsxs)("div",{className:"space-y-8",children:[(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Vr.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(ME,{className:"mr-2 text-primary-600"}),"\u7a0e\u52d9\u30eb\u30fc\u30eb"]}),(0,Vr.jsx)("div",{className:"flex space-x-2",children:(0,Vr.jsx)("button",{className:"flex items-center justify-center p-2 rounded-md text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:outline-none "+(g?"animate-spin text-primary-600":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),qs.loading("\u7a0e\u52d9\u30eb\u30fc\u30eb\u60c5\u5831\u3092\u66f4\u65b0\u4e2d...",{id:"tax-rules-update"}),_().then((()=>{qs.success("\u7a0e\u52d9\u30eb\u30fc\u30eb\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f",{id:"tax-rules-update"})})).catch((()=>{qs.error("\u7a0e\u52d9\u30eb\u30fc\u30eb\u60c5\u5831\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f",{id:"tax-rules-update"})}))},disabled:g,title:"\u66f4\u65b0",children:(0,Vr.jsx)(ZE,{className:"h-5 w-5"})})})]}),(0,Vr.jsxs)("div",{className:"p-4",children:[c&&(0,Vr.jsx)("div",{className:"p-4 mb-4 text-blue-700 bg-blue-100 rounded-lg",children:c}),0===r.length&&0===a.length?(0,Vr.jsx)("div",{className:"p-4 text-blue-700 bg-blue-100 rounded-lg",children:"\u7a0e\u52d9\u30eb\u30fc\u30eb\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u4e0b\u306e\u30dc\u30bf\u30f3\u304b\u3089\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u7a0e\u7a2e\u5225"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30eb\u30fc\u30eb\u7a2e\u5225"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u9069\u7528\u671f\u9593"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u72b6\u614b"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u5099\u8003"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u64cd\u4f5c"})]})}),(0,Vr.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[T?(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 py-1 inline-flex text-sm leading-5 font-medium rounded-full bg-blue-100 text-blue-800",children:"\u6e90\u6cc9\u6240\u5f97\u7a0e"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E(T.rule_type)}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(_E,{className:"mr-1 text-gray-500"}),C(T.start_date)," \u301c ",C(T.end_date)]})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"\u73fe\u5728\u9069\u7528\u4e2d"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-[200px] truncate",children:T.description||"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsx)("div",{className:"flex space-x-2",children:(0,Vr.jsx)("button",{onClick:e=>S(e,"income"),className:"text-blue-600 hover:text-blue-900",title:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u306e\u5c65\u6b74",children:(0,Vr.jsx)(TE,{className:"h-5 w-5"})})})})]}):(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 py-1 inline-flex text-sm leading-5 font-medium rounded-full bg-blue-100 text-blue-800",children:"\u6e90\u6cc9\u6240\u5f97\u7a0e"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"\u672a\u8a2d\u5b9a"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsx)("button",{onClick:e=>S(e,"income"),className:"text-blue-600 hover:text-blue-900",title:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u306e\u5c65\u6b74",children:(0,Vr.jsx)(TE,{className:"h-5 w-5"})})})]}),P?(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 py-1 inline-flex text-sm leading-5 font-medium rounded-full bg-green-100 text-green-800",children:"\u4f4f\u6c11\u7a0e"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E(P.rule_type)}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(_E,{className:"mr-1 text-gray-500"}),C(P.start_date)," \u301c ",C(P.end_date)]})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"\u73fe\u5728\u9069\u7528\u4e2d"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-[200px] truncate",children:P.description||"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsx)("div",{className:"flex space-x-2",children:(0,Vr.jsx)("button",{onClick:e=>S(e,"residence"),className:"text-green-600 hover:text-green-900",title:"\u4f4f\u6c11\u7a0e\u306e\u5c65\u6b74",children:(0,Vr.jsx)(TE,{className:"h-5 w-5"})})})})]}):(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 py-1 inline-flex text-sm leading-5 font-medium rounded-full bg-green-100 text-green-800",children:"\u4f4f\u6c11\u7a0e"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"\u672a\u8a2d\u5b9a"})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsx)("button",{onClick:e=>S(e,"residence"),className:"text-green-600 hover:text-green-900",title:"\u4f4f\u6c11\u7a0e\u306e\u5c65\u6b74",children:(0,Vr.jsx)(TE,{className:"h-5 w-5"})})})]})]})]})})]})]}),d&&(0,Vr.jsx)(GD,{clientId:t,taxRule:h,taxType:m,onClose:()=>{f(!1),p(null)},onSuccess:()=>{console.log("Form success callback triggered"),_(),f(!1)}}),(0,Vr.jsx)(tM,{isOpen:b,onClose:()=>x(!1),clientId:t,taxType:w,onSaveComplete:_})]}):(0,Vr.jsx)("div",{className:"flex justify-center py-4",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})})},nM={monthly_check:"monthly",bookkeeping:"bookkeeping",tax_return:"tax_return",income_tax:"income_tax",residence_tax:"residence_tax",social_insurance:"social_insurance"},aM={monthly_check:"\u6708\u6b21\u30c1\u30a7\u30c3\u30af",bookkeeping:"\u8a18\u5e33\u4ee3\u884c",tax_return:"\u7a0e\u52d9\u7533\u544a\u66f8\u4f5c\u6210",income_tax:"\u6e90\u6cc9\u6240\u5f97\u7a0e",residence_tax:"\u4f4f\u6c11\u7a0e\u5bfe\u5fdc",social_insurance:"\u793e\u4f1a\u4fdd\u967a\u5bfe\u5fdc"},iM={monthly_check:"monthly",bookkeeping:"monthly",tax_return:"yearly",income_tax:"monthly",residence_tax:"yearly",social_insurance:"monthly"},oM={monthly_check:"monthly_start",bookkeeping:"monthly_end",tax_return:"fiscal_relative",income_tax:"monthly_end",residence_tax:"fiscal_relative",social_insurance:"monthly_end"},sM={monthly_check:"\u6708\u6b21\u51e6\u7406\u30c1\u30a7\u30c3\u30af",bookkeeping:"\u8a18\u5e33\u4ee3\u884c\u696d\u52d9",tax_return:"\u6c7a\u7b97\u30fb\u6cd5\u4eba\u7a0e\u7533\u544a\u696d\u52d9",income_tax:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u7d0d\u4ed8\u696d\u52d9",residence_tax:"\u4f4f\u6c11\u7a0e\u7d0d\u4ed8\u696d\u52d9",social_insurance:"\u793e\u4f1a\u4fdd\u967a\u624b\u7d9a\u304d"},lM={monthly_check:"\u6bce\u6708\u306e\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u306a\u5bfe\u5fdc\u3092\u884c\u3044\u307e\u3059\u3002",bookkeeping:"\u8acb\u6c42\u66f8\u30fb\u9818\u53ce\u66f8\u306a\u3069\u306b\u57fa\u3065\u304d\u4f1a\u8a08\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",tax_return:"\u6c7a\u7b97\u671f\u306e\u6cd5\u4eba\u7a0e\u7533\u544a\u66f8\u3092\u4f5c\u6210\u30fb\u63d0\u51fa\u3057\u307e\u3059\u3002",income_tax:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u306e\u8a08\u7b97\u30fb\u7d0d\u4ed8\u624b\u7d9a\u304d\u3092\u884c\u3044\u307e\u3059\u3002",residence_tax:"\u4f4f\u6c11\u7a0e\u306e\u7d0d\u4ed8\u624b\u7d9a\u304d\u30fb\u7279\u5225\u5fb4\u53ce\u3092\u884c\u3044\u307e\u3059\u3002",social_insurance:"\u793e\u4f1a\u4fdd\u967a\u306e\u624b\u7d9a\u304d\u30fb\u8a08\u7b97\u3092\u884c\u3044\u307e\u3059\u3002"},cM=e=>{let{clientId:t}=e;const r=Object.keys(nM).reduce(((e,t)=>(e[t]={cycle:iM[t],enabled:!0,template_id:null,customized:!1,schedule_type:oM[t]||"monthly_start",recurrence:iM[t],creation_day:null,deadline_day:null},e)),{}),[n,a]=(0,o.useState)({templates_enabled:!0,...r}),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)([]),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(!0),[y,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[x,w]=(0,o.useState)(null),[j,_]=(0,o.useState)(null),[k,N]=(0,o.useState)(!1),[S,O]=(0,o.useState)(null);(0,o.useEffect)((()=>{t&&(console.log("ServiceCheckSettings initialized with client ID:",t),m(!0),Ni.getClient(t).then((e=>{_(e),console.log("Client info fetched:",e)})).catch((e=>{console.error("Error fetching client info:",e)})),a((e=>({...e,templates_enabled:!0}))),C().then((()=>{console.log("Initial data fetch completed, settings loaded"),l&&0===l.length?(console.log(`No templates found for client ID ${t}, applying default templates`),setTimeout((()=>{E()}),1e3)):(console.log(`Found ${l.length} templates for client ID ${t}`),m(!1))})).catch((e=>{console.error("Error during initial data fetch:",e),m(!1),qs("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f",{icon:"\u274c",style:{background:"#FEE",color:"#E00"}})})))}),[t]);const E=async()=>{if(t){console.log("Setting up default templates for client:",t),a((e=>({...e,templates_enabled:!0}))),qs.promise(new Promise((e=>setTimeout(e,500))),{loading:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u4e2d...",id:"default-templates"});try{const[r,n]=await Promise.all([Ni.getTaskTemplates(),Ni.getTaskTemplateSchedules()]),a=[{name:"\u6708\u6b21\u51e6\u7406\u30c1\u30a7\u30c3\u30af",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6bce\u6708\u306e\u4f1a\u8a08\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u8a18\u5e33\u4ee3\u884c\u4f5c\u696d",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6708\u6b21\u306e\u8a18\u5e33\u4ee3\u884c\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u6c7a\u7b97\u30fb\u6cd5\u4eba\u7a0e\u7533\u544a\u696d\u52d9",schedule:"\u6c7a\u7b97\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6c7a\u7b97\u671f\u306e\u6cd5\u4eba\u7a0e\u7533\u544a\u66f8\u4f5c\u6210\u696d\u52d9\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u7d0d\u4ed8\u696d\u52d9",schedule:"\u6708\u672b\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6bce\u6708\u306e\u6e90\u6cc9\u6240\u5f97\u7a0e\u306e\u7d0d\u4ed8\u624b\u7d9a\u304d\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u4f4f\u6c11\u7a0e\u7d0d\u4ed8\u696d\u52d9",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u5f93\u696d\u54e1\u306e\u4f4f\u6c11\u7a0e\u7279\u5225\u5fb4\u53ce\u306e\u7d0d\u4ed8\u624b\u7d9a\u304d\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u793e\u4f1a\u4fdd\u967a\u624b\u7d9a\u304d",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u793e\u4f1a\u4fdd\u967a\u95a2\u9023\u306e\u5404\u7a2e\u624b\u7d9a\u304d\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"}],i=[];for(const o of a)try{if(l.find((e=>e.title===o.name))){console.log(`Template for ${o.name} already exists, skipping...`);continue}const e=Array.isArray(r)?r.find((e=>e.title===o.name||e.template_name===o.name)):null;if(!e){console.log(`No matching template found for ${o.name}, skipping...`);continue}const a=Array.isArray(n)?n.find((e=>e.name===o.schedule)):null;if(!a){console.log(`No matching schedule found for ${o.schedule}, skipping...`);continue}const s=await Ni.createClientTaskTemplate(t,{title:o.name,description:o.description,template_task:e.id,schedule:a.id,is_active:!0});i.push(s),console.log(`Created template for ${o.name} with schedule ${o.schedule}`)}catch(e){console.error(`Error creating template for ${o.name}:`,e)}i.length>0?(qs(`${i.length}\u500b\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f`,{id:"default-templates",icon:"\u2705",style:{background:"#EFE",color:"#080"}}),c((e=>[...e,...i])),C(),console.log(`Auto-saving template settings for client ID ${t}`),setTimeout((()=>{L()}),1500)):(qs.dismiss("default-templates"),qs("\u3059\u3079\u3066\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u65e2\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059",{icon:"\u2139\ufe0f",duration:3e3}),console.log(`Templates already exist, saving settings for client ID ${t}`),setTimeout((()=>{L()}),1e3))}catch(r){console.error("Error applying default templates:",r),qs("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8a2d\u5b9a\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f",{id:"default-templates",icon:"\u274c",style:{background:"#FEE",color:"#E00"}})}finally{m(!1)}}},C=async()=>{m(!0),console.log("Fetching data for client ID:",t);try{let i=[],o=[],l=[],u=[];try{const e=await Ni.getTaskTemplates();i=Array.isArray(e)?e:[]}catch(e){console.error("Error fetching task templates:",e)}try{const e=await Ni.getTaskTemplateSchedules();o=Array.isArray(e)?e:[]}catch(e){console.error("Error fetching task template schedules:",e)}try{if(t){console.log(`Fetching client templates for client ID ${t}...`);const e=await Ni.getClientTaskTemplates(t);l=Array.isArray(e)?e:[],console.log(`Retrieved ${l.length} client templates:`,l)}}catch(e){console.error("Error fetching client task templates:",e)}try{const e=await ki.getTemplates();u=Array.isArray(e)?e:e&&"object"===typeof e&&e.results||[],console.log("Global templates loaded:",u)}catch(e){console.error("Error fetching global templates:",e),u=[]}s(i),d(o),c(l),h(u);const f={templates_enabled:!0,...r};console.log("==== CURRENT STATE DEBUG INFO ===="),console.log(`Client ID: ${t}`),console.log("Client templates array:",l),console.log("Current settings:",n),console.log("Templates array:",i),console.log("Schedules array:",o),console.log("Global templates:",u),console.log("================================"),Object.entries(nM).forEach((e=>{let[t,r]=e;console.log(`Searching for template for ${aM[t]} (${sM[t]}) in client templates...`);const n=l.find((e=>{var n;if(!e)return!1;if(e.title===aM[t])return console.log(`Found exact title match for ${aM[t]}`),!0;if(e.title===sM[t])return console.log(`Found default title match for ${aM[t]}`),!0;const a=e.title&&e.title.includes(aM[t]),i=aM[t]&&e.title&&aM[t].includes(e.title),o=e.category===r||(null===(n=e.category)||void 0===n?void 0:n.name)&&e.category.name===r,s=a||i||o;return s&&console.log(`Found partial match for ${aM[t]}: ${e.title}`),s}));if(n){var a;console.log(`Found template for ${t}:`,n);const e="object"===typeof n.schedule?null===(a=n.schedule)||void 0===a?void 0:a.id:n.schedule,r=o.find((t=>t.id===e));console.log(`Schedule for ${t}:`,r),f[t]={cycle:r?A(r,t):iM[t],enabled:void 0===n.is_active||!!n.is_active,template_id:n.id,customized:n.customized||!1},console.log(`Set settings for ${t}:`,f[t])}else console.log(`No matching template found for ${t}`)})),console.log("Final settings after extraction:",f),a(f)}catch(e){console.error("Error fetching settings data:",e)}finally{m(!1)}},A=(e,t)=>{const r=e.schedule_type,n=e.recurrence;return"monthly"===n?"monthly":"quarterly"===n?"quarterly":"yearly"===n||"fiscal_relative"===r?"yearly":iM[t]||"monthly"},T=async(e,t,r)=>{try{console.log(`Creating schedule: name=${e}, type=${t}, recurrence=${r}`);const n=await Ni.getTaskTemplateSchedules(),a=(Array.isArray(n)?n:[]).find((t=>t.name===e||t.name&&e&&t.name.includes(e.substring(0,5))||e&&t.name&&e.includes(t.name.substring(0,5))));if(a)return console.log(`Found existing schedule with name ${a.name} that matches ${e}:`,a),a;const i={name:e,schedule_type:t,recurrence:r};"monthly_start"===t?(i.creation_day=1,i.deadline_day=5):"monthly_end"===t?(i.creation_day=25,i.deadline_day=10,i.deadline_next_month=!0):"fiscal_relative"===t?(i.fiscal_date_reference="end_date",i.deadline_day=60):"custom"===t&&(i.creation_day=1,i.deadline_day=10,i.reference_date_type="execution_date",i.creation_date_offset=0,i.deadline_date_offset=10),console.log("Creating schedule with data:",i);const o=await Ni.createTaskTemplateSchedule(i);return console.log("Created new schedule:",o),o}catch(n){return console.error("Error creating default schedule:",n),n.response&&(console.error("Response data:",n.response.data),console.error("Status code:",n.response.status)),null}},P=(e,t,r)=>{const i={...n,[e]:{...n[e],[t]:r}};"recurrence"===t&&(i[e].cycle=r),"cycle"===t&&(i[e].recurrence=r),a(i)},D=async(e,r)=>{try{let a=null,i=sM[e]||`${aM[e]}`;const o=f.filter((t=>{var r;const n=t.title===i||t.template_name===i,a=null===(r=t.title)||void 0===r?void 0:r.toLowerCase().includes(aM[e].toLowerCase());return n||a}));o.length>0&&(a=o[0].id,console.log(`Found global template for ${e}:`,o[0].title));let s=null;const l=`${aM[e]}\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb`;let c=u.find((e=>e.name===l));if(c)s=c.id,console.log(`Using existing schedule for ${e}:`,c.name);else{const t=r.schedule_type||oM[e]||"monthly_start",n=r.recurrence||r.cycle||iM[e];console.log(`Creating new schedule for ${e} with type=${t}, recurrence=${n}`);const a=await T(l,t,n);a&&(s=a.id,d((e=>[...e,a])),c=a,console.log(`Created new schedule for ${e}:`,a.id))}if(!s)return qs.error(`${aM[e]}\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f`),null;let h=null,p=null;try{const t=await Ni.getTaskCategories(),r=await Ni.getTaskPriorities();if(t&&t.length>0){const r={monthly_check:"\u4e00\u822c",bookkeeping:"\u8a18\u5e33\u4ee3\u884c",tax_return:"\u6c7a\u7b97\u30fb\u7533\u544a",income_tax:"\u7a0e\u52d9\u9867\u554f",residence_tax:"\u7a0e\u52d9\u9867\u554f",social_insurance:"\u7d66\u4e0e\u8a08\u7b97"}[e]||"\u4e00\u822c",n=t.find((e=>e.name===r));n?(h=n.id,console.log(`Found category for ${e}:`,n.name)):(h=t[0].id,console.log(`Using default category for ${e}:`,t[0].name))}if(r&&r.length>0){let t=null;if(t=r.find((e=>50===e.priority_value)),t||(t=r.find((e=>"\u4e2d"===e.name))),!t){const e=r.filter((e=>e.priority_value>=30&&e.priority_value<=70));e.length>0&&(t=e.reduce(((e,t)=>Math.abs(t.priority_value-50)<Math.abs(e.priority_value-50)?t:e)))}t?(p=t.id,console.log(`Found priority for ${e}:`,t.priority_value)):(p=r[0].id,console.log(`Using default priority for ${e}:`,r[0].priority_value))}}catch(n){console.error("Error fetching categories or priorities:",n)}const m={title:sM[e]||`${aM[e]}`,description:lM[e]||`${aM[e]}\u306e\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8`,schedule:s,is_active:!1!==r.enabled,category:h,priority:p,template_task:a};console.log(`Creating template for ${e} with data:`,m);const y=await Ni.createClientTaskTemplate(t,m);return y&&c&&(y.schedule_name=c.name),qs.success(`${aM[e]}\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f`),y}catch(n){return console.error(`Error creating template for ${e}:`,n),qs.error(`\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ${n.message||"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}`),null}},M=async e=>{if(!x)return void qs.error("\u30b5\u30fc\u30d3\u30b9\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093");const r=await(async(e,r)=>{try{var a,i;const o=f.find((e=>e.id===r));if(!o)return qs.error("\u9078\u629e\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"),null;let s=null;const l=`${aM[e]}\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb`,c=u.find((e=>e.name===l));if(c)s=c.id;else{const t=n[e],r=(null===t||void 0===t?void 0:t.schedule_type)||oM[e]||"monthly_start",a=(null===t||void 0===t?void 0:t.recurrence)||(null===t||void 0===t?void 0:t.cycle)||iM[e],i=await T(l,r,a);i&&(s=i.id,d((e=>[...e,i])))}if(!s)return qs.error(`${aM[e]}\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f`),null;const h={title:o.title||o.template_name,description:o.description||`${aM[e]}\u306e\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8`,schedule:s,is_active:!0,category:null===(a=o.category)||void 0===a?void 0:a.id,priority:null===(i=o.priority)||void 0===i?void 0:i.id,estimated_hours:o.estimated_hours},p=await Ni.createClientTaskTemplate(t,h);return qs.success(`${aM[e]}\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f`),p}catch(o){return console.error(`Error copying template for ${e}:`,o),qs.error(`\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ${o.message||"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}`),null}})(x,e);r&&(c((e=>[...e,r])),P(x,"template_id",r.id)),b(!1),w(null)},I=async(e,t)=>{if(!t){if(f.length>0)return void(e=>{w(e),b(!0)})(e);const t=n[e];if(!t)return void qs.error("\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093");const r=await D(e,t);return void(r&&(c((e=>[...e,r])),P(e,"template_id",r.id),qs.success(`${aM[e]}\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f`)))}const r=l.find((e=>e.id===t));if(r){const t={...r,originalTitle:r.title,title:j?`${j.name}_${r.title}`:r.title};O(t),w(e),N(!0)}},L=async()=>{g(!0);try{const r=[],a=[];for(const[i,o]of Object.entries(n)){if("templates_enabled"===i)continue;if(nM[i])if(n.templates_enabled&&o.enabled&&o.template_id){const n=l.find((e=>e.id===o.template_id));if(n)try{var e;let s=null;const l="object"===typeof n.schedule?null===(e=n.schedule)||void 0===e?void 0:e.id:n.schedule,c=u.find((e=>e.id===l));if(c){const e={schedule_type:o.schedule_type||"monthly_start",recurrence:o.recurrence||o.cycle||"monthly"};"custom"===o.schedule_type&&(o.creation_day&&(e.creation_day=o.creation_day),o.deadline_day&&(e.deadline_day=o.deadline_day));try{const t=Ni.updateTaskTemplateSchedule(c.id,e).then((e=>(s=e.id,e))).catch((e=>(console.error(`Error updating schedule for ${i}:`,e),s=c.id,null)));a.push(t)}catch(t){console.error(`Error preparing schedule update for ${i}:`,t),s=c.id}}else l&&(s=l);const d={is_active:o.enabled,schedule:s},f=Ni.updateClientTaskTemplate(n.id,d).catch((e=>(console.error(`Error updating template ${n.id}:`,e),null)));r.push(f)}catch(t){console.error(`Error preparing update for template ${n.id}:`,t)}}else if(o.template_id){const e=l.find((e=>e.id===o.template_id));if(e)try{const t=Ni.updateClientTaskTemplate(e.id,{is_active:!1}).catch((t=>(console.error(`Error disabling template ${e.id}:`,t),null)));r.push(t)}catch(t){console.error(`Error preparing disable for template ${e.id}:`,t)}}}a.length>0&&await Promise.all(a),r.length>0?(await Promise.all(r),qs.success("\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f")):a.length>0?qs.success("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f"):qs.info("\u5909\u66f4\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f"),C()}catch(t){console.error("Error saving service settings:",t),qs.error("\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{g(!1)}};if(p)return(0,Vr.jsx)("div",{className:"flex justify-center py-4",children:(0,Vr.jsx)("span",{className:"loading loading-spinner loading-md"})});return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden mt-6",children:[v?(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,Vr.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(UE,{className:"mr-2 text-primary"}),x?`${aM[x]}\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e`:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e"]}),(0,Vr.jsx)("button",{className:"btn btn-sm btn-ghost",onClick:()=>{b(!1),w(null)},children:"\xd7"})]}),(0,Vr.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:0===f.length?(0,Vr.jsx)("div",{className:"text-center py-8",children:(0,Vr.jsx)("p",{className:"text-gray-500",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305a\u306f\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30da\u30fc\u30b8\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}):(0,Vr.jsx)("div",{className:"space-y-4",children:f.map((e=>(0,Vr.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>M(e.id),children:[(0,Vr.jsx)("h4",{className:"font-medium",children:e.template_name||e.title}),(0,Vr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description||"\u8aac\u660e\u306a\u3057"}),(0,Vr.jsxs)("div",{className:"flex items-center mt-2 text-xs",children:[e.category&&(0,Vr.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full mr-2",children:e.category.name}),e.estimated_hours&&(0,Vr.jsxs)("span",{className:"text-gray-500",children:[(0,Vr.jsx)(PE,{className:"inline mr-1"}),e.estimated_hours,"\u6642\u9593"]})]})]},e.id)))})}),(0,Vr.jsx)("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:(0,Vr.jsx)("button",{className:"btn btn-outline",onClick:()=>{b(!1),w(null)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})})]})}):null,k&&S?(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,Vr.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(GE,{className:"mr-2 text-primary"}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u4fdd\u5b58"]}),(0,Vr.jsx)("button",{className:"btn btn-sm btn-ghost",onClick:()=>{N(!1),O(null)},children:"\xd7"})]}),(0,Vr.jsxs)("div",{className:"p-6",children:[(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u4fdd\u5b58\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f ",(0,Vr.jsx)("a",{href:"/tasks/templates",className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e00\u89a7"})," \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"]}),(0,Vr.jsxs)("div",{className:"form-control w-full mb-4",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d"})}),(0,Vr.jsx)("input",{type:"text",className:"input input-bordered w-full",value:S.title,onChange:e=>O({...S,title:e.target.value})}),(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsxs)("span",{className:"label-text-alt",children:["\u30c7\u30d5\u30a9\u30eb\u30c8: ",S.originalTitle]})})]}),(0,Vr.jsxs)("div",{className:"form-control w-full mb-4",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u8aac\u660e"})}),(0,Vr.jsx)("textarea",{className:"textarea textarea-bordered w-full",value:S.description||"",onChange:e=>O({...S,description:e.target.value})})]})]}),(0,Vr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Vr.jsx)("button",{className:"btn btn-outline",onClick:()=>{N(!1),O(null)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{className:"btn btn-primary",onClick:async()=>{await(async e=>{try{var t,r;const n=l.find((t=>t.id===e.id));if(!n)throw new Error("\u30bd\u30fc\u30b9\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093");const a={title:e.title,description:e.description||n.description,is_template:!0,category:(null===(t=n.category)||void 0===t?void 0:t.id)||null,priority:(null===(r=n.priority)||void 0===r?void 0:r.id)||null,estimated_hours:n.estimated_hours||0};console.log("Creating global template with data:",a);const i=await ki.createTemplateTask(a);return console.log("Created global template:",i),h((e=>[...e,i])),qs(`\u30b0\u30ed\u30fc\u30d0\u30eb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u300c${e.title}\u300d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f`,{icon:"\u2705",style:{background:"#EFE",color:"#080"}}),i}catch(n){return console.error("Error saving customized template:",n),qs(`\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ${n.message||"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}`,{icon:"\u274c",style:{background:"#FEE",color:"#E00"}}),null}})(S)&&(N(!1),O(null))},children:"\u4fdd\u5b58\u3059\u308b"})]})]})]})}):null,(0,Vr.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[(0,Vr.jsx)("h3",{className:"font-semibold text-gray-800 flex items-center",children:(0,Vr.jsx)(rC,{className:"mr-2 text-primary"})}),(0,Vr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vr.jsx)("button",{className:"btn btn-sm btn-outline",onClick:C,disabled:p||y,children:(0,Vr.jsx)(ZE,{className:p?"animate-spin":""})}),(0,Vr.jsx)("button",{className:"btn btn-sm btn-primary",onClick:L,disabled:p||y,children:y?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-xs mr-1"}),"\u4fdd\u5b58\u4e2d..."]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(SE,{className:"mr-1"})," \u4fdd\u5b58"]})})]})]}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("table",{className:"w-full table-auto border-collapse",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u9805\u76ee\u540d"}),(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:(0,Vr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vr.jsx)("span",{children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f7f\u7528"}),(0,Vr.jsx)("div",{className:"form-control",children:(0,Vr.jsx)("label",{className:"cursor-pointer label p-0",children:(0,Vr.jsx)("input",{type:"checkbox",className:"toggle toggle-primary toggle-sm",checked:n.templates_enabled,onChange:e=>{a({...n,templates_enabled:e.target.checked})}})})})]})})]})}),(0,Vr.jsx)("tbody",{children:Object.entries(nM).map((e=>{var t,r,a,o,s,c,u;let[d,f]=e;return(0,Vr.jsxs)("tr",{className:"border-b",children:[(0,Vr.jsx)("td",{className:"px-4 py-3 font-medium",children:aM[d]}),(0,Vr.jsx)("td",{className:"px-4 py-3",children:(0,Vr.jsx)("select",{className:"select select-bordered select-sm w-full max-w-xs",value:(null===(t=n[d])||void 0===t?void 0:t.cycle)||iM[d],onChange:e=>P(d,"cycle",e.target.value),disabled:!n.templates_enabled,children:"tax_return"===d||"residence_tax"===d?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("option",{value:"yearly",children:"\u5e74\u6b21"}),(0,Vr.jsx)("option",{value:"quarterly",children:"\u56db\u534a\u671f"}),(0,Vr.jsx)("option",{value:"monthly",children:"\u6bce\u6708"})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("option",{value:"monthly",children:"\u6bce\u6708"}),(0,Vr.jsx)("option",{value:"quarterly",children:"\u56db\u534a\u671f"}),(0,Vr.jsx)("option",{value:"yearly",children:"\u5e74\u6b21"})]})})}),(0,Vr.jsx)("td",{className:"px-4 py-3",children:(0,Vr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vr.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:(null===(r=n[d])||void 0===r?void 0:r.enabled)||!1,onChange:e=>P(d,"enabled",e.target.checked),disabled:!n.templates_enabled}),(0,Vr.jsxs)("select",{className:"select select-bordered select-sm w-full max-w-xs",value:(null===(a=n[d])||void 0===a?void 0:a.template_id)||"",onChange:e=>P(d,"template_id",e.target.value?Number(e.target.value):null),disabled:!n.templates_enabled||!(null!==(o=n[d])&&void 0!==o&&o.enabled),children:[(0,Vr.jsx)("option",{value:"",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u9078\u629e"}),Array.isArray(l)&&l.filter((e=>e&&(e.title===aM[d]||e.title===sM[d]||e.title&&e.title.includes(aM[d])||"social_insurance"===d&&e.title&&(e.title.includes("\u793e\u4f1a\u4fdd\u967a")||e.title.includes("\u793e\u4fdd"))||e.title&&aM[d]&&aM[d].includes(e.title.split(" ")[0])))).map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.title},`client-${e.id}`))),Array.isArray(i)&&i.filter((e=>{var t,r;return e&&(e.category===f||(null===(t=e.title)||void 0===t?void 0:t.includes(aM[d]))||e.title===sM[d]||"social_insurance"===d&&e.title&&(e.title.includes("\u793e\u4f1a\u4fdd\u967a")||e.title.includes("\u793e\u4fdd"))||e.title&&aM[d]&&aM[d].includes(null===(r=e.title)||void 0===r?void 0:r.split(" ")[0]))})).map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.title},e.id)))]}),(0,Vr.jsx)("button",{className:"btn btn-sm "+(null!==(s=n[d])&&void 0!==s&&s.template_id?"btn-outline btn-primary":"btn-outline btn-success"),onClick:()=>{var e;return I(d,null===(e=n[d])||void 0===e?void 0:e.template_id)},disabled:!n.templates_enabled||!(null!==(c=n[d])&&void 0!==c&&c.enabled),children:null!==(u=n[d])&&void 0!==u&&u.template_id?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(GE,{className:"mr-1"})," \u30ab\u30b9\u30bf\u30de\u30a4\u30ba"]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(AE,{className:"mr-1"})," \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u9078\u629e/\u4f5c\u6210"]})})]})})]},d)}))})]})})]})},uM={advisory:{name:"\u9867\u554f\u5951\u7d04",fee_cycle:"monthly",status:"active"},tax_return_final:{name:"\u6c7a\u7b97\u7533\u544a",fee_cycle:"yearly",status:"active"},tax_return_interim:{name:"\u4e2d\u9593\u7533\u544a",fee_cycle:"yearly",status:"active"},tax_return_provisional:{name:"\u4e88\u5b9a\u7533\u544a",fee_cycle:"yearly",status:"active"},bookkeeping:{name:"\u8a18\u5e33\u4ee3\u884c",fee_cycle:"monthly",status:"active"},payroll:{name:"\u7d66\u4e0e\u8a08\u7b97",fee_cycle:"monthly",status:"active"},tax_withholding_standard:{name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u539f\u5247)",fee_cycle:"monthly",status:"active"},tax_withholding_special:{name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u7279\u4f8b)",fee_cycle:"monthly",status:"active"},resident_tax_standard:{name:"\u4f4f\u6c11\u7a0e(\u539f\u5247)",fee_cycle:"monthly",status:"active"},resident_tax_special:{name:"\u4f4f\u6c11\u7a0e(\u7279\u4f8b)",fee_cycle:"monthly",status:"active"},social_insurance:{name:"\u793e\u4f1a\u4fdd\u967a",fee_cycle:"monthly",status:"active"},other:{name:"\u305d\u306e\u4ed6",fee_cycle:"monthly",status:"active"}},dM=[{id:1,name:"\u9867\u554f\u5951\u7d04",is_custom:!1},{id:2,name:"\u6c7a\u7b97\u7533\u544a",is_custom:!1},{id:3,name:"\u4e2d\u9593\u7533\u544a",is_custom:!1},{id:4,name:"\u4e88\u5b9a\u7533\u544a",is_custom:!1},{id:5,name:"\u8a18\u5e33\u4ee3\u884c",is_custom:!1},{id:6,name:"\u7d66\u4e0e\u8a08\u7b97",is_custom:!1},{id:7,name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u539f\u5247)",is_custom:!1},{id:8,name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u7279\u4f8b)",is_custom:!1},{id:9,name:"\u4f4f\u6c11\u7a0e(\u539f\u5247)",is_custom:!1},{id:10,name:"\u4f4f\u6c11\u7a0e(\u7279\u4f8b)",is_custom:!1},{id:11,name:"\u793e\u4f1a\u4fdd\u967a",is_custom:!1},{id:12,name:"\u305d\u306e\u4ed6",is_custom:!0}],fM=e=>{let{clientId:t,contract:r=null,contractType:n=null,onSave:a=()=>{},onCancel:i=()=>{},onDelete:s=()=>{}}=e;const[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(""),[y,g]=(0,o.useState)((()=>{const e={client:t,service:"",status:"active",start_date:(new Date).toISOString().split("T")[0],end_date:"",fee:"",fee_cycle:"monthly",notes:"",custom_service_name:""};if(n&&uM[n]){const t=uM[n];e.fee_cycle=t.fee_cycle,e.status=t.status,"other"===n&&(e.custom_service_name="")}return e})());(0,o.useEffect)((()=>{if((async()=>{try{c(!0),console.log("Fetching contract services...");let t=[];try{const e=await Ni.getContractServices();console.log("Contract services response:",e),Array.isArray(e)&&e.length>0?t=e:e&&e.results&&e.results.length>0?t=e.results:(console.log("No valid data from API, using default services"),t=dM)}catch(e){console.error("Error with API endpoint:",e),t=dM}console.log("Using service data:",t),h(t)}catch(t){console.error("Error in fetchServices:",t),h(dM),hs.error("\u30b5\u30fc\u30d3\u30b9\u4e00\u89a7\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002")}finally{c(!1)}})(),r)g({client:t,service:r.service||"",status:r.status||"active",start_date:r.start_date?new Date(r.start_date).toISOString().split("T")[0]:"",end_date:r.end_date?new Date(r.end_date).toISOString().split("T")[0]:"",fee:r.fee||"",fee_cycle:r.fee_cycle||"monthly",notes:r.notes||"",custom_service_name:r.custom_service_name||""}),r.service_data&&r.service_data.is_custom&&m(r.custom_service_name||"");else if(n){(async()=>{await new Promise((e=>{const t=()=>{f.length>0?e():setTimeout(t,500)};t()})),console.log(`Finding service for contract type: ${n}`);let e=null;if(uM[n]){const t=uM[n].name;e=f.find((e=>e.name.includes(t)||e.category&&e.category.includes(n)))}var t;(!e&&f.length>0&&(e="other"===n&&f.find((e=>e.is_custom))||f[0]),e)&&(console.log(`Selected service for ${n}:`,e),g((t=>{var r;return{...t,service:e.id.toString(),custom_service_name:"other"===n?"":(null===(r=uM[n])||void 0===r?void 0:r.name)||""}})),e.is_custom&&m((null===(t=uM[n])||void 0===t?void 0:t.name)||""))})()}}),[t,r,n]);const v=e=>{const{name:t,value:r}=e.target;if(g((e=>({...e,[t]:r}))),"service"===t){const e=f.find((e=>e.id.toString()===r));e&&e.is_custom?m(y.custom_service_name||""):m("")}"custom_service_name"===t&&m(r)};return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[r&&r.id?"\u5951\u7d04\u60c5\u5831\u306e\u7de8\u96c6":"\u65b0\u898f\u5951\u7d04\u60c5\u5831\u306e\u767b\u9332",n&&uM[n]&&!r&&` - ${uM[n].name}`]}),(0,Vr.jsxs)("div",{className:"flex space-x-2",children:[r&&r.id&&(0,Vr.jsxs)("button",{type:"button",onClick:async()=>{if(r&&r.id&&window.confirm("\u3053\u306e\u5951\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{d(!0);let i=!1;try{await Ni.deleteContract(r.id),i=!0,hs.success("\u5951\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3057\u305f")}catch(e){console.error("API error deleting contract:",e),hs.success("\u5951\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3057\u305f (\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u524a\u9664)")}try{console.log(`Removing contract from localStorage for client ${t}`,r.id);const e=localStorage.getItem(`client_${t}_contracts`);console.log("Existing contracts in localStorage:",e);let a=[];try{a=e?JSON.parse(e):[],Array.isArray(a)||(console.warn("Existing contracts is not an array, resetting to empty array"),a=[])}catch(n){console.error("Error parsing localStorage contracts:",n),a=[]}const i=a.filter((e=>e.id!==r.id));localStorage.setItem(`client_${t}_contracts`,JSON.stringify(i)),console.log("Contract removed from localStorage. Updated contracts:",i)}catch(a){console.error("Error removing from localStorage:",a)}s()}catch(i){console.error("Error in delete handler:",i),hs.error("\u5951\u7d04\u60c5\u5831\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{d(!1)}},disabled:u||l,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1 rounded-md text-sm flex items-center",children:[(0,Vr.jsx)(nC,{className:"mr-1"})," \u524a\u9664"]}),(0,Vr.jsxs)("button",{type:"button",onClick:i,disabled:u,className:"bg-gray-100 text-gray-600 hover:bg-gray-200 px-3 py-1 rounded-md text-sm flex items-center",children:[(0,Vr.jsx)(iC,{className:"mr-1"})," \u30ad\u30e3\u30f3\u30bb\u30eb"]})]})]}),l?(0,Vr.jsx)("div",{className:"flex justify-center py-4",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):(0,Vr.jsxs)("div",{className:"contract-form-container",children:[(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30b5\u30fc\u30d3\u30b9 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("select",{name:"service",value:y.service,onChange:v,required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"",children:"\u30b5\u30fc\u30d3\u30b9\u3092\u9078\u629e"}),0===f.length?(0,Vr.jsx)("option",{value:"",disabled:!0,children:"\u30b5\u30fc\u30d3\u30b9\u304c\u3042\u308a\u307e\u305b\u3093"}):f.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]}),0===f.length&&(0,Vr.jsx)("div",{className:"mt-1 text-xs text-red-500",children:"\u30b5\u30fc\u30d3\u30b9\u9805\u76ee\u304c\u307e\u3060\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u8005\u306b\u9023\u7d61\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}),(()=>{const e=f.find((e=>e.id.toString()===y.service.toString()));return e&&e.is_custom})()&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30ab\u30b9\u30bf\u30e0\u30b5\u30fc\u30d3\u30b9\u540d ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsx)("input",{type:"text",name:"custom_service_name",value:y.custom_service_name,onChange:v,required:!0,placeholder:"\u30b5\u30fc\u30d3\u30b9\u540d\u3092\u5165\u529b",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5951\u7d04\u72b6\u614b"}),(0,Vr.jsxs)("select",{name:"status",value:y.status,onChange:v,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"active",children:"\u5951\u7d04\u4e2d"}),(0,Vr.jsx)("option",{value:"suspended",children:"\u4f11\u6b62\u4e2d"}),(0,Vr.jsx)("option",{value:"terminated",children:"\u7d42\u4e86"}),(0,Vr.jsx)("option",{value:"preparing",children:"\u6e96\u5099\u4e2d"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u958b\u59cb\u65e5 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsx)("input",{type:"date",name:"start_date",value:y.start_date,onChange:v,required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d42\u4e86\u65e5"}),(0,Vr.jsx)("input",{type:"date",name:"end_date",value:y.end_date,onChange:v,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5831\u916c\u984d"}),(0,Vr.jsx)("input",{type:"number",name:"fee",value:y.fee,onChange:v,placeholder:"0",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5831\u916c\u30b5\u30a4\u30af\u30eb"}),(0,Vr.jsxs)("select",{name:"fee_cycle",value:y.fee_cycle,onChange:v,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"monthly",children:"\u6708\u6b21"}),(0,Vr.jsx)("option",{value:"quarterly",children:"\u56db\u534a\u671f"}),(0,Vr.jsx)("option",{value:"yearly",children:"\u5e74\u6b21"}),(0,Vr.jsx)("option",{value:"one_time",children:"\u4e00\u6642\u91d1"})]})]}),(0,Vr.jsxs)("div",{className:"md:col-span-2",children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5099\u8003"}),(0,Vr.jsx)("textarea",{name:"notes",value:y.notes,onChange:v,rows:"3",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]}),(0,Vr.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Vr.jsx)("button",{type:"button",onClick:async e=>{if(e&&e.preventDefault&&e.preventDefault(),!y.service)return void hs.error("\u30b5\u30fc\u30d3\u30b9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044");if(!y.start_date)return void hs.error("\u958b\u59cb\u65e5\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");if(y.end_date&&new Date(y.end_date)<new Date(y.start_date))return void hs.error("\u7d42\u4e86\u65e5\u306f\u958b\u59cb\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044");if(y.end_date&&!/^\d{4}-\d{2}-\d{2}$/.test(y.end_date))return void hs.error("\u7d42\u4e86\u65e5\u306e\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002YYYY-MM-DD\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");const n=f.find((e=>e.id.toString()===y.service.toString()));if(n&&n.is_custom&&!y.custom_service_name)hs.error("\u30ab\u30b9\u30bf\u30e0\u30b5\u30fc\u30d3\u30b9\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");else try{d(!0);const e={...y,client:parseInt(t)};console.log("\u5951\u7d04\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u307e\u3059:",e);const l={...e,id:(null===r||void 0===r?void 0:r.id)||Date.now(),service_name:n?n.is_custom?y.custom_service_name:n.name:y.custom_service_name||"\u672a\u8a2d\u5b9a",status_display:{active:"\u5951\u7d04\u4e2d",suspended:"\u4f11\u6b62\u4e2d",terminated:"\u7d42\u4e86",preparing:"\u6e96\u5099\u4e2d"}[y.status]||y.status,created_at:(null===r||void 0===r?void 0:r.created_at)||(new Date).toISOString(),updated_at:(new Date).toISOString()};let c=!1;try{if(r&&r.id){console.log(`\u5951\u7d04ID ${r.id} \u3092\u66f4\u65b0\u3057\u307e\u3059`);const t=await Ni.updateContract(r.id,e);console.log("API\u5951\u7d04\u66f4\u65b0\u30ec\u30b9\u30dd\u30f3\u30b9:",t),c=!0,hs.success("\u5951\u7d04\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")}else{console.log("\u65b0\u898f\u5951\u7d04\u3092\u4f5c\u6210\u3057\u307e\u3059");const t=await Ni.createContract(e);console.log("API\u5951\u7d04\u4f5c\u6210\u30ec\u30b9\u30dd\u30f3\u30b9:",t),c=!0,hs.success("\u5951\u7d04\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3057\u305f")}}catch(i){if(console.error("\u5951\u7d04\u4fdd\u5b58\u6642\u306eAPI\u30a8\u30e9\u30fc:",i),i.response&&i.response.data){const e=i.response.data;let t="\u5951\u7d04\u60c5\u5831\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";if("object"===typeof e){const r=[];Object.keys(e).forEach((t=>{Array.isArray(e[t])?r.push(`${t}: ${e[t].join(", ")}`):"string"===typeof e[t]&&r.push(`${t}: ${e[t]}`)})),r.length>0&&(t+=": "+r.join("; "))}hs.error(t)}else hs.success("\u5951\u7d04\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f (\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58)")}try{console.log(`\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID ${t} \u306e\u5951\u7d04\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059`);const e=`client_${t}_contracts`,n=localStorage.getItem(e);console.log("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u65e2\u5b58\u5951\u7d04:",n);let a=[];try{a=n?JSON.parse(n):[],Array.isArray(a)||(console.warn("\u65e2\u5b58\u306e\u5951\u7d04\u30c7\u30fc\u30bf\u304c\u914d\u5217\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u7a7a\u306e\u914d\u5217\u306b\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059"),a=[])}catch(o){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u89e3\u6790\u30a8\u30e9\u30fc:",o),a=[]}let i=[];if(null!==r&&void 0!==r&&r.id){a.some((e=>e.id===r.id))?(i=a.map((e=>e.id===r.id?l:e)),console.log(`\u5951\u7d04ID ${r.id} \u3092\u66f4\u65b0\u3057\u307e\u3057\u305f`)):(i=[...a,l],console.log(`\u5951\u7d04ID ${r.id} \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u305f\u3081\u3001\u65b0\u898f\u306b\u8ffd\u52a0\u3057\u307e\u3057\u305f`))}else i=[...a,l],console.log(`\u65b0\u898f\u5951\u7d04ID ${l.id} \u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f`);localStorage.setItem(e,JSON.stringify(i)),console.log(`${i.length}\u4ef6\u306e\u5951\u7d04\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3057\u305f`),console.log("\u73fe\u5728\u306e\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5951\u7d04\u30c7\u30fc\u30bf:",i)}catch(s){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u4fdd\u5b58\u30a8\u30e9\u30fc:",s)}a()}catch(l){console.error("\u4fdd\u5b58\u51e6\u7406\u4e2d\u306e\u30a8\u30e9\u30fc:",l),hs.error("\u5951\u7d04\u60c5\u5831\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{d(!1)}},disabled:u,className:"bg-primary-600 text-white hover:bg-primary-700 px-4 py-2 rounded-md text-sm flex items-center",children:u?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(eC,{className:"mr-1"}),"\u4fdd\u5b58"]})})})]})]})},hM=[{id:1,name:"\u9867\u554f\u5951\u7d04",is_custom:!1},{id:2,name:"\u6c7a\u7b97\u7533\u544a",is_custom:!1},{id:3,name:"\u4e2d\u9593\u7533\u544a",is_custom:!1},{id:4,name:"\u4e88\u5b9a\u7533\u544a",is_custom:!1},{id:5,name:"\u8a18\u5e33\u4ee3\u884c",is_custom:!1},{id:6,name:"\u7d66\u4e0e\u8a08\u7b97",is_custom:!1},{id:7,name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u539f\u5247)",is_custom:!1},{id:8,name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u7279\u4f8b)",is_custom:!1},{id:9,name:"\u4f4f\u6c11\u7a0e(\u539f\u5247)",is_custom:!1},{id:10,name:"\u4f4f\u6c11\u7a0e(\u7279\u4f8b)",is_custom:!1},{id:11,name:"\u793e\u4f1a\u4fdd\u967a",is_custom:!1},{id:12,name:"\u305d\u306e\u4ed6",is_custom:!0}],pM=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-yellow-100 text-yellow-800";case"terminated":return"bg-red-100 text-red-800";case"preparing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},mM=e=>{let{isOpen:t,onClose:r,clientId:n,contractType:a,contractTypeName:i,onSaveComplete:s}=e;const[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!0),[f,h]=(0,o.useState)(null),[p,m]=(0,o.useState)(!1),[y,g]=(0,o.useState)([]),[v,b]=(0,o.useState)({client:n,service:"",status:"active",start_date:(new Date).toISOString().split("T")[0],end_date:"",fee:"",fee_cycle:"monthly",notes:"",custom_service_name:""}),[x,w]=(0,o.useState)(!1);(0,o.useEffect)((()=>{t&&(j(),_())}),[t,n,a]);const j=async()=>{if(n){d(!0);try{const t=`client_${n}_contracts`;let r=[];try{const e=localStorage.getItem(t);r=e?JSON.parse(e):[],Array.isArray(r)||(console.warn("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u304c\u914d\u5217\u3067\u306f\u3042\u308a\u307e\u305b\u3093:",r),r=[])}catch(e){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc:",e),r=[]}const o=r.filter((e=>{const t=e.service_name||e.custom_service_name||"",r=e.service?e.service.toString():"";switch(a){case"advisory":return t.includes("\u9867\u554f\u5951\u7d04")||"1"===r;case"bookkeeping":return t.includes("\u8a18\u5e33\u4ee3\u884c")||"2"===r;case"payroll":return t.includes("\u7d66\u4e0e\u8a08\u7b97")||"3"===r;case"tax_withholding_standard":return t.includes("\u6e90\u6cc9\u6240\u5f97\u7a0e")&&(t.includes("\u539f\u5247")||!t.includes("\u7279\u4f8b"))||"4"===r;case"tax_withholding_special":return t.includes("\u6e90\u6cc9\u6240\u5f97\u7a0e")&&t.includes("\u7279\u4f8b")||"5"===r;case"resident_tax_standard":return t.includes("\u4f4f\u6c11\u7a0e")&&(t.includes("\u539f\u5247")||!t.includes("\u7279\u4f8b"))||"6"===r;case"resident_tax_special":return t.includes("\u4f4f\u6c11\u7a0e")&&t.includes("\u7279\u4f8b")||"7"===r;case"social_insurance":return t.includes("\u793e\u4f1a\u4fdd\u967a")||"8"===r;case"other":return t.includes("\u305d\u306e\u4ed6")||"9"===r;default:return t.includes(i)}})).sort(((e,t)=>new Date(t.start_date)-new Date(e.start_date)));console.log(`\u5951\u7d04\u5c65\u6b74: ${a||i}`,o),c(o);const s=hM.find((e=>e.name===i));s&&b((e=>({...e,service:s.id.toString(),custom_service_name:s.is_custom?i:""})))}catch(f){console.error("\u5951\u7d04\u5c65\u6b74\u53d6\u5f97\u4e2d\u306e\u30a8\u30e9\u30fc:",f),h("\u5951\u7d04\u5c65\u6b74\u306e\u8868\u793a\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f")}finally{d(!1)}}},_=async()=>{try{g(hM);const e=hM.find((e=>e.name===i));e&&b((t=>({...t,service:e.id.toString(),custom_service_name:e.is_custom?i:""})))}catch(f){console.error("\u30b5\u30fc\u30d3\u30b9\u53d6\u5f97\u30a8\u30e9\u30fc:",f),hs.error("\u30b5\u30fc\u30d3\u30b9\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},k=e=>{const{name:t,value:r}=e.target;if(b({...v,[t]:r}),"service"===t){const e=y.find((e=>e.id.toString()===r));e&&!e.is_custom&&b((e=>({...e,[t]:r,custom_service_name:""})))}};return t?(0,Vr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Vr.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("button",{className:"mr-2 text-gray-500 hover:text-gray-700",onClick:r,children:(0,Vr.jsx)(xE,{className:"h-5 w-5"})}),(0,Vr.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[i,"\u306e\u5951\u7d04\u5c65\u6b74"]})]}),(0,Vr.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:r,children:(0,Vr.jsx)(iC,{className:"h-5 w-5"})})]}),(0,Vr.jsx)("div",{className:"overflow-auto flex-grow p-4",children:u?(0,Vr.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}):(0,Vr.jsxs)(Vr.Fragment,{children:[l.length>0?(0,Vr.jsxs)("div",{className:"mb-6",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"\u5951\u7d04\u5c65\u6b74"}),(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30b5\u30fc\u30d3\u30b9\u540d"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u5951\u7d04\u671f\u9593"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u5831\u916c"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u64cd\u4f5c"})]})}),(0,Vr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((e=>{return(0,Vr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.service_name||e.custom_service_name||"\u672a\u8a2d\u5b9a"}),(0,Vr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(e.start_date).toLocaleDateString("ja-JP"),e.end_date?` \u301c ${new Date(e.end_date).toLocaleDateString("ja-JP")}`:" \u301c \u73fe\u5728"]}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${pM(e.status)}`,children:e.status_display||(r=e.status,{active:"\u5951\u7d04\u4e2d",suspended:"\u4f11\u6b62\u4e2d",terminated:"\u7d42\u4e86",preparing:"\u6e96\u5099\u4e2d",none:"\u672a\u8a2d\u5b9a"}[r]||r)})}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.fee?`${parseInt(e.fee).toLocaleString()}\u5186 (${t=e.fee_cycle,{monthly:"\u6708\u6b21",quarterly:"\u56db\u534a\u671f",yearly:"\u5e74\u6b21",one_time:"\u4e00\u6642\u91d1"}[t]||t||"\u672a\u8a2d\u5b9a"})`:"\u672a\u8a2d\u5b9a"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Vr.jsx)("button",{onClick:()=>(async e=>{if(e&&window.confirm("\u3053\u306e\u5951\u7d04\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f\u3053\u306e\u64cd\u4f5c\u306f\u5143\u306b\u623b\u305b\u307e\u305b\u3093\u3002"))try{await Ni.deleteContract(e),hs.success("\u5951\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),j(),s&&s()}catch(f){console.error("\u5951\u7d04\u524a\u9664\u30a8\u30e9\u30fc:",f),hs.error("\u5951\u7d04\u60c5\u5831\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(e.id),className:"text-red-600 hover:text-red-900",title:"\u524a\u9664",children:(0,Vr.jsx)(nC,{className:"h-5 w-5"})})})]},e.id);var t,r}))})]})})]}):(0,Vr.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg mb-6",children:[(0,Vr.jsx)(RE,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Vr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"\u5951\u7d04\u5c65\u6b74\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,Vr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"\u3053\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u5951\u7d04\u5c65\u6b74\u306f\u307e\u3060\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"})]}),p?(0,Vr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium text-gray-700",children:"\u65b0\u898f\u5951\u7d04\u306e\u767b\u9332"}),(0,Vr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Vr.jsx)(iC,{className:"h-5 w-5"})})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30b5\u30fc\u30d3\u30b9"}),(0,Vr.jsxs)("select",{name:"service",value:v.service,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"",children:"\u30b5\u30fc\u30d3\u30b9\u3092\u9078\u629e"}),y.length>0?y.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id))):(0,Vr.jsx)("option",{disabled:!0,children:"\u30b5\u30fc\u30d3\u30b9\u304c\u3042\u308a\u307e\u305b\u3093"})]})]}),(()=>{if(!v.service)return!1;const e=y.find((e=>e.id.toString()===v.service.toString()));return e&&e.is_custom})()&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30ab\u30b9\u30bf\u30e0\u30b5\u30fc\u30d3\u30b9\u540d"}),(0,Vr.jsx)("input",{type:"text",name:"custom_service_name",value:v.custom_service_name,onChange:k,placeholder:"\u30b5\u30fc\u30d3\u30b9\u540d\u3092\u5165\u529b",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5951\u7d04\u72b6\u614b"}),(0,Vr.jsxs)("select",{name:"status",value:v.status,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"active",children:"\u5951\u7d04\u4e2d"}),(0,Vr.jsx)("option",{value:"suspended",children:"\u4f11\u6b62\u4e2d"}),(0,Vr.jsx)("option",{value:"terminated",children:"\u7d42\u4e86"}),(0,Vr.jsx)("option",{value:"preparing",children:"\u6e96\u5099\u4e2d"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u958b\u59cb\u65e5"}),(0,Vr.jsx)("input",{type:"date",name:"start_date",value:v.start_date,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d42\u4e86\u65e5 (\u7a7a\u6b04\u306e\u5834\u5408\u306f\u73fe\u5728\u9032\u884c\u4e2d)"}),(0,Vr.jsx)("input",{type:"date",name:"end_date",value:v.end_date,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5831\u916c\u984d"}),(0,Vr.jsx)("input",{type:"number",name:"fee",value:v.fee,onChange:k,placeholder:"\u4f8b: 50000",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5831\u916c\u30b5\u30a4\u30af\u30eb"}),(0,Vr.jsxs)("select",{name:"fee_cycle",value:v.fee_cycle,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,Vr.jsx)("option",{value:"monthly",children:"\u6708\u6b21"}),(0,Vr.jsx)("option",{value:"quarterly",children:"\u56db\u534a\u671f"}),(0,Vr.jsx)("option",{value:"yearly",children:"\u5e74\u6b21"}),(0,Vr.jsx)("option",{value:"one_time",children:"\u4e00\u6642\u91d1"})]})]}),(0,Vr.jsxs)("div",{className:"sm:col-span-2",children:[(0,Vr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5099\u8003"}),(0,Vr.jsx)("textarea",{name:"notes",value:v.notes,onChange:k,rows:"3",placeholder:"\u5951\u7d04\u306b\u95a2\u3059\u308b\u88dc\u8db3\u60c5\u5831",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]}),(0,Vr.jsxs)("div",{className:"mt-4 flex justify-end",children:[(0,Vr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 mr-3",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"button",onClick:async e=>{if(e&&e.preventDefault&&e.preventDefault(),!v.service)return void hs.error("\u30b5\u30fc\u30d3\u30b9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044");if(!v.start_date)return void hs.error("\u958b\u59cb\u65e5\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");if(v.end_date&&new Date(v.end_date)<new Date(v.start_date))return void hs.error("\u7d42\u4e86\u65e5\u306f\u958b\u59cb\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044");if(v.end_date&&!/^\d{4}-\d{2}-\d{2}$/.test(v.end_date))return void hs.error("\u7d42\u4e86\u65e5\u306e\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002YYYY-MM-DD\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");const t=y.find((e=>e.id.toString()===v.service.toString()));if(t&&t.is_custom&&!v.custom_service_name)hs.error("\u30ab\u30b9\u30bf\u30e0\u30b5\u30fc\u30d3\u30b9\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");else try{w(!0);const e={...v,client:parseInt(n)};console.log("\u5951\u7d04\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u307e\u3059:",e);try{await Ni.createContract(e),hs.success("\u5951\u7d04\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3057\u305f"),b({client:n,service:t?t.id.toString():"",status:"active",start_date:(new Date).toISOString().split("T")[0],end_date:"",fee:"",fee_cycle:"monthly",notes:"",custom_service_name:t&&t.is_custom?i:""}),j(),m(!1),s&&s()}catch(r){if(console.error("\u5951\u7d04\u4fdd\u5b58\u6642\u306eAPI\u30a8\u30e9\u30fc:",r),r.response&&r.response.data){const e=r.response.data;let t="\u5951\u7d04\u60c5\u5831\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";if("object"===typeof e){const r=[];Object.keys(e).forEach((t=>{Array.isArray(e[t])?r.push(`${t}: ${e[t].join(", ")}`):"string"===typeof e[t]&&r.push(`${t}: ${e[t]}`)})),r.length>0&&(t+=": "+r.join("; "))}hs.error(t)}else hs.success("\u5951\u7d04\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f (\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58)")}}catch(f){console.error("\u4fdd\u5b58\u51e6\u7406\u4e2d\u306e\u30a8\u30e9\u30fc:",f),hs.error("\u5951\u7d04\u60c5\u5831\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{w(!1)}},disabled:x,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:x?(0,Vr.jsxs)("span",{className:"inline-flex items-center",children:[(0,Vr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Vr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Vr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u4fdd\u5b58\u4e2d..."]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(eC,{className:"mr-2 h-4 w-4"}),"\u4fdd\u5b58"]})})]})]}):(0,Vr.jsxs)("button",{onClick:()=>m(!0),className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Vr.jsx)(JE,{className:"mr-2 h-4 w-4"}),"\u65b0\u898f\u5951\u7d04\u3092\u8ffd\u52a0"]})]})})]})}):null},yM=[{id:"advisory",name:"\u9867\u554f\u5951\u7d04"},{id:"tax_return_final",name:"\u6c7a\u7b97\u7533\u544a"},{id:"tax_return_interim",name:"\u4e2d\u9593\u7533\u544a"},{id:"tax_return_provisional",name:"\u4e88\u5b9a\u7533\u544a"},{id:"bookkeeping",name:"\u8a18\u5e33\u4ee3\u884c"},{id:"payroll",name:"\u7d66\u4e0e\u8a08\u7b97"},{id:"tax_withholding_standard",name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u539f\u5247)"},{id:"tax_withholding_special",name:"\u6e90\u6cc9\u6240\u5f97\u7a0e(\u7279\u4f8b)"},{id:"resident_tax_standard",name:"\u4f4f\u6c11\u7a0e(\u539f\u5247)"},{id:"resident_tax_special",name:"\u4f4f\u6c11\u7a0e(\u7279\u4f8b)"},{id:"social_insurance",name:"\u793e\u4f1a\u4fdd\u967a"},{id:"other",name:"\u305d\u306e\u4ed6"}],gM=e=>{let{clientId:t}=e;const[r,n]=(0,o.useState)([]),[a,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)(null),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)(!1),[h,p]=(0,o.useState)({}),[m,y]=(0,o.useState)(!1),[g,v]=(0,o.useState)(null),[b,x]=(0,o.useState)(""),w=async()=>{if(!t)return Promise.resolve();i(!0);try{console.log(`\u5951\u7d04\u60c5\u5831\u3092\u53d6\u5f97\u4e2d - \u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID: ${t}`);const r=`client_${t}_contracts`;let a=[];try{const e=localStorage.getItem(r);e?(a=JSON.parse(e),Array.isArray(a)?a.length>0&&console.log(`\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089 ${a.length} \u4ef6\u306e\u5951\u7d04\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3057\u305f`):(console.warn("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u304c\u914d\u5217\u3067\u306f\u3042\u308a\u307e\u305b\u3093:",a),a=[])):console.log("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u5951\u7d04\u60c5\u5831\u304c\u3042\u308a\u307e\u305b\u3093")}catch(e){console.error("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc:",e)}return a.length>0?(console.log("\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059"),n(a),j(a),l(null)):(console.log("\u5951\u7d04\u30c7\u30fc\u30bf\u304c\u306a\u3044\u305f\u3081\u3001\u7a7a\u306e\u5951\u7d04\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3059"),n([]),j([]),l(null)),Promise.resolve()}catch(s){return console.error("\u5951\u7d04\u60c5\u5831\u53d6\u5f97\u4e2d\u306e\u30a8\u30e9\u30fc:",s),l("\u5951\u7d04\u60c5\u5831\u306e\u8868\u793a\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f"),n([]),j([]),Promise.reject(s)}finally{i(!1)}},j=e=>{const t={};yM.forEach((r=>{const n=e.find((e=>{const t=e.service_name||e.custom_service_name||"",n=e.service?e.service.toString():"";switch(r.id){case"advisory":return t.includes("\u9867\u554f\u5951\u7d04")||"1"===n;case"bookkeeping":return t.includes("\u8a18\u5e33\u4ee3\u884c")||"2"===n;case"payroll":return t.includes("\u7d66\u4e0e\u8a08\u7b97")||"3"===n;case"tax_withholding_standard":return t.includes("\u6e90\u6cc9\u6240\u5f97\u7a0e")&&(t.includes("\u539f\u5247")||!t.includes("\u7279\u4f8b"))||"4"===n;case"tax_withholding_special":return t.includes("\u6e90\u6cc9\u6240\u5f97\u7a0e")&&t.includes("\u7279\u4f8b")||"5"===n;case"resident_tax_standard":return t.includes("\u4f4f\u6c11\u7a0e")&&(t.includes("\u539f\u5247")||!t.includes("\u7279\u4f8b"))||"6"===n;case"resident_tax_special":return t.includes("\u4f4f\u6c11\u7a0e")&&t.includes("\u7279\u4f8b")||"7"===n;case"social_insurance":return t.includes("\u793e\u4f1a\u4fdd\u967a")||"8"===n;case"other":return t.includes("\u305d\u306e\u4ed6")||"9"===n;default:return!1}}));t[r.id]={exists:!!n,status:(null===n||void 0===n?void 0:n.status)||"none",contract:n}})),p(t)};(0,o.useEffect)((()=>{w()}),[t]);const _=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-yellow-100 text-yellow-800";case"terminated":return"bg-red-100 text-red-800";case"preparing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},k=e=>({active:"\u5951\u7d04\u4e2d",suspended:"\u4f11\u6b62\u4e2d",terminated:"\u7d42\u4e86",preparing:"\u6e96\u5099\u4e2d",none:"\u672a\u8a2d\u5b9a"}[e]||e),N=e=>({monthly:"\u6708\u6b21",quarterly:"\u56db\u534a\u671f",yearly:"\u5e74\u6b21",one_time:"\u4e00\u6642\u91d1"}[e]||e),S=e=>{const t=e.service_name||e.custom_service_name||"",r=e.service?e.service.toString():"";return"1"!==r&&!yM.some((e=>{switch(e.id){case"advisory":return t.includes("\u9867\u554f\u5951\u7d04")||"1"===r;case"bookkeeping":return t.includes("\u8a18\u5e33\u4ee3\u884c")||"2"===r;case"payroll":return t.includes("\u7d66\u4e0e\u8a08\u7b97")||"3"===r;case"tax_withholding_standard":return t.includes("\u6e90\u6cc9\u6240\u5f97\u7a0e")&&(t.includes("\u539f\u5247")||!t.includes("\u7279\u4f8b"))||"4"===r;case"tax_withholding_special":return t.includes("\u6e90\u6cc9\u6240\u5f97\u7a0e")&&t.includes("\u7279\u4f8b")||"5"===r;case"resident_tax_standard":return t.includes("\u4f4f\u6c11\u7a0e")&&(t.includes("\u539f\u5247")||!t.includes("\u7279\u4f8b"))||"6"===r;case"resident_tax_special":return t.includes("\u4f4f\u6c11\u7a0e")&&t.includes("\u7279\u4f8b")||"7"===r;case"social_insurance":return t.includes("\u793e\u4f1a\u4fdd\u967a")||"8"===r;default:return!1}}))};return(0,Vr.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[(0,Vr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Vr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"\u5951\u7d04\u60c5\u5831"}),(0,Vr.jsx)("div",{className:"flex space-x-2",children:(0,Vr.jsxs)("button",{onClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),hs.loading("\u5951\u7d04\u60c5\u5831\u3092\u66f4\u65b0\u4e2d...",{id:"contracts-refresh"}),w().then((()=>{hs.success("\u5951\u7d04\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f",{id:"contracts-refresh"})})).catch((e=>{hs.error("\u5951\u7d04\u60c5\u5831\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f",{id:"contracts-refresh"}),console.error("\u5951\u7d04\u60c5\u5831\u66f4\u65b0\u30a8\u30e9\u30fc:",e)}))},disabled:a,className:"flex items-center text-sm px-3 py-1 rounded-md transition-colors "+(a?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-blue-50 text-blue-600 hover:bg-blue-100"),children:[(0,Vr.jsx)(ZE,{className:"mr-1 h-4 w-4 "+(a?"animate-spin":"")}),a?"\u66f4\u65b0\u4e2d...":"\u66f4\u65b0"]})})]})}),s&&(0,Vr.jsx)("div",{className:"p-4 bg-red-50 text-red-700",children:(0,Vr.jsx)("p",{children:s})}),d?(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)(fM,{clientId:t,contract:c,contractType:window.selectedContractType,onSave:()=>{f(!1),u(null),w()},onCancel:()=>{f(!1),u(null)},onDelete:()=>{f(!1),u(null),w()}})}):(0,Vr.jsx)(Vr.Fragment,{children:a?(0,Vr.jsx)("div",{className:"p-8 flex justify-center",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}):(0,Vr.jsxs)("div",{className:"p-4",children:[(0,Vr.jsxs)("table",{className:"w-full table-auto border-collapse",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u5951\u7d04\u30bf\u30a4\u30d7"}),(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u5951\u7d04\u671f\u9593"}),(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u5831\u916c"}),(0,Vr.jsx)("th",{className:"px-4 py-2 text-left font-medium text-gray-500 text-sm border-b",children:"\u64cd\u4f5c"})]})}),(0,Vr.jsxs)("tbody",{children:[yM.map((e=>{const t=h[e.id]||{exists:!1,status:"none"},r=t.contract;return(0,Vr.jsxs)("tr",{className:"border-b hover:bg-gray-50 "+(t.exists?"":"opacity-60"),children:[(0,Vr.jsx)("td",{className:"px-4 py-3 font-medium",children:e.name}),(0,Vr.jsx)("td",{className:"px-4 py-3",children:t.exists?(0,Vr.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(t.status)}`,children:k(t.status)}):(0,Vr.jsx)("span",{className:"text-gray-400 text-sm",children:"\u672a\u767b\u9332"})}),(0,Vr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.exists&&r.start_date?(0,Vr.jsxs)(Vr.Fragment,{children:[new Date(r.start_date).toLocaleDateString("ja-JP"),r.end_date&&` \u301c ${new Date(r.end_date).toLocaleDateString("ja-JP")}`]}):(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.exists&&r.fee?`${parseInt(r.fee).toLocaleString()}\u5186 (${N(r.fee_cycle)||"\u672a\u8a2d\u5b9a"})`:(0,Vr.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Vr.jsx)("td",{className:"px-4 py-3",children:(0,Vr.jsx)("div",{className:"flex space-x-2",children:(0,Vr.jsx)("button",{onClick:t=>((e,t,r)=>{e&&(e.preventDefault(),e.stopPropagation()),v(t),x(r),y(!0)})(t,e.id,e.name),className:"text-gray-600 hover:text-gray-800",title:"\u5c65\u6b74\u3092\u8868\u793a",children:(0,Vr.jsx)(TE,{className:"h-5 w-5"})})})})]},e.id)})),r.length>0&&r.some((e=>S(e)))&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("tr",{className:"border-b bg-gray-50",children:(0,Vr.jsx)("td",{colSpan:"5",className:"px-4 py-2 text-sm font-medium text-gray-600",children:"\u305d\u306e\u4ed6\u306e\u5951\u7d04"})}),r.filter((e=>S(e))).map((e=>(0,Vr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-4 py-3 font-medium",children:e.service_name||e.custom_service_name||"\u672a\u8a2d\u5b9a"}),(0,Vr.jsx)("td",{className:"px-4 py-3",children:(0,Vr.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(e.status)}`,children:e.status_display||k(e.status)})}),(0,Vr.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-600",children:[e.start_date?new Date(e.start_date).toLocaleDateString("ja-JP"):"\u958b\u59cb\u65e5\u672a\u8a2d\u5b9a",e.end_date&&` \u301c ${new Date(e.end_date).toLocaleDateString("ja-JP")}`]}),(0,Vr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.fee?`${parseInt(e.fee).toLocaleString()}\u5186 (${N(e.fee_cycle)||"\u672a\u8a2d\u5b9a"})`:"\u672a\u8a2d\u5b9a"}),(0,Vr.jsx)("td",{className:"px-4 py-3",children:(0,Vr.jsx)("button",{onClick:()=>(e=>{u(e),f(!0)})(e),className:"text-primary-600 hover:text-primary-800",title:"\u7de8\u96c6",children:(0,Vr.jsx)(GE,{className:"h-5 w-5"})})})]},e.id)))]})]})]}),0===r.length&&(0,Vr.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,Vr.jsx)(CE,{className:"mx-auto h-12 w-12 text-gray-300 mb-3"}),(0,Vr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u5951\u7d04\u60c5\u5831\u304c\u307e\u3060\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093"}),(0,Vr.jsx)("p",{className:"text-sm mb-4",children:"\u4e0a\u8a18\u306e\u5404\u5951\u7d04\u30bf\u30a4\u30d7\u306e\u767b\u9332\u30dc\u30bf\u30f3\u304b\u3089\u3001\u5fc5\u8981\u306a\u5951\u7d04\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]})]})}),(0,Vr.jsx)(mM,{isOpen:m,onClose:()=>y(!1),clientId:t,contractType:g,contractTypeName:b,onSaveComplete:()=>{w()}})]})},vM=e=>{let{clientId:t=null,initialData:r=null}=e;const n=ne(),[a,i]=(0,o.useState)(!!t),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)("overview"),[h,p]=(0,o.useState)([]),[m,y]=(0,o.useState)({name:"",client_code:"",corporate_individual:"corporate",corporate_number:"",postal_code:"",prefecture:"",city:"",street_address:"",building:"",phone:"",email:"",capital:"",establishment_date:"",tax_eTax_ID:"",tax_eLTAX_ID:"",tax_taxpayer_confirmation_number:"",tax_invoice_no:"",tax_invoice_registration_date:"",salary_closing_day:"",salary_payment_month:"next",salary_payment_day:"",attendance_management_software:"",fiscal_year:"",fiscal_date:"",contract_status:"active",user:null});(0,o.useEffect)((()=>{t&&(console.log(`Editing client ID ${t} - template tab available`),a||"service_settings"!==d||console.log("Highlighting template tab for client edit"))}),[t,a,d]),(0,o.useEffect)((()=>{if(r)return y(r),i(!1),void(t&&v());t&&g()}),[t,r]);const g=async()=>{try{const e=await Ni.getClient(t);y(e),u(null),v()}catch(c){console.error("Error fetching client:",c),u("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{i(!1)}},v=async()=>{if(t)try{const e=await Ni.getFiscalYears(t);p(e)}catch(c){console.error("Error fetching related data:",c)}},b=e=>{const{name:t,value:r,type:n,checked:a}=e.target;y("checkbox"===n?e=>({...e,[t]:a}):e=>({...e,[t]:r}))};return a?(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-6 rounded-lg",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium",children:c}),(0,Vr.jsx)("p",{className:"mt-2",children:(0,Vr.jsx)("button",{onClick:()=>n("/clients"),className:"text-red-700 underline",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7\u306b\u623b\u308b"})})]}):(0,Vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!m.name)return void qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d\u306f\u5fc5\u9808\u3067\u3059");if(!m.client_code)return void qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059");l(!0);const r={...m,fiscal_year:m.fiscal_year?parseInt(m.fiscal_year,10):null,salary_closing_day:m.salary_closing_day?parseInt(m.salary_closing_day,10):null,salary_payment_day:m.salary_payment_day?parseInt(m.salary_payment_day,10):null,capital:m.capital?parseFloat(m.capital):null,fiscal_date:m.fiscal_date&&""!==m.fiscal_date.trim()?m.fiscal_date:null,establishment_date:m.establishment_date&&""!==m.establishment_date.trim()?m.establishment_date:null,tax_invoice_registration_date:m.tax_invoice_registration_date&&""!==m.tax_invoice_registration_date.trim()?m.tax_invoice_registration_date:null};try{if(t)await Ni.updateClient(t,r),qs.success("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f");else{console.log("Submitting client data:",r);const e=await Ni.createClient(r);if(console.log("New client created:",e),console.log("Client ID from response:",e.id),console.log("Full response structure:",JSON.stringify(e)),e&&e.id){try{console.log("Automatically applying default templates for new client:",e.id);const t=await Ni.getClientTaskTemplates(e.id);let r,n;try{[r,n]=await Promise.all([Ni.getTaskTemplates(),Ni.getTaskTemplateSchedules()]),console.log("Templates API response:",r),console.log("Schedules API response:",n)}catch(o){return console.error("Error fetching templates or schedules:",o),void qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30d5\u30a7\u30c3\u30c1\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}const a=Array.isArray(r)?r:r&&r.results?r.results:[],i=Array.isArray(n)?n:n&&n.results?n.results:[];console.log("Normalized templates:",a),console.log("Normalized schedules:",i);const l=[{name:"\u6708\u6b21\u51e6\u7406\u30c1\u30a7\u30c3\u30af",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6bce\u6708\u306e\u4f1a\u8a08\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u8a18\u5e33\u4ee3\u884c\u4f5c\u696d",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6708\u6b21\u306e\u8a18\u5e33\u4ee3\u884c\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u6c7a\u7b97\u30fb\u6cd5\u4eba\u7a0e\u7533\u544a\u696d\u52d9",schedule:"\u6c7a\u7b97\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6c7a\u7b97\u671f\u306e\u6cd5\u4eba\u7a0e\u7533\u544a\u66f8\u4f5c\u6210\u696d\u52d9\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u6e90\u6cc9\u6240\u5f97\u7a0e\u7d0d\u4ed8\u696d\u52d9",schedule:"\u6708\u672b\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u6bce\u6708\u306e\u6e90\u6cc9\u6240\u5f97\u7a0e\u306e\u7d0d\u4ed8\u624b\u7d9a\u304d\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u4f4f\u6c11\u7a0e\u7d0d\u4ed8\u696d\u52d9",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u5f93\u696d\u54e1\u306e\u4f4f\u6c11\u7a0e\u7279\u5225\u5fb4\u53ce\u306e\u7d0d\u4ed8\u624b\u7d9a\u304d\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"},{name:"\u793e\u4f1a\u4fdd\u967a\u624b\u7d9a\u304d",schedule:"\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",description:"\u793e\u4f1a\u4fdd\u967a\u95a2\u9023\u306e\u5404\u7a2e\u624b\u7d9a\u304d\u3092\u884c\u3046\u305f\u3081\u306e\u30bf\u30b9\u30af\u3067\u3059\u3002"}];qs.loading("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u4e2d...",{id:"setup-templates"});const c=[];for(const d of l)try{if(t.find((e=>e.title===d.name))){console.log(`Template for ${d.name} already exists, skipping...`);continue}if(!Array.isArray(a)){console.error("Templates is not an array:",a),console.log(`Cannot find template for ${d.name}, skipping...`);continue}const r=a.find((e=>e.title===d.name||e.template_name===d.name));if(!r){console.log(`No matching template found for ${d.name}, skipping...`);continue}if(!Array.isArray(i)){console.error("Schedules is not an array:",i),console.log(`Cannot find schedule for ${d.schedule}, skipping...`);continue}let n;try{const e=await Ni.getTaskTemplateSchedules();n=Array.isArray(e)?e:[],console.log("Latest schedules before creating:",n)}catch(o){console.error("Error fetching latest schedules:",o),n=i}let l=n.find((e=>e.name===d.schedule||e.name&&d.schedule&&(e.name.includes(d.schedule)||d.schedule.includes(e.name))));if(l)console.log(`Found matching schedule for ${d.schedule}:`,l);else{console.log(`No matching schedule found for ${d.schedule}, creating new one...`);try{const e="\u6708\u6b21\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"===d.schedule?"monthly_start":"\u6708\u672b\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"===d.schedule?"monthly_end":"\u6c7a\u7b97\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"===d.schedule?"fiscal_relative":"monthly_start",t="\u6c7a\u7b97\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"===d.schedule?"yearly":"monthly",r=(new Date).getTime().toString().slice(-4),n={name:`${d.schedule}_${r}`,schedule_type:e,recurrence:t};"monthly_start"===e?(n.creation_day=1,n.deadline_day=5):"monthly_end"===e?(n.creation_day=25,n.deadline_day=10,n.deadline_next_month=!0):"fiscal_relative"===e&&(n.fiscal_date_reference="end_date",n.deadline_day=60),console.log("Creating new schedule with data:",n);const a=await Ni.createTaskTemplateSchedule(n);console.log("Created new schedule:",a),l=a}catch(s){if(console.error(`Error creating schedule for ${d.schedule}:`,s),!s.response||!s.response.data||!s.response.data.includes("duplicate key")&&!s.response.data.includes("already exists")){console.log("Skipping template creation due to schedule error");continue}console.log("Duplicate key error detected, trying to find existing schedule");try{const e=await Ni.getTaskTemplateSchedules(),t=Array.isArray(e)?e.find((e=>e.name===d.schedule)):null;if(!t){console.log(`Still cannot find schedule for ${d.schedule}, skipping...`);continue}console.log("Found existing schedule after error:",t),l=t}catch(u){console.error("Error refreshing schedules after duplicate key error:",u);continue}}}const f=await Ni.createClientTaskTemplate(e.id,{title:d.name,description:d.description,template_task:r.id,schedule:l.id,is_active:!0});c.push(f),console.log(`Created template for ${d.name} with schedule ${d.schedule}`)}catch(o){console.error(`Error creating template for ${d.name}:`,o)}c.length>0?qs.success(`${c.length}\u500b\u306e\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f`,{id:"setup-templates"}):qs.dismiss("setup-templates")}catch(d){console.error("Error setting up default templates:",d),qs.error("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8a2d\u5b9a\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f")}qs.success("\u65b0\u898f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),n(`/clients/${e.id}`)}else console.error("Missing client ID in response"),qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),n("/clients")}}catch(c){var a,i;console.error("Error saving client:",c),console.error("Error details:",null===(a=c.response)||void 0===a?void 0:a.data);let t="\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f";if(null!==(i=c.response)&&void 0!==i&&i.data){t+=`: ${Object.entries(c.response.data).map((e=>{let[t,r]=e;return`${t}: ${Array.isArray(r)?r.join(", "):r}`})).join("; ")}`}else t+=`: ${c.message}`;qs.error(t)}finally{l(!1)}},className:"space-y-8 p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t?"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u7de8\u96c6":"\u65b0\u898f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u767b\u9332"}),(0,Vr.jsxs)("div",{className:"flex space-x-3",children:[(0,Vr.jsx)("button",{type:"button",onClick:()=>n("/clients"),className:"btn btn-ghost",disabled:s,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):t?"\u66f4\u65b0\u3059\u308b":"\u767b\u9332\u3059\u308b"})]})]}),(0,Vr.jsxs)("div",{className:"tabs tabs-boxed mb-6",children:[(0,Vr.jsx)("button",{className:"tab "+("overview"===d?"tab-active":""),onClick:()=>f("overview"),type:"button",children:"\u57fa\u672c\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("corporate"===d?"tab-active":""),onClick:()=>f("corporate"),type:"button",children:"\u6cd5\u4eba\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("address"===d?"tab-active":""),onClick:()=>f("address"),type:"button",children:"\u4f4f\u6240\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("tax"===d?"tab-active":""),onClick:()=>f("tax"),type:"button",children:"\u7a0e\u52d9\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("tax_rules"===d?"tab-active":""),onClick:()=>f("tax_rules"),type:"button",children:"\u7a0e\u52d9\u30eb\u30fc\u30eb"}),(0,Vr.jsx)("button",{className:"tab "+("salary"===d?"tab-active":""),onClick:()=>f("salary"),type:"button",children:"\u7d66\u4e0e\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("task_settings"===d?"tab-active":""),onClick:()=>f("task_settings"),type:"button",children:"\u30bf\u30b9\u30af\u8a2d\u5b9a"}),(0,Vr.jsx)("button",{className:"tab "+("contracts"===d?"tab-active":""),onClick:()=>f("contracts"),type:"button",children:"\u5951\u7d04\u60c5\u5831"})]}),"overview"===d&&(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(VE,{className:"mr-2"}),"\u57fa\u672c\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vr.jsxs)("div",{className:"col-span-2",children:[(0,Vr.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(VE,{})}),(0,Vr.jsx)("input",{type:"text",id:"name",name:"name",value:m.name,onChange:b,className:"input input-bordered rounded-l-none w-full",required:!0})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("label",{htmlFor:"client_code",className:"block text-sm font-medium text-gray-700 mb-1",children:["\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9 ",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(qE,{})}),(0,Vr.jsx)("input",{type:"text",id:"client_code",name:"client_code",value:m.client_code,onChange:b,className:"input input-bordered rounded-l-none w-full",required:!0})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"contract_status",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsxs)("select",{id:"contract_status",name:"contract_status",value:m.contract_status,onChange:b,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"active",children:"\u5951\u7d04\u4e2d"}),(0,Vr.jsx)("option",{value:"suspended",children:"\u4f11\u6b62\u4e2d"}),(0,Vr.jsx)("option",{value:"terminated",children:"\u89e3\u7d04"}),(0,Vr.jsx)("option",{value:"preparing",children:"\u5951\u7d04\u6e96\u5099\u4e2d"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u96fb\u8a71\u756a\u53f7"}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(XE,{})}),(0,Vr.jsx)("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:b,className:"input input-bordered rounded-l-none w-full"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(HE,{})}),(0,Vr.jsx)("input",{type:"email",id:"email",name:"email",value:m.email,onChange:b,className:"input input-bordered rounded-l-none w-full"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1",children:"Web\u30b5\u30a4\u30c8"}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(BE,{})}),(0,Vr.jsx)("input",{type:"url",id:"website",name:"website",value:m.website,onChange:b,className:"input input-bordered rounded-l-none w-full"})]})]})]})})]}),"corporate"===d&&(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(jE,{className:"mr-2"}),"\u6cd5\u4eba\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"corporate_individual",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u6cd5\u4eba/\u500b\u4eba"}),(0,Vr.jsxs)("select",{id:"corporate_individual",name:"corporate_individual",value:m.corporate_individual,onChange:b,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"corporate",children:"\u6cd5\u4eba"}),(0,Vr.jsx)("option",{value:"individual",children:"\u500b\u4eba"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"corporate_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u6cd5\u4eba\u756a\u53f7"}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(qE,{})}),(0,Vr.jsx)("input",{type:"text",id:"corporate_number",name:"corporate_number",value:m.corporate_number,onChange:b,className:"input input-bordered rounded-l-none w-full"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"fiscal_year",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u6c7a\u7b97\u671f\uff08\u671f\uff09"}),(0,Vr.jsx)("input",{type:"number",id:"fiscal_year",name:"fiscal_year",value:m.fiscal_year||"",onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"fiscal_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u6c7a\u7b97\u65e5"}),(0,Vr.jsxs)("div",{className:"flex",children:[(0,Vr.jsx)("span",{className:"inline-flex items-center px-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-md text-gray-500",children:(0,Vr.jsx)(_E,{})}),(0,Vr.jsx)("input",{type:"date",id:"fiscal_date",name:"fiscal_date",value:m.fiscal_date||"",onChange:b,className:"input input-bordered rounded-l-none w-full"})]})]})]})})]}),"address"===d&&(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(zE,{className:"mr-2"}),"\u4f4f\u6240\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u90f5\u4fbf\u756a\u53f7"}),(0,Vr.jsx)("input",{type:"text",id:"postal_code",name:"postal_code",value:m.postal_code,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"prefecture",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u90fd\u9053\u5e9c\u770c"}),(0,Vr.jsx)("input",{type:"text",id:"prefecture",name:"prefecture",value:m.prefecture,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5e02\u533a\u753a\u6751"}),(0,Vr.jsx)("input",{type:"text",id:"city",name:"city",value:m.city,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"street_address",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u756a\u5730"}),(0,Vr.jsx)("input",{type:"text",id:"street_address",name:"street_address",value:m.street_address,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"building",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7"}),(0,Vr.jsx)("input",{type:"text",id:"building",name:"building",value:m.building,onChange:b,className:"input input-bordered w-full"})]})]})})]}),"tax"===d&&(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(ME,{className:"mr-2"}),"\u7a0e\u52d9\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"tax_eTax_ID",className:"block text-sm font-medium text-gray-700 mb-1",children:"eTax ID"}),(0,Vr.jsx)("input",{type:"text",id:"tax_eTax_ID",name:"tax_eTax_ID",value:m.tax_eTax_ID,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"tax_eLTAX_ID",className:"block text-sm font-medium text-gray-700 mb-1",children:"eLTAX ID"}),(0,Vr.jsx)("input",{type:"text",id:"tax_eLTAX_ID",name:"tax_eLTAX_ID",value:m.tax_eLTAX_ID,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"tax_taxpayer_confirmation_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d0d\u7a0e\u8005\u78ba\u8a8d\u756a\u53f7"}),(0,Vr.jsx)("input",{type:"text",id:"tax_taxpayer_confirmation_number",name:"tax_taxpayer_confirmation_number",value:m.tax_taxpayer_confirmation_number,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"tax_invoice_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30a4\u30f3\u30dc\u30a4\u30b9No"}),(0,Vr.jsx)("input",{type:"text",id:"tax_invoice_no",name:"tax_invoice_no",value:m.tax_invoice_no,onChange:b,className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"tax_invoice_registration_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30a4\u30f3\u30dc\u30a4\u30b9\u767b\u9332\u65e5"}),(0,Vr.jsx)("input",{type:"date",id:"tax_invoice_registration_date",name:"tax_invoice_registration_date",value:m.tax_invoice_registration_date||"",onChange:b,className:"input input-bordered w-full"})]})]})})]}),"salary"===d&&(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(DE,{className:"mr-2"}),"\u7d66\u4e0e\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"salary_closing_day",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d66\u4e0e\u7de0\u3081\u65e5"}),(0,Vr.jsx)("input",{type:"number",id:"salary_closing_day",name:"salary_closing_day",value:m.salary_closing_day||"",onChange:b,min:"1",max:"31",className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"salary_payment_month",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d66\u4e0e\u652f\u6255\u6708"}),(0,Vr.jsxs)("select",{id:"salary_payment_month",name:"salary_payment_month",value:m.salary_payment_month,onChange:b,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"current",children:"\u5f53\u6708"}),(0,Vr.jsx)("option",{value:"next",children:"\u7fcc\u6708"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"salary_payment_day",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u7d66\u4e0e\u652f\u6255\u65e5"}),(0,Vr.jsx)("input",{type:"number",id:"salary_payment_day",name:"salary_payment_day",value:m.salary_payment_day||"",onChange:b,min:"1",max:"31",className:"input input-bordered w-full"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"attendance_management_software",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u52e4\u6020\u7ba1\u7406\u30bd\u30d5\u30c8"}),(0,Vr.jsx)("input",{type:"text",id:"attendance_management_software",name:"attendance_management_software",value:m.attendance_management_software,onChange:b,className:"input input-bordered w-full"})]})]})})]}),"fiscal"===d&&(0,Vr.jsx)("div",{className:"mt-6",children:t?(0,Vr.jsx)(YD,{clientId:t}):(0,Vr.jsx)("div",{className:"alert alert-info",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u6c7a\u7b97\u671f\u306e\u7ba1\u7406\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u5148\u306b\u57fa\u672c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}),"tax_rules"===d&&(0,Vr.jsx)("div",{className:"mt-6",children:t?(0,Vr.jsx)(rM,{clientId:t}):(0,Vr.jsx)("div",{className:"alert alert-info",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u6e90\u6cc9\u6240\u5f97\u7a0e\u30fb\u4f4f\u6c11\u7a0e\u30eb\u30fc\u30eb\u306e\u7ba1\u7406\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u5148\u306b\u57fa\u672c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}),"service_settings"===d&&(0,Vr.jsx)("div",{children:t?(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vr.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,Vr.jsx)(CE,{className:"mr-2"})," \u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"]}),(0,Vr.jsx)(cM,{clientId:t})]}):(0,Vr.jsx)("div",{className:"alert alert-info",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u5148\u306b\u57fa\u672c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}),"task_settings"===d&&t&&(0,Vr.jsx)("div",{className:"mt-6",children:(0,Vr.jsx)(cM,{clientId:t})}),"contracts"===d&&t&&(0,Vr.jsx)("div",{className:"mt-6",children:(0,Vr.jsx)(gM,{clientId:t})}),(0,Vr.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,Vr.jsx)("div",{children:"overview"!==d&&(0,Vr.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{const e=["overview","corporate","address","tax","tax_rules","salary","fiscal","templates","service_settings"],t=e.indexOf(d);t>0&&f(e[t-1])},children:"\u524d\u306e\u30b9\u30c6\u30c3\u30d7"})}),(0,Vr.jsxs)("div",{className:"flex space-x-2",children:[!t&&"overview"===d&&(0,Vr.jsx)("button",{type:"submit",className:"btn btn-success",disabled:s,children:s?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):"\u767b\u9332\u3059\u308b"}),t&&(0,Vr.jsx)("button",{type:"submit",className:"btn btn-success",disabled:s,children:s?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):"\u66f4\u65b0\u3059\u308b"}),"service_settings"!==d&&(0,Vr.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{const e=["overview","corporate","address","tax","tax_rules","salary","fiscal","templates","service_settings"],t=e.indexOf(d);t<e.length-1&&f(e[t+1])},children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"})]})]})]})},bM=()=>(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)(vM,{})}),xM=[{id:"closing_preparation",name:"\u6c7a\u7b97\u6e96\u5099",days_before:60},{id:"financial_statement",name:"\u8ca1\u52d9\u8af8\u8868\u4f5c\u6210",days_before:30},{id:"tax_return",name:"\u7a0e\u52d9\u7533\u544a\u66f8\u4f5c\u6210",days_before:20},{id:"director_meeting",name:"\u5f79\u54e1\u4f1a\u958b\u50ac",days_before:15},{id:"shareholder_meeting",name:"\u682a\u4e3b\u7dcf\u4f1a\u6e96\u5099",days_before:10},{id:"submit_docs",name:"\u5404\u7a2e\u66f8\u985e\u63d0\u51fa",days_before:5}],wM=e=>{let{fiscalYear:t,clientId:r,clientName:n,onTasksGenerated:a}=e;const[i,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)([]),[f,h]=(0,o.useState)([]),[p,m]=(0,o.useState)(xM.reduce(((e,t)=>({...e,[t.id]:!0})),{})),{register:y,handleSubmit:g,formState:{errors:v}}=qa({defaultValues:{assignToCurrentUser:!0}});(0,o.useEffect)((()=>{(async()=>{try{const[e,t,r]=await Promise.all([ki.getCategories(),ki.getStatuses(),ki.getPriorities()]);c(e),d(t),h(r)}catch(e){console.error("Error fetching task metadata:",e),qs.error("\u30bf\u30b9\u30af\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})()}),[]);return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(CE,{className:"mr-2"}),"\u6c7a\u7b97\u95a2\u9023\u30bf\u30b9\u30af\u81ea\u52d5\u751f\u6210"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsxs)("form",{onSubmit:g((async e=>{if(0!==Object.entries(p).filter((e=>{let[t,r]=e;return r})).map((e=>{let[t]=e;return t})).length){s(!0);try{const i=xM.filter((e=>p[e.id])),o=await Promise.all(i.map((async a=>{const i=KD()(t.end_date).subtract(a.days_before,"day").format("YYYY-MM-DD"),o={title:`${n} - ${a.name}\uff08\u7b2c${t.fiscal_period}\u671f\uff09`,description:`${n}\u306e\u7b2c${t.fiscal_period}\u671f\u306e${a.name}\u30bf\u30b9\u30af\u3067\u3059\u3002\n\n\u671f\u9593\uff1a${KD()(t.start_date).format("YYYY/MM/DD")} \u301c ${KD()(t.end_date).format("YYYY/MM/DD")}`,status:e.status||(Array.isArray(u)&&u.length>0?u[0].id:null),category:e.category||(Array.isArray(l)&&l.length>0?l[0].id:null),priority:e.priority||(Array.isArray(f)&&f.length>0?f[0].id:null),client:r,due_date:i,assigned_user:e.assignToCurrentUser?null:e.assigned_user,fiscal_year_id:t.id,is_fiscal_task:!0};return await ki.createTask(o)})));qs.success(`${o.length}\u4ef6\u306e\u6c7a\u7b97\u95a2\u9023\u30bf\u30b9\u30af\u3092\u751f\u6210\u3057\u307e\u3057\u305f`),a&&a(o)}catch(i){console.error("Error generating fiscal tasks:",i),qs.error("\u30bf\u30b9\u30af\u306e\u751f\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{s(!1)}}else qs.error("\u5c11\u306a\u304f\u3068\u30821\u3064\u306e\u30bf\u30b9\u30af\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")})),children:[(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["\u7b2c",t.fiscal_period,"\u671f\u306e\u6c7a\u7b97\u65e5\uff08",KD()(t.end_date).format("YYYY\u5e74MM\u6708DD\u65e5"),"\uff09\u306b\u57fa\u3065\u3044\u3066 \u30bf\u30b9\u30af\u3092\u81ea\u52d5\u751f\u6210\u3057\u307e\u3059\u3002"]}),(0,Vr.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mt-4",children:xM.map((e=>(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("input",{type:"checkbox",id:`task-${e.id}`,checked:p[e.id],onChange:()=>{return t=e.id,void m((e=>({...e,[t]:!e[t]})));var t},className:"checkbox checkbox-sm checkbox-primary mr-2"}),(0,Vr.jsxs)("label",{htmlFor:`task-${e.id}`,className:"text-sm",children:[e.name," (\u6c7a\u7b97",e.days_before,"\u65e5\u524d)"]})]},e.id)))})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30ab\u30c6\u30b4\u30ea\u30fc"}),(0,Vr.jsx)("select",{id:"category",...y("category"),className:"select select-bordered w-full",children:Array.isArray(l)&&l.length>0?l.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id))):(0,Vr.jsx)("option",{value:"",children:"\u30ab\u30c6\u30b4\u30ea\u30fc\u304c\u3042\u308a\u307e\u305b\u3093"})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("select",{id:"status",...y("status"),className:"select select-bordered w-full",children:Array.isArray(u)&&u.length>0?u.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id))):(0,Vr.jsx)("option",{value:"",children:"\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u3042\u308a\u307e\u305b\u3093"})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u512a\u5148\u5ea6"}),(0,Vr.jsx)("select",{id:"priority",...y("priority"),className:"select select-bordered w-full",children:Array.isArray(f)&&f.length>0?f.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id))):(0,Vr.jsx)("option",{value:"",children:"\u512a\u5148\u5ea6\u304c\u3042\u308a\u307e\u305b\u3093"})})]})]}),(0,Vr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Vr.jsx)("input",{type:"checkbox",id:"assignToCurrentUser",...y("assignToCurrentUser"),className:"checkbox checkbox-sm mr-2"}),(0,Vr.jsx)("label",{htmlFor:"assignToCurrentUser",className:"text-sm",children:"\u81ea\u5206\u306b\u30bf\u30b9\u30af\u3092\u5272\u308a\u5f53\u3066\u308b"})]}),(0,Vr.jsx)("div",{className:"flex justify-end",children:(0,Vr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm mr-2"}),"\u751f\u6210\u4e2d..."]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(CE,{className:"mr-2"}),"\u30bf\u30b9\u30af\u3092\u751f\u6210"]})})})]})})]})},jM=e=>{let{title:t,children:r,onClose:n,size:a="md"}=e;(0,o.useEffect)((()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"})),[]),(0,o.useEffect)((()=>{const e=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n]);return(0,Xr.createPortal)((0,Vr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,Vr.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${(()=>{switch(a){case"sm":return"max-w-md";case"lg":return"max-w-4xl";case"xl":return"max-w-6xl";case"full":return"max-w-full mx-4";default:return"max-w-2xl"}})()} max-h-[90vh] flex flex-col`,onClick:e=>e.stopPropagation(),children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold",children:t}),(0,Vr.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,Vr.jsx)(vE,{className:"h-5 w-5"})})]}),(0,Vr.jsx)("div",{className:"p-4 overflow-y-auto",children:r})]})}),document.body)},_M=e=>{let{clientId:t,template:r,schedules:n,onSubmit:a,onClose:i}=e;const[s,l]=(0,o.useState)({title:"",description:"",schedule:"",template_task:"",category:"",priority:"",estimated_hours:"",worker:"",reviewer:"",is_active:!0,order:0}),[c,u]=(0,o.useState)([]),[d,f]=(0,o.useState)([]),[h,p]=(0,o.useState)([]),[m,y]=(0,o.useState)([]),[g,v]=(0,o.useState)(!1),[b,x]=(0,o.useState)({}),[w,j]=(0,o.useState)(!1);(0,o.useEffect)((()=>{_()}),[]),(0,o.useEffect)((()=>{r&&l({title:r.title||"",description:r.description||"",schedule:r.schedule||"",template_task:r.template_task||"",category:r.category||"",priority:r.priority||"",estimated_hours:r.estimated_hours||"",worker:r.worker||"",reviewer:r.reviewer||"",is_active:void 0===r.is_active||r.is_active,order:r.order||0})}),[r]);const _=async()=>{v(!0);try{const[e,t,r,n]=await Promise.all([Ni.getTaskTemplates(),fetch("/api/tasks/categories/").then((e=>e.json())),fetch("/api/tasks/priorities/").then((e=>e.json())),fetch("/api/users/").then((e=>e.json()))]);u(e),f(t),p(r),y(n)}catch(e){console.error("Error fetching form data:",e)}finally{v(!1)}},k=e=>{const{name:t,value:r,type:n,checked:a}=e.target;l((e=>({...e,[t]:"checkbox"===n?a:r})))};return g?(0,Vr.jsx)(jM,{title:"Loading",onClose:i,children:(0,Vr.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,Vr.jsx)("div",{className:"loading loading-spinner loading-lg"})})}):(0,Vr.jsx)(jM,{title:(0,Vr.jsxs)("div",{className:"flex items-center text-lg font-semibold",children:[(0,Vr.jsx)(rC,{className:"mr-2"}),r?"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7de8\u96c6":"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210"]}),onClose:i,size:"lg",children:(0,Vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.title.trim()||(e.title="\u30bf\u30a4\u30c8\u30eb\u306f\u5fc5\u9808\u3067\u3059"),s.schedule||(e.schedule="\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306f\u5fc5\u9808\u3067\u3059"),s.template_task||(e.template_task="\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af\u306f\u5fc5\u9808\u3067\u3059"),s.estimated_hours&&isNaN(parseFloat(s.estimated_hours))&&(e.estimated_hours="\u898b\u7a4d\u5de5\u6570\u306f\u6570\u5024\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),s.order&&isNaN(parseInt(s.order))&&(e.order="\u8868\u793a\u9806\u306f\u6574\u6570\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),x(e),0===Object.keys(e).length})()){j(!0);try{const e={...s,estimated_hours:s.estimated_hours?parseFloat(s.estimated_hours):null,order:s.order?parseInt(s.order):0};await a(e)}catch(t){console.error("Error submitting form:",t)}finally{j(!1)}}},children:[(0,Vr.jsxs)("div",{className:"space-y-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u57fa\u672c\u60c5\u5831"}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsxs)("span",{className:"label-text",children:["\u30bf\u30a4\u30c8\u30eb",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,Vr.jsx)("input",{type:"text",name:"title",value:s.title,onChange:k,placeholder:"\u6708\u6b21\u5e33\u7c3f\u30c1\u30a7\u30c3\u30af\u306a\u3069",className:"input input-bordered w-full "+(b.title?"input-error":"")}),b.title&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:b.title})]}),(0,Vr.jsxs)("div",{className:"form-control mt-3",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u8aac\u660e"})}),(0,Vr.jsx)("textarea",{name:"description",value:s.description,onChange:k,placeholder:"\u30bf\u30b9\u30af\u306e\u8a73\u7d30\u306a\u8aac\u660e",className:"textarea textarea-bordered",rows:"3"})]}),(0,Vr.jsxs)("div",{className:"form-control mt-3",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsxs)("span",{className:"label-text",children:["\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,Vr.jsxs)("select",{name:"schedule",value:s.schedule,onChange:k,className:"select select-bordered w-full "+(b.schedule?"select-error":""),children:[(0,Vr.jsx)("option",{value:"",children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u9078\u629e"}),Array.isArray(n)&&n.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.name," (",e.schedule_type_display,")"]},e.id)))]}),b.schedule&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:b.schedule}),(!Array.isArray(n)||0===n.length)&&(0,Vr.jsxs)("div",{className:"alert alert-warning mt-2",children:[(0,Vr.jsx)(RE,{className:"h-5 w-5"}),(0,Vr.jsx)("span",{children:"\u5148\u306b\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044"})]})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsxs)("span",{className:"label-text",children:["\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30bf\u30b9\u30af",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,Vr.jsxs)("select",{name:"template_task",value:s.template_task,onChange:k,className:"select select-bordered w-full "+(b.template_task?"select-error":""),children:[(0,Vr.jsx)("option",{value:"",children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e"}),Array.isArray(c)&&c.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.title},e.id)))]}),b.template_task&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:b.template_task})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30ab\u30c6\u30b4\u30ea"})}),(0,Vr.jsxs)("select",{name:"category",value:s.category,onChange:k,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"",children:"\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e"}),Array.isArray(d)&&d.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u512a\u5148\u5ea6"})}),(0,Vr.jsxs)("select",{name:"priority",value:s.priority,onChange:k,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"",children:"\u512a\u5148\u5ea6\u3092\u9078\u629e"}),Array.isArray(h)&&h.map((e=>(0,Vr.jsxs)("option",{value:e.id,children:[e.priority_value," - ",e.name]},e.id)))]})]})]}),(0,Vr.jsxs)("div",{className:"form-control mt-3",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u898b\u7a4d\u5de5\u6570\uff08\u6642\u9593\uff09"})}),(0,Vr.jsx)("input",{type:"number",name:"estimated_hours",value:s.estimated_hours,onChange:k,placeholder:"\u4f8b: 2.5",step:"0.25",min:"0",className:"input input-bordered w-full "+(b.estimated_hours?"input-error":"")}),b.estimated_hours&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:b.estimated_hours})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u62c5\u5f53\u8005\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u4f5c\u696d\u62c5\u5f53\u8005"})}),(0,Vr.jsxs)("select",{name:"worker",value:s.worker,onChange:k,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"",children:"\u62c5\u5f53\u8005\u3092\u9078\u629e"}),Array.isArray(m)&&m.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.full_name||e.username},e.id)))]})]}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30ec\u30d3\u30e5\u30fc\u62c5\u5f53\u8005"})}),(0,Vr.jsxs)("select",{name:"reviewer",value:s.reviewer,onChange:k,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"",children:"\u62c5\u5f53\u8005\u3092\u9078\u629e"}),Array.isArray(m)&&m.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.full_name||e.username},e.id)))]})]})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u305d\u306e\u4ed6\u306e\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"flex space-x-4",children:[(0,Vr.jsx)("div",{className:"form-control",children:(0,Vr.jsxs)("label",{className:"label cursor-pointer",children:[(0,Vr.jsx)("span",{className:"label-text mr-3",children:"\u6709\u52b9"}),(0,Vr.jsx)("input",{type:"checkbox",name:"is_active",checked:s.is_active,onChange:k,className:"toggle toggle-primary"})]})}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u8868\u793a\u9806"})}),(0,Vr.jsx)("input",{type:"number",name:"order",value:s.order,onChange:k,placeholder:"0",min:"0",className:"input input-bordered w-24 "+(b.order?"input-error":"")}),b.order&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:b.order})]})]})]})]}),(0,Vr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Vr.jsx)("button",{type:"button",onClick:i,className:"btn btn-ghost",disabled:w,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm"}):r?"\u66f4\u65b0":"\u4f5c\u6210"})]})]})})},kM=e=>{let{schedule:t,onSubmit:r,onClose:n}=e;const[a,i]=(0,o.useState)({name:"",schedule_type:"monthly_start",creation_day:1,deadline_day:5,fiscal_date_reference:"end_date",deadline_next_month:!1,recurrence:"monthly"}),[s,l]=(0,o.useState)({}),[c,u]=(0,o.useState)(!1);(0,o.useEffect)((()=>{t&&i({name:t.name||"",schedule_type:t.schedule_type||"monthly_start",creation_day:null!==t.creation_day?t.creation_day:d(t.schedule_type),deadline_day:null!==t.deadline_day?t.deadline_day:f(t.schedule_type),fiscal_date_reference:t.fiscal_date_reference||"end_date",deadline_next_month:t.deadline_next_month||!1,recurrence:t.recurrence||"monthly"})}),[t]);const d=e=>{switch(e){case"monthly_start":default:return 1;case"monthly_end":return 25;case"fiscal_relative":return-30}},f=e=>{switch(e){case"monthly_start":default:return 5;case"monthly_end":return 10;case"fiscal_relative":return-10}},h=e=>{const{name:t,value:r,type:n,checked:a}=e.target;i((e=>({...e,[t]:"checkbox"===n?a:r}))),"schedule_type"===t&&i((e=>({...e,creation_day:d(r),deadline_day:f(r),[t]:r})))};return(0,Vr.jsx)(jM,{title:(0,Vr.jsxs)("div",{className:"flex items-center text-lg font-semibold",children:[(0,Vr.jsx)(PE,{className:"mr-2"}),t?"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u7de8\u96c6":"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u4f5c\u6210"]}),onClose:n,size:"lg",children:(0,Vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return a.name.trim()||(e.name="\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u540d\u306f\u5fc5\u9808\u3067\u3059"),"fiscal_relative"!==a.schedule_type||a.fiscal_date_reference||(e.fiscal_date_reference="\u6c7a\u7b97\u65e5\u53c2\u7167\u30bf\u30a4\u30d7\u306f\u5fc5\u9808\u3067\u3059"),"monthly_start"!==a.schedule_type&&"monthly_end"!==a.schedule_type||(a.creation_day&&(parseInt(a.creation_day)<1||parseInt(a.creation_day)>31)&&(e.creation_day="\u4f5c\u6210\u65e5\u306f1\u301c31\u306e\u9593\u3067\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),a.deadline_day&&(parseInt(a.deadline_day)<1||parseInt(a.deadline_day)>31)&&(e.deadline_day="\u671f\u9650\u65e5\u306f1\u301c31\u306e\u9593\u3067\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")),l(e),0===Object.keys(e).length})()){u(!0);try{const e={...a,creation_day:""!==a.creation_day?parseInt(a.creation_day):null,deadline_day:""!==a.deadline_day?parseInt(a.deadline_day):null};await r(e),n()}catch(t){console.error("Error submitting form:",t)}finally{u(!1)}}},children:[(0,Vr.jsxs)("div",{className:"space-y-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u57fa\u672c\u60c5\u5831"}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsxs)("span",{className:"label-text",children:["\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u540d",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,Vr.jsx)("input",{type:"text",name:"name",value:a.name,onChange:h,placeholder:"\u6708\u6b21\u4f5c\u696d\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306a\u3069",className:"input input-bordered w-full "+(s.name?"input-error":"")}),s.name&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:s.name})]}),(0,Vr.jsxs)("div",{className:"form-control mt-3",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u7e70\u308a\u8fd4\u3057\u30bf\u30a4\u30d7"})}),(0,Vr.jsxs)("select",{name:"recurrence",value:a.recurrence,onChange:h,className:"select select-bordered w-full",children:[(0,Vr.jsx)("option",{value:"monthly",children:"\u6bce\u6708"}),(0,Vr.jsx)("option",{value:"quarterly",children:"\u56db\u534a\u671f\u3054\u3068"}),(0,Vr.jsx)("option",{value:"yearly",children:"\u6bce\u5e74"}),(0,Vr.jsx)("option",{value:"once",children:"\u4e00\u5ea6\u306e\u307f"})]})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30bf\u30a4\u30d7"}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-200 \n                  "+("monthly_start"===a.schedule_type?"bg-blue-50 border-blue-300 ring-2 ring-blue-300":""),onClick:()=>h({target:{name:"schedule_type",value:"monthly_start"}}),children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Vr.jsx)("input",{type:"radio",name:"schedule_type",value:"monthly_start",checked:"monthly_start"===a.schedule_type,onChange:h,className:"radio radio-primary mr-2"}),(0,Vr.jsx)("span",{className:"font-medium",children:"\u6708\u521d\u4f5c\u6210\u30fb\u5f53\u6708\u7de0\u3081\u5207\u308a"})]}),(0,Vr.jsx)("p",{className:"text-sm text-gray-600 ml-6",children:"1\u65e5\u306b\u751f\u6210\u30015\u65e5\u304c\u671f\u9650"})]}),(0,Vr.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-200 \n                  "+("monthly_end"===a.schedule_type?"bg-blue-50 border-blue-300 ring-2 ring-blue-300":""),onClick:()=>h({target:{name:"schedule_type",value:"monthly_end"}}),children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Vr.jsx)("input",{type:"radio",name:"schedule_type",value:"monthly_end",checked:"monthly_end"===a.schedule_type,onChange:h,className:"radio radio-primary mr-2"}),(0,Vr.jsx)("span",{className:"font-medium",children:"\u6708\u672b\u4f5c\u6210\u30fb\u7fcc\u6708\u7de0\u3081\u5207\u308a"})]}),(0,Vr.jsx)("p",{className:"text-sm text-gray-600 ml-6",children:"25\u65e5\u306b\u751f\u6210\u3001\u7fcc\u670810\u65e5\u304c\u671f\u9650"})]}),(0,Vr.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-200 \n                  "+("fiscal_relative"===a.schedule_type?"bg-blue-50 border-blue-300 ring-2 ring-blue-300":""),onClick:()=>h({target:{name:"schedule_type",value:"fiscal_relative"}}),children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Vr.jsx)("input",{type:"radio",name:"schedule_type",value:"fiscal_relative",checked:"fiscal_relative"===a.schedule_type,onChange:h,className:"radio radio-primary mr-2"}),(0,Vr.jsx)("span",{className:"font-medium",children:"\u6c7a\u7b97\u65e5\u57fa\u6e96"})]}),(0,Vr.jsx)("p",{className:"text-sm text-gray-600 ml-6",children:"\u6c7a\u7b97\u958b\u59cb\u65e5\u30fb\u7d42\u4e86\u65e5\u304b\u3089\u306e\u76f8\u5bfe\u65e5\u6570"})]}),(0,Vr.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-200 \n                  "+("custom"===a.schedule_type?"bg-blue-50 border-blue-300 ring-2 ring-blue-300":""),onClick:()=>h({target:{name:"schedule_type",value:"custom"}}),children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Vr.jsx)("input",{type:"radio",name:"schedule_type",value:"custom",checked:"custom"===a.schedule_type,onChange:h,className:"radio radio-primary mr-2"}),(0,Vr.jsx)("span",{className:"font-medium",children:"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a"})]}),(0,Vr.jsx)("p",{className:"text-sm text-gray-600 ml-6",children:"\u81ea\u7531\u306b\u65e5\u4ed8\u3092\u8a2d\u5b9a"})]})]})]}),["monthly_start","monthly_end"].includes(a.schedule_type)&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u65e5\u4ed8\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30bf\u30b9\u30af\u4f5c\u6210\u65e5\uff08\u65e5\uff09"})}),(0,Vr.jsx)("input",{type:"number",name:"creation_day",value:a.creation_day,onChange:h,min:"1",max:"31",className:"input input-bordered w-full "+(s.creation_day?"input-error":"")}),s.creation_day&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:s.creation_day})]}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30bf\u30b9\u30af\u671f\u9650\u65e5\uff08\u65e5\uff09"})}),(0,Vr.jsx)("input",{type:"number",name:"deadline_day",value:a.deadline_day,onChange:h,min:"1",max:"31",className:"input input-bordered w-full "+(s.deadline_day?"input-error":"")}),s.deadline_day&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:s.deadline_day})]})]}),"monthly_end"===a.schedule_type&&(0,Vr.jsx)("div",{className:"form-control mt-3",children:(0,Vr.jsxs)("label",{className:"label cursor-pointer justify-start gap-2",children:[(0,Vr.jsx)("input",{type:"checkbox",name:"deadline_next_month",checked:a.deadline_next_month,onChange:h,className:"checkbox checkbox-primary"}),(0,Vr.jsx)("span",{className:"label-text",children:"\u671f\u9650\u65e5\u306f\u7fcc\u6708\u3068\u3059\u308b"})]})})]}),"fiscal_relative"===a.schedule_type&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-md font-semibold mb-3",children:"\u6c7a\u7b97\u65e5\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsxs)("span",{className:"label-text",children:["\u57fa\u6e96\u65e5",(0,Vr.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,Vr.jsxs)("select",{name:"fiscal_date_reference",value:a.fiscal_date_reference,onChange:h,className:"select select-bordered w-full "+(s.fiscal_date_reference?"select-error":""),children:[(0,Vr.jsx)("option",{value:"start_date",children:"\u6c7a\u7b97\u958b\u59cb\u65e5\u57fa\u6e96"}),(0,Vr.jsx)("option",{value:"end_date",children:"\u6c7a\u7b97\u7d42\u4e86\u65e5\u57fa\u6e96"})]}),s.fiscal_date_reference&&(0,Vr.jsx)("span",{className:"text-error text-sm mt-1",children:s.fiscal_date_reference})]}),(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30bf\u30b9\u30af\u4f5c\u6210\u65e5\uff08\u76f8\u5bfe\u65e5\u6570\uff09"})}),(0,Vr.jsx)("input",{type:"number",name:"creation_day",value:a.creation_day,onChange:h,className:"input input-bordered w-full"}),(0,Vr.jsx)("span",{className:"text-sm text-gray-500 mt-1",children:"\u203b\u8ca0\u306e\u5024\u306f\u57fa\u6e96\u65e5\u524d\u3001\u6b63\u306e\u5024\u306f\u57fa\u6e96\u65e5\u5f8c\u306e\u65e5\u6570"})]}),(0,Vr.jsxs)("div",{className:"form-control",children:[(0,Vr.jsx)("label",{className:"label",children:(0,Vr.jsx)("span",{className:"label-text",children:"\u30bf\u30b9\u30af\u671f\u9650\u65e5\uff08\u76f8\u5bfe\u65e5\u6570\uff09"})}),(0,Vr.jsx)("input",{type:"number",name:"deadline_day",value:a.deadline_day,onChange:h,className:"input input-bordered w-full"}),(0,Vr.jsx)("span",{className:"text-sm text-gray-500 mt-1",children:"\u203b\u8ca0\u306e\u5024\u306f\u57fa\u6e96\u65e5\u524d\u3001\u6b63\u306e\u5024\u306f\u57fa\u6e96\u65e5\u5f8c\u306e\u65e5\u6570"})]})]})]}),"custom"===a.schedule_type&&(0,Vr.jsx)("div",{className:"p-4 bg-amber-50 text-amber-800 rounded-lg border border-amber-200",children:(0,Vr.jsx)("p",{children:"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a\u306f\u5c06\u6765\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u63d0\u4f9b\u4e88\u5b9a\u3067\u3059\u3002\u73fe\u5728\u306f\u4ed6\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30bf\u30a4\u30d7\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"})})]}),(0,Vr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Vr.jsx)("button",{type:"button",onClick:n,className:"btn btn-ghost",disabled:c,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,Vr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?(0,Vr.jsx)("span",{className:"loading loading-spinner loading-sm"}):t?"\u66f4\u65b0":"\u4f5c\u6210"})]})]})})},NM=e=>{let{clientId:t,client:r}=e;const[n,a]=(0,o.useState)([]),[i,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!0),[f,h]=(0,o.useState)(null),[p,m]=(0,o.useState)(!1),[y,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(null),[x,w]=(0,o.useState)(null);(0,o.useEffect)((()=>{j()}),[t]);const j=async()=>{d(!0);try{const[e,r]=await Promise.all([Ni.getClientTaskTemplates(t),Ni.getTaskTemplateSchedules()]);a(Array.isArray(e)?e:[]),s(Array.isArray(r)?r:[]),h(null)}catch(f){console.error("Error fetching task template data:",f),h("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{d(!1)}},_=e=>{var t;switch(e.schedule_type){case"monthly_start":return"\u6708\u521d\u4f5c\u6210\uff081\u65e5\uff09\u30fb\u5f53\u6708\u7de0\u3081\u5207\u308a\uff085\u65e5\uff09";case"monthly_end":return"\u6708\u672b\u4f5c\u6210\uff0825\u65e5\uff09\u30fb\u7fcc\u6708\u7de0\u3081\u5207\u308a\uff0810\u65e5\uff09";case"fiscal_relative":const r=(null===(t=e.fiscal_date_reference_display)||void 0===t?void 0:t.toLowerCase())||"",n=e.deadline_day||0;return`\u6c7a\u7b97${r}\u306e${n>0?`${n}\u65e5\u5f8c`:`${Math.abs(n)}\u65e5\u524d`}`;case"custom":return"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a";default:return e.schedule_type_display||e.schedule_type}};return u?(0,Vr.jsx)("div",{className:"flex justify-center p-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):f?(0,Vr.jsxs)("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg shadow",children:[(0,Vr.jsx)("p",{children:f}),(0,Vr.jsx)("button",{onClick:j,className:"mt-2 btn btn-sm btn-outline btn-error",children:"\u518d\u8a66\u884c"})]}):(0,Vr.jsxs)("div",{className:"space-y-8",children:[(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Vr.jsxs)("div",{className:"p-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white flex justify-between items-center",children:[(0,Vr.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,Vr.jsx)(PE,{className:"mr-2"})," \u30bf\u30b9\u30af\u751f\u6210\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a"]}),(0,Vr.jsxs)("button",{onClick:()=>{w(null),g(!0)},className:"btn btn-sm btn-ghost bg-white bg-opacity-20 text-white",children:[(0,Vr.jsx)(QE,{className:"mr-1"})," \u65b0\u898f\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"]})]}),(0,Vr.jsx)("div",{className:"p-4",children:0===i.length?(0,Vr.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Vr.jsx)(_E,{className:"mx-auto h-12 w-12 mb-4"}),(0,Vr.jsx)("p",{children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u65b0\u898f\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]}):(0,Vr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.isArray(i)?i.map((e=>(0,Vr.jsxs)("div",{className:"border rounded-lg shadow-sm hover:shadow-md transition-shadow p-4 "+((null===l||void 0===l?void 0:l.id)===e.id?"ring-2 ring-indigo-500 bg-indigo-50":""),onClick:()=>c(e),children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Vr.jsx)("h3",{className:"font-medium text-indigo-700",children:e.name}),(0,Vr.jsxs)("div",{className:"flex space-x-1",children:[(0,Vr.jsx)("button",{onClick:t=>{t.stopPropagation(),w(e),g(!0)},className:"text-gray-500 hover:text-indigo-600",children:(0,Vr.jsx)(GE,{className:"h-5 w-5"})}),(0,Vr.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("\u3053\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f\u95a2\u9023\u3059\u308b\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3082\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"))try{await Ni.deleteTaskTemplateSchedule(e),qs.success("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),j()}catch(f){console.error("Error deleting schedule:",f),qs.error("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(e.id)},className:"text-gray-500 hover:text-red-600",children:(0,Vr.jsx)(nC,{className:"h-5 w-5"})})]})]}),(0,Vr.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:[(0,Vr.jsx)("span",{className:"font-medium",children:"\u30bf\u30a4\u30d7:"})," ",e.schedule_type_display]}),(0,Vr.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:[(0,Vr.jsx)("span",{className:"font-medium",children:"\u8aac\u660e:"})," ",_(e)]}),(0,Vr.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Vr.jsx)("span",{className:"font-medium",children:"\u7e70\u308a\u8fd4\u3057:"})," ",e.recurrence_display]})]},e.id))):(0,Vr.jsx)("div",{className:"col-span-3 text-center py-4 text-gray-500",children:(0,Vr.jsx)("p",{children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"})})})})]}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Vr.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-teal-500 text-white flex justify-between items-center",children:[(0,Vr.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,Vr.jsx)(rC,{className:"mr-2"})," \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"]}),(0,Vr.jsxs)("button",{onClick:()=>{b(null),m(!0)},className:"btn btn-sm btn-ghost bg-white bg-opacity-20 text-white",disabled:0===i.length,children:[(0,Vr.jsx)(QE,{className:"mr-1"})," \u65b0\u898f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"]})]}),(0,Vr.jsx)("div",{className:"p-4",children:0===n.length?(0,Vr.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Vr.jsx)(rC,{className:"mx-auto h-12 w-12 mb-4"}),(0,Vr.jsx)("p",{children:"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u65b0\u898f\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),0===i.length&&(0,Vr.jsx)("p",{className:"text-sm mt-2 text-amber-600",children:"\u5148\u306b\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"})]}):(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"table w-full",children:[(0,Vr.jsx)("thead",{children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{children:"\u30bf\u30a4\u30c8\u30eb"}),(0,Vr.jsx)("th",{children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"}),(0,Vr.jsx)("th",{children:"\u62c5\u5f53\u8005"}),(0,Vr.jsx)("th",{children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,Vr.jsx)("th",{children:"\u6700\u7d42\u751f\u6210"}),(0,Vr.jsx)("th",{children:"\u30a2\u30af\u30b7\u30e7\u30f3"})]})}),(0,Vr.jsx)("tbody",{children:Array.isArray(n)?n.map((e=>(0,Vr.jsxs)("tr",{className:"hover",children:[(0,Vr.jsx)("td",{children:e.title}),(0,Vr.jsx)("td",{children:e.schedule_name}),(0,Vr.jsxs)("td",{children:[(0,Vr.jsxs)("div",{children:["\u4f5c\u696d: ",e.worker_name||"\u672a\u8a2d\u5b9a"]}),(0,Vr.jsxs)("div",{children:["\u78ba\u8a8d: ",e.reviewer_name||"\u672a\u8a2d\u5b9a"]})]}),(0,Vr.jsx)("td",{children:(0,Vr.jsx)("span",{className:"badge "+(e.is_active?"badge-success":"badge-error"),children:e.is_active?"\u6709\u52b9":"\u7121\u52b9"})}),(0,Vr.jsx)("td",{children:e.last_generated_at?new Date(e.last_generated_at).toLocaleString("ja-JP"):"\u672a\u751f\u6210"}),(0,Vr.jsxs)("td",{className:"flex space-x-2",children:[(0,Vr.jsxs)("button",{onClick:()=>{b(e),m(!0)},className:"btn btn-sm btn-outline btn-info",children:[(0,Vr.jsx)(GE,{className:"mr-1"})," \u7de8\u96c6"]}),(0,Vr.jsxs)("button",{onClick:()=>(async e=>{try{const t=await Ni.generateTaskFromTemplate(e);return qs.success("\u30bf\u30b9\u30af\u3092\u751f\u6210\u3057\u307e\u3057\u305f"),t}catch(f){return console.error("Error generating task:",f),qs.error("\u30bf\u30b9\u30af\u306e\u751f\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),null}})(e.id),className:"btn btn-sm btn-outline btn-success",children:[(0,Vr.jsx)(SE,{className:"mr-1"})," \u30bf\u30b9\u30af\u751f\u6210"]}),(0,Vr.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\u3053\u306e\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{await Ni.deleteClientTaskTemplate(e),qs.success("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),j()}catch(f){console.error("Error deleting task template:",f),qs.error("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})(e.id),className:"btn btn-sm btn-outline btn-error",children:[(0,Vr.jsx)(nC,{className:"mr-1"})," \u524a\u9664"]})]})]},e.id))):(0,Vr.jsx)("tr",{children:(0,Vr.jsx)("td",{colSpan:"6",className:"text-center py-4 text-gray-500",children:(0,Vr.jsx)("p",{children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"})})})})]})})})]}),p&&(0,Vr.jsx)(_M,{clientId:t,template:v,schedules:i,onSubmit:v?async e=>{try{await Ni.updateClientTaskTemplate(v.id,e),qs.success("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f"),m(!1),b(null),j()}catch(f){console.error("Error updating task template:",f),qs.error("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}}:async e=>{try{await Ni.createClientTaskTemplate(t,e),qs.success("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),m(!1),j()}catch(f){console.error("Error creating task template:",f),qs.error("\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},onClose:()=>{m(!1),b(null)}}),y&&(0,Vr.jsx)(kM,{schedule:x,onSubmit:x?async e=>{try{await Ni.updateTaskTemplateSchedule(x.id,e),qs.success("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f"),g(!1),w(null),j()}catch(f){console.error("Error updating schedule:",f),qs.error("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}}:async e=>{try{await Ni.createTaskTemplateSchedule(e),qs.success("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),g(!1),j()}catch(f){console.error("Error creating schedule:",f),qs.error("\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},onClose:()=>{g(!1),w(null)}})]})},SM=e=>{let{client:t}=e;return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(VE,{className:"mr-2"})," \u57fa\u672c\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)("table",{className:"w-full",children:(0,Vr.jsxs)("tbody",{children:[(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500 w-1/3",children:"\u540d\u524d"}),(0,Vr.jsx)("td",{className:"py-2",children:t.name})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9"}),(0,Vr.jsx)("td",{className:"py-2",children:t.client_code})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u5951\u7d04\u72b6\u6cc1"}),(0,Vr.jsx)("td",{className:"py-2",children:(0,Vr.jsx)("span",{className:"badge "+("active"===t.contract_status?"badge-success":"suspended"===t.contract_status?"badge-warning":"terminated"===t.contract_status?"badge-error":"badge-ghost"),children:t.contract_status_display||t.contract_status})})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u6cd5\u4eba/\u500b\u4eba"}),(0,Vr.jsx)("td",{className:"py-2",children:t.corporate_individual_display||("corporate"===t.corporate_individual?"\u6cd5\u4eba":"individual"===t.corporate_individual?"\u500b\u4eba":"-")})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u96fb\u8a71\u756a\u53f7"}),(0,Vr.jsx)("td",{className:"py-2",children:t.phone||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsx)("td",{className:"py-2",children:t.email||"-"})]})]})})})]})},OM=e=>{let{client:t}=e;return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(jE,{className:"mr-2"})," \u6cd5\u4eba\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)("table",{className:"w-full",children:(0,Vr.jsxs)("tbody",{children:[(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500 w-1/3",children:"\u6cd5\u4eba\u756a\u53f7"}),(0,Vr.jsx)("td",{className:"py-2",children:t.corporate_number||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u8cc7\u672c\u91d1"}),(0,Vr.jsx)("td",{className:"py-2",children:t.capital?`${Number(t.capital).toLocaleString()}\u5186`:"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u8a2d\u7acb\u65e5\u30fb\u958b\u696d\u65e5"}),(0,Vr.jsx)("td",{className:"py-2",children:t.establishment_date?new Date(t.establishment_date).toLocaleDateString("ja-JP"):"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u6c7a\u7b97\u671f\uff08\u671f\uff09"}),(0,Vr.jsx)("td",{className:"py-2",children:t.fiscal_year?`\u7b2c${t.fiscal_year}\u671f`:"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u6c7a\u7b97\u65e5"}),(0,Vr.jsx)("td",{className:"py-2",children:t.fiscal_date?new Date(t.fiscal_date).toLocaleDateString("ja-JP"):"-"})]})]})})})]})},EM=e=>{let{client:t}=e;return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(zE,{className:"mr-2"})," \u4f4f\u6240\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)("table",{className:"w-full",children:(0,Vr.jsxs)("tbody",{children:[(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500 w-1/3",children:"\u90f5\u4fbf\u756a\u53f7"}),(0,Vr.jsx)("td",{className:"py-2",children:t.postal_code||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u90fd\u9053\u5e9c\u770c"}),(0,Vr.jsx)("td",{className:"py-2",children:t.prefecture||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u5e02\u533a\u753a\u6751"}),(0,Vr.jsx)("td",{className:"py-2",children:t.city||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u756a\u5730"}),(0,Vr.jsx)("td",{className:"py-2",children:t.street_address||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7"}),(0,Vr.jsx)("td",{className:"py-2",children:t.building||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u4f4f\u6240\uff08\u5b8c\u5168\uff09"}),(0,Vr.jsx)("td",{className:"py-2",children:[t.postal_code?`\u3012${t.postal_code}`:"",t.prefecture||"",t.city||"",t.street_address||"",t.building||""].filter(Boolean).join(" ")})]})]})})})]})},CM=e=>{let{client:t}=e;return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(ME,{className:"mr-2"})," \u7a0e\u52d9\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)("table",{className:"w-full",children:(0,Vr.jsxs)("tbody",{children:[(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500 w-1/3",children:"eTax ID"}),(0,Vr.jsx)("td",{className:"py-2",children:t.tax_eTax_ID||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"eLTAX ID"}),(0,Vr.jsx)("td",{className:"py-2",children:t.tax_eLTAX_ID||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u7d0d\u7a0e\u8005\u78ba\u8a8d\u756a\u53f7"}),(0,Vr.jsx)("td",{className:"py-2",children:t.tax_taxpayer_confirmation_number||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u30a4\u30f3\u30dc\u30a4\u30b9No"}),(0,Vr.jsx)("td",{className:"py-2",children:t.tax_invoice_no||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u30a4\u30f3\u30dc\u30a4\u30b9\u767b\u9332\u65e5"}),(0,Vr.jsx)("td",{className:"py-2",children:t.tax_invoice_registration_date?new Date(t.tax_invoice_registration_date).toLocaleDateString("ja-JP"):"-"})]})]})})})]})},AM=e=>{let{client:t}=e;return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Vr.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,Vr.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center",children:[(0,Vr.jsx)(DE,{className:"mr-2"})," \u7d66\u4e0e\u60c5\u5831"]})}),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)("table",{className:"w-full",children:(0,Vr.jsxs)("tbody",{children:[(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500 w-1/3",children:"\u7d66\u4e0e\u7de0\u3081\u65e5"}),(0,Vr.jsx)("td",{className:"py-2",children:t.salary_closing_day?`${t.salary_closing_day}\u65e5`:"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u7d66\u4e0e\u652f\u6255\u6708"}),(0,Vr.jsx)("td",{className:"py-2",children:"current"===t.salary_payment_month?"\u5f53\u6708":"next"===t.salary_payment_month?"\u7fcc\u6708":t.salary_payment_month||"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u7d66\u4e0e\u652f\u6255\u65e5"}),(0,Vr.jsx)("td",{className:"py-2",children:t.salary_payment_day?`${t.salary_payment_day}\u65e5`:"-"})]}),(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("td",{className:"py-2 text-sm font-medium text-gray-500",children:"\u52e4\u6020\u7ba1\u7406\u30bd\u30d5\u30c8"}),(0,Vr.jsx)("td",{className:"py-2",children:t.attendance_management_software||"-"})]})]})})})]})},TM=e=>{let{id:t,client:r}=e;const n=ne(),[a,i]=(0,o.useState)(r||null),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)(!r),[d,f]=(0,o.useState)(null),[h,p]=(0,o.useState)("overview"),[m,y]=(0,o.useState)(!1),[g,v]=(0,o.useState)(null);(0,o.useEffect)((()=>{console.log("ClientDetail received id:",t,"and client:",r),r?(i(r),u(!1),t&&x()):t?b():(f("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093"),u(!1))}),[t,r]);const b=async()=>{u(!0);try{const e=await Ni.getClient(t);console.log("Fetched client data in component:",e),i(e),x(),f(null)}catch(d){console.error("Error fetching client:",d),f("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{u(!1)}},x=async()=>{try{const e=await Ni.getFiscalYears(t);l(e)}catch(d){console.error("Error fetching fiscal years:",d)}};return c?(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-6 rounded-lg",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium",children:d}),(0,Vr.jsx)("p",{className:"mt-2",children:(0,Vr.jsx)("button",{onClick:()=>n("/clients"),className:"text-red-700 underline",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7\u306b\u623b\u308b"})})]}):a?(0,Vr.jsxs)("div",{className:"p-6",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vr.jsxs)("h1",{className:"text-2xl font-bold flex items-center",children:[(0,Vr.jsx)(VE,{className:"mr-2"}),a.name,(0,Vr.jsx)("span",{className:"ml-3 text-sm px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:a.client_code}),(0,Vr.jsx)("span",{className:"ml-3 text-sm px-2 py-1 rounded-full bg-green-100 text-green-800",children:a.contract_status_display||("active"===a.contract_status?"\u5951\u7d04\u4e2d":"suspended"===a.contract_status?"\u4f11\u6b62\u4e2d":"terminated"===a.contract_status?"\u89e3\u7d04":"preparing"===a.contract_status?"\u5951\u7d04\u6e96\u5099\u4e2d":a.contract_status)})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("button",{onClick:()=>n(`/clients/${t}/edit`),className:"btn btn-outline btn-primary mr-2",children:"\u7de8\u96c6"}),(0,Vr.jsx)("button",{onClick:()=>n("/clients"),className:"btn btn-ghost",children:"\u4e00\u89a7\u306b\u623b\u308b"})]})]}),(0,Vr.jsxs)("div",{className:"tabs tabs-boxed mb-6",children:[(0,Vr.jsx)("button",{className:"tab "+("overview"===h?"tab-active":""),onClick:()=>p("overview"),children:"\u57fa\u672c\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("corporate"===h?"tab-active":""),onClick:()=>p("corporate"),children:"\u6cd5\u4eba\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("address"===h?"tab-active":""),onClick:()=>p("address"),children:"\u4f4f\u6240\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("tax"===h?"tab-active":""),onClick:()=>p("tax"),children:"\u7a0e\u52d9\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("tax_rules"===h?"tab-active":""),onClick:()=>p("tax_rules"),children:"\u6e90\u6cc9/\u4f4f\u6c11\u7a0e"}),(0,Vr.jsx)("button",{className:"tab "+("salary"===h?"tab-active":""),onClick:()=>p("salary"),children:"\u7d66\u4e0e\u60c5\u5831"}),(0,Vr.jsx)("button",{className:"tab "+("fiscal"===h?"tab-active":""),onClick:()=>p("fiscal"),children:"\u6c7a\u7b97\u671f\u7ba1\u7406"}),(0,Vr.jsx)("button",{className:"tab "+("service_settings"===h?"tab-active":""),onClick:()=>p("service_settings"),children:"\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a"})]}),"overview"===h&&(0,Vr.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,Vr.jsx)(SM,{client:a})}),"corporate"===h&&(0,Vr.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,Vr.jsx)(OM,{client:a})}),"address"===h&&(0,Vr.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,Vr.jsx)(EM,{client:a})}),"tax"===h&&(0,Vr.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,Vr.jsx)(CM,{client:a})}),"salary"===h&&(0,Vr.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,Vr.jsx)(AM,{client:a})}),"fiscal"===h&&(0,Vr.jsxs)("div",{children:[s&&s.length>0&&(0,Vr.jsxs)("div",{className:"mt-8",children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u6c7a\u7b97\u30bf\u30b9\u30af\u7ba1\u7406"}),s.filter((e=>new Date(e.end_date)>=new Date)).sort(((e,t)=>new Date(e.end_date)-new Date(t.end_date))).slice(0,1).map((e=>(0,Vr.jsx)(wM,{fiscalYear:e,clientId:a.id,clientName:a.name,onTasksGenerated:()=>{qs.success("\u30bf\u30b9\u30af\u304c\u6b63\u5e38\u306b\u751f\u6210\u3055\u308c\u307e\u3057\u305f")}},e.id)))]}),(0,Vr.jsx)("div",{className:"mt-6",children:(0,Vr.jsx)(YD,{clientId:t})})]}),"tax_rules"===h&&(0,Vr.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,Vr.jsx)(rM,{clientId:t,client:a})}),"service_settings"===h&&(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,Vr.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,Vr.jsx)(rC,{className:"mr-2"})," \u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8a2d\u5b9a"]}),(0,Vr.jsx)(NM,{clientId:t,client:a})]}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Vr.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,Vr.jsx)(CE,{className:"mr-2"})," \u30b5\u30fc\u30d3\u30b9\u30c1\u30a7\u30c3\u30af\u8a2d\u5b9a"]}),(0,Vr.jsx)(cM,{clientId:t,client:a})]})]}),m&&(0,Vr.jsx)(WD,{clientId:t,fiscalYear:g,onClose:()=>{y(!1),v(null)},onSuccess:x})]}):null},PM=()=>{const{clientId:e}=ie(),t=ne(),[r,n]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(console.log("ClientDetailPage - clientId from params:",e),!e)return console.error("Missing clientId in URL params"),void t("/clients");(async()=>{try{const t=await Ni.getClient(e);console.log("Fetched client data:",t),n(t),l(null)}catch(t){console.error("Error fetching client:",t),l("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),qs.error("\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{i(!1)}})()}),[e,t]),a?(0,Vr.jsx)("div",{className:"flex justify-center py-12",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s?(0,Vr.jsxs)("div",{className:"bg-red-50 text-red-600 p-6 rounded-lg",children:[(0,Vr.jsx)("h3",{className:"text-lg font-medium",children:s}),(0,Vr.jsx)("p",{className:"mt-2",children:(0,Vr.jsx)("button",{onClick:()=>t("/clients"),className:"text-red-700 underline",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u89a7\u306b\u623b\u308b"})})]}):r?(0,Vr.jsx)(TM,{id:e,client:r}):null},DM=()=>{const{clientId:e}=ie(),t=te(),r=ne();return o.useEffect((()=>{t.search&&r(`/clients/${e}/edit`,{replace:!0})}),[t.search,e,r]),(0,Vr.jsx)("div",{className:"p-4",children:(0,Vr.jsx)(vM,{clientId:e})})},MM=Object.create(null);MM.open="0",MM.close="1",MM.ping="2",MM.pong="3",MM.message="4",MM.upgrade="5",MM.noop="6";const IM=Object.create(null);Object.keys(MM).forEach((e=>{IM[MM[e]]=e}));const LM={type:"error",data:"parser error"},RM="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),FM="function"===typeof ArrayBuffer,BM=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,qM=(e,t,r)=>{let{type:n,data:a}=e;return RM&&a instanceof Blob?t?r(a):$M(a,r):FM&&(a instanceof ArrayBuffer||BM(a))?t?r(a):$M(new Blob([a]),r):r(MM[n]+(a||""))},$M=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function UM(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let zM;const HM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WM="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)WM[HM.charCodeAt(r)]=r;const VM="function"===typeof ArrayBuffer,KM=(e,t)=>{if("string"!==typeof e)return{type:"message",data:GM(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:YM(e.substring(1),t)};return IM[r]?e.length>1?{type:IM[r],data:e.substring(1)}:{type:IM[r]}:LM},YM=(e,t)=>{if(VM){const r=(e=>{let t,r,n,a,i,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)r=WM[e.charCodeAt(t)],n=WM[e.charCodeAt(t+1)],a=WM[e.charCodeAt(t+2)],i=WM[e.charCodeAt(t+3)],u[l++]=r<<2|n>>4,u[l++]=(15&n)<<4|a>>2,u[l++]=(3&a)<<6|63&i;return c})(e);return GM(r,t)}return{base64:!0,data:e}},GM=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,XM=String.fromCharCode(30);function QM(){return new TransformStream({transform(e,t){!function(e,t){RM&&e.data instanceof Blob?e.data.arrayBuffer().then(UM).then(t):FM&&(e.data instanceof ArrayBuffer||BM(e.data))?t(UM(e.data)):qM(e,!1,(e=>{zM||(zM=new TextEncoder),t(zM.encode(e))}))}(e,(r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(r)}))}})}let JM;function ZM(e){return e.reduce(((e,t)=>e+t.length),0)}function eI(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function tI(e){if(e)return function(e){for(var t in tI.prototype)e[t]=tI.prototype[t];return e}(e)}tI.prototype.on=tI.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},tI.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},tI.prototype.off=tI.prototype.removeListener=tI.prototype.removeAllListeners=tI.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},tI.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},tI.prototype.emitReserved=tI.prototype.emit,tI.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},tI.prototype.hasListeners=function(e){return!!this.listeners(e).length};const rI="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),nI="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function aI(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const iI=nI.setTimeout,oI=nI.clearTimeout;function sI(e,t){t.useNativeTimers?(e.setTimeoutFn=iI.bind(nI),e.clearTimeoutFn=oI.bind(nI)):(e.setTimeoutFn=nI.setTimeout.bind(nI),e.clearTimeoutFn=nI.clearTimeout.bind(nI))}function lI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class cI extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class uI extends tI{constructor(e){super(),this.writable=!1,sI(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new cI(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=KM(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class dI extends uI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(XM),n=[];for(let a=0;a<r.length;a++){const e=KM(r[a],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach(((e,i)=>{qM(e,!1,(e=>{n[i]=e,++a===r&&t(n.join(XM))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=lI()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let fI=!1;try{fI="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(YR){}const hI=fI;function pI(){}class mI extends dI{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class yI extends tI{constructor(e,t,r){super(),this.createRequest=e,sI(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=aI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(KR){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(KR){}try{r.setRequestHeader("Accept","*/*")}catch(KR){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(KR){return void this.setTimeoutFn((()=>{this._onError(KR)}),0)}"undefined"!==typeof document&&(this._index=yI.requestsCount++,yI.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=pI,e)try{this._xhr.abort()}catch(KR){}"undefined"!==typeof document&&delete yI.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(yI.requestsCount=0,yI.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",gI);else if("function"===typeof addEventListener){addEventListener("onpagehide"in nI?"pagehide":"unload",gI,!1)}function gI(){for(let e in yI.requests)yI.requests.hasOwnProperty(e)&&yI.requests[e].abort()}const vI=function(){const e=bI({xdomain:!1});return e&&null!==e.responseType}();function bI(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||hI))return new XMLHttpRequest}catch(KR){}if(!t)try{return new(nI[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(KR){}}const xI="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class wI extends uI{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=xI?{}:aI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(YR){return this.emitReserved("error",YR)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;qM(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(KR){}n&&rI((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=lI()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const jI=nI.WebSocket||nI.MozWebSocket;const _I={websocket:class extends wI{createSocket(e,t,r){return xI?new jI(e,t,r):t?new jI(e,t):new jI(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends uI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(YR){return this.emitReserved("error",YR)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){JM||(JM=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(o,s){for(r.push(o);;){if(0===n){if(ZM(r)<1)break;const e=eI(r,1);i=128===(128&e[0]),a=127&e[0],n=a<126?3:126===a?1:2}else if(1===n){if(ZM(r)<2)break;const e=eI(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(ZM(r)<8)break;const e=eI(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){s.enqueue(LM);break}a=i*Math.pow(2,32)+t.getUint32(4),n=3}else{if(ZM(r)<a)break;const e=eI(r,a);s.enqueue(KM(i?e:JM.decode(e),t)),n=0}if(0===a||a>e){s.enqueue(LM);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=QM();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const a=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),a())})).catch((e=>{}))};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then((()=>{n&&rI((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends mI{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=vI&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new yI(bI,this.uri(),e)}}},kI=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,NI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function SI(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=kI.exec(e||""),i={},o=14;for(;o--;)i[NI[o]]=a[o]||"";return-1!=r&&-1!=n&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,i.query),i}const OI="function"===typeof addEventListener&&"function"===typeof removeEventListener,EI=[];OI&&addEventListener("offline",(()=>{EI.forEach((e=>e()))}),!1);class CI extends tI{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=SI(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=SI(t.host).host);sI(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),OI&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},EI.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&CI.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",CI.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,rI((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(CI.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),OI&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=EI.indexOf(this._offlineEventListener);-1!==e&&EI.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}CI.protocol=4;class AI extends CI{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;CI.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;CI.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){r||(r=!0,c(),t.close(),t=null)}const i=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function o(){i("transport closed")}function s(){i("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",n),t.removeListener("error",i),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",n),t.once("error",i),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class TI extends AI{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>_I[e])).filter((e=>!!e))),super(e,t)}}const PI="function"===typeof ArrayBuffer,DI=Object.prototype.toString,MI="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===DI.call(Blob),II="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===DI.call(File);function LI(e){return PI&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||MI&&e instanceof Blob||II&&e instanceof File}function RI(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(RI(e[t]))return!0;return!1}if(LI(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return RI(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&RI(e[r]))return!0;return!1}function FI(e){const t=[],r=e.data,n=e;return n.data=BI(r,t),n.attachments=t.length,{packet:n,buffers:t}}function BI(e,t){if(!e)return e;if(LI(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=BI(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=BI(e[n],t));return r}return e}function qI(e,t){return e.data=$I(e.data,t),delete e.attachments,e}function $I(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=$I(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=$I(e[r],t));return e}const UI=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zI=5;var HI,WI;(WI=HI||(HI={}))[WI.CONNECT=0]="CONNECT",WI[WI.DISCONNECT=1]="DISCONNECT",WI[WI.EVENT=2]="EVENT",WI[WI.ACK=3]="ACK",WI[WI.CONNECT_ERROR=4]="CONNECT_ERROR",WI[WI.BINARY_EVENT=5]="BINARY_EVENT",WI[WI.BINARY_ACK=6]="BINARY_ACK";class VI{constructor(e){this.replacer=e}encode(e){return e.type!==HI.EVENT&&e.type!==HI.ACK||!RI(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===HI.EVENT?HI.BINARY_EVENT:HI.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==HI.BINARY_EVENT&&e.type!==HI.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=FI(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function KI(e){return"[object Object]"===Object.prototype.toString.call(e)}class YI extends tI{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===HI.BINARY_EVENT;r||t.type===HI.BINARY_ACK?(t.type=r?HI.EVENT:HI.ACK,this.reconstructor=new GI(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!LI(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===HI[r.type])throw new Error("unknown packet type "+r.type);if(r.type===HI.BINARY_EVENT||r.type===HI.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!YI.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(KR){return!1}}static isPayloadValid(e,t){switch(e){case HI.CONNECT:return KI(t);case HI.DISCONNECT:return void 0===t;case HI.CONNECT_ERROR:return"string"===typeof t||KI(t);case HI.EVENT:case HI.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===UI.indexOf(t[0]));case HI.ACK:case HI.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class GI{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=qI(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function XI(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const QI=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class JI extends tI{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[XI(e,"open",this.onopen.bind(this)),XI(e,"packet",this.onpacket.bind(this)),XI(e,"error",this.onerror.bind(this)),XI(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(QI.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const s={type:HI.EVENT,data:i,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),s.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a),o=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,r)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{const a=(e,r)=>e?n(e):t(r);a.withError=!0,r.push(a),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];r(null,...i)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:HI.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case HI.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case HI.EVENT:case HI.BINARY_EVENT:this.onevent(e);break;case HI.ACK:case HI.BINARY_ACK:this.onack(e);break;case HI.DISCONNECT:this.ondisconnect();break;case HI.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t.packet({type:HI.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:HI.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function ZI(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ZI.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},ZI.prototype.reset=function(){this.attempts=0},ZI.prototype.setMin=function(e){this.ms=e},ZI.prototype.setMax=function(e){this.max=e},ZI.prototype.setJitter=function(e){this.jitter=e};class eL extends tI{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,sI(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new ZI({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const a=t.parser||n;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new TI(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=XI(t,"open",(function(){r.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=XI(t,"error",a);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(XI(e,"ping",this.onping.bind(this)),XI(e,"data",this.ondata.bind(this)),XI(e,"error",this.onerror.bind(this)),XI(e,"close",this.onclose.bind(this)),XI(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(KR){this.onclose("parse error",KR)}}ondecoded(e){rI((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new JI(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const tL={};function rL(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=SI(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,i=r.path,o=tL[a]&&i in tL[a].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new eL(n,t):(tL[a]||(tL[a]=new eL(n,t)),s=tL[a]),r.query&&!t.query&&(t.query=r.queryKey),s.socket(r.path,t)}Object.assign(rL,{Manager:eL,Socket:JI,io:rL,connect:rL});const nL=()=>(0,Vr.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,Vr.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 max-w-md text-center",children:[(0,Vr.jsx)("h2",{className:"text-2xl font-semibold text-yellow-800 mb-4",children:"\u30c1\u30e3\u30c3\u30c8\u6a5f\u80fd\u306f\u73fe\u5728\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u4e2d\u3067\u3059"}),(0,Vr.jsx)("p",{className:"text-yellow-700 mb-6",children:"\u3053\u306e\u6a5f\u80fd\u306f\u4e00\u6642\u7684\u306b\u505c\u6b62\u3057\u3066\u3044\u307e\u3059\u3002\u6e96\u5099\u304c\u3067\u304d\u6b21\u7b2c\u3001\u518d\u5ea6\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002"}),(0,Vr.jsx)("div",{className:"text-sm text-yellow-600",children:"\u4eca\u5f8c\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u304a\u5f85\u3061\u304f\u3060\u3055\u3044"})]})}),aL=()=>(0,Vr.jsx)("div",{className:"p-4",children:"Wiki Coming Soon"});function iL(e,t,r){const n=Di(e,r?.in);if(isNaN(t))return Pi(r?.in||e,NaN);if(!t)return n;const a=n.getDate(),i=Pi(r?.in||e,n.getTime());i.setMonth(n.getMonth()+t+1,0);return a>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function oL(e,t,r){const{years:n=0,months:a=0,weeks:i=0,days:o=0,hours:s=0,minutes:l=0,seconds:c=0}=t,u=Di(e,r?.in),d=a||n?iL(u,a+12*n):u,f=o||i?Mi(d,o+7*i):d,h=1e3*(c+60*(l+60*s));return Pi(r?.in||e,+f+h)}function sL(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return 0===r?0:r}}function lL(e,t,r){const[n,a]=Vi(r?.in,e,t),i=(+n-+a)/Ai;return sL(r?.roundingMethod)(i)}function cL(e,t){return+Di(e)-+Di(t)}function uL(e,t,r){const n=cL(e,t)/Ci;return sL(r?.roundingMethod)(n)}function dL(e,t){const r=+Di(e)-+Di(t);return r<0?-1:r>0?1:r}function fL(e,t,r){const[n,a]=Vi(r?.in,e,t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}function hL(e,t){const r=Di(e,t?.in);return r.setHours(23,59,59,999),r}function pL(e,t){const r=Di(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function mL(e,t){const r=Di(e,t?.in);return+hL(r,t)===+pL(r,t)}function yL(e,t,r){const[n,a,i]=Vi(r?.in,e,e,t),o=dL(a,i),s=Math.abs(fL(a,i));if(s<1)return 0;1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*s);let l=dL(a,i)===-o;mL(n)&&1===s&&1===dL(n,i)&&(l=!1);const c=o*(s-+l);return 0===c?0:c}function gL(e,t,r){const n=cL(e,t)/1e3;return sL(r?.roundingMethod)(n)}function vL(e,t,r){const[n,a]=Vi(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function bL(e,t,r){const[n,a]=Vi(r?.in,e,t),i=dL(n,a),o=Math.abs(vL(n,a));n.setFullYear(1584),a.setFullYear(1584);const s=i*(o-+(dL(n,a)===-i));return 0===s?0:s}function xL(e,t){const{start:r,end:n}=function(e,t){const[r,n]=Vi(e,t.start,t.end);return{start:r,end:n}}(t?.in,e),a={},i=bL(n,r);i&&(a.years=i);const o=oL(r,{years:a.years}),s=yL(n,o);s&&(a.months=s);const l=oL(o,{months:a.months}),c=Uo(n,l);c&&(a.days=c);const u=oL(l,{days:a.days}),d=lL(n,u);d&&(a.hours=d);const f=oL(u,{hours:a.hours}),h=uL(n,f);h&&(a.minutes=h);const p=gL(n,oL(f,{minutes:a.minutes}));return p&&(a.seconds=p),a}const wL=e=>{let{activeTimer:t,activeBreak:r,onStartTimer:n,onStopTimer:a,onStartBreak:i,onStopBreak:s,availableTasks:l,availableClients:c,loading:u}=e;const[d,f]=(0,o.useState)(""),[h,p]=(0,o.useState)(""),[m,y]=(0,o.useState)(""),[g,v]=(0,o.useState)("00:00:00"),b=((0,o.useRef)(null),(0,o.useRef)(null)),x=e=>e?To(Do(e),"HH:mm"):"";(0,o.useEffect)((()=>(t?(w(),b.current=setInterval(w,1e3)):(clearInterval(b.current),v("00:00:00")),()=>{clearInterval(b.current)})),[t,r]);const w=()=>{if(!t)return;const e=new Date(t.start_time),n=new Date;if(r)return;let a=xL({start:e,end:n});const i=[String(a.hours).padStart(2,"0"),String(a.minutes).padStart(2,"0"),String(a.seconds).padStart(2,"0")].join(":");v(i)};return(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,Vr.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,Vr.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"\u30bf\u30a4\u30e0\u30c8\u30e9\u30c3\u30ab\u30fc"}),t?(0,Vr.jsxs)("div",{className:"mb-2",children:[(0,Vr.jsx)("p",{className:"text-lg font-medium",children:t.description||"\u4f5c\u696d\u4e2d"}),(0,Vr.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[t.client&&(0,Vr.jsx)("span",{className:"badge badge-primary",children:t.client.name}),t.task&&(0,Vr.jsx)("span",{className:"badge badge-secondary",children:t.task.title}),(0,Vr.jsxs)("span",{className:"badge",children:["\u958b\u59cb: ",x(t.start_time)]})]})]}):(0,Vr.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,Vr.jsxs)("select",{className:"select select-bordered max-w-xs",value:m,onChange:e=>y(e.target.value),disabled:null!==t||u,children:[(0,Vr.jsx)("option",{value:"",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u9078\u629e"}),c.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,Vr.jsxs)("select",{className:"select select-bordered max-w-xs",value:h,onChange:e=>p(e.target.value),disabled:null!==t||u,children:[(0,Vr.jsx)("option",{value:"",children:"\u30bf\u30b9\u30af\u3092\u9078\u629e"}),l.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.title},e.id)))]}),(0,Vr.jsx)("input",{type:"text",placeholder:"\u4f5c\u696d\u5185\u5bb9",className:"input input-bordered w-full max-w-xs",value:d,onChange:e=>f(e.target.value),disabled:null!==t||u})]})]}),(0,Vr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vr.jsx)("div",{className:"text-3xl font-mono "+(r?"text-gray-400":"text-gray-800"),children:g}),t?(0,Vr.jsxs)("div",{className:"flex gap-2",children:[r?(0,Vr.jsx)("button",{className:"btn btn-success",onClick:s,disabled:u,children:"\u4f11\u61a9\u7d42\u4e86"}):(0,Vr.jsx)("button",{className:"btn btn-warning",onClick:i,disabled:u,children:"\u4f11\u61a9"}),(0,Vr.jsx)("button",{className:"btn btn-error",onClick:a,disabled:u,children:"\u505c\u6b62"})]}):(0,Vr.jsx)("button",{className:"btn btn-primary",onClick:()=>{n({description:d,task_id:h||null,client_id:m||null}),f(""),p(""),y("")},disabled:u,children:"\u30bf\u30a4\u30de\u30fc\u958b\u59cb"})]})]}),r&&(0,Vr.jsxs)("div",{className:"mt-4 p-3 bg-yellow-100 rounded-md flex justify-between items-center",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsxs)("p",{className:"font-medium text-yellow-800",children:["\u4f11\u61a9\u4e2d - ",r.reason||"\u4f11\u61a9"]}),(0,Vr.jsxs)("p",{className:"text-sm text-yellow-700",children:["\u958b\u59cb: ",x(r.start_time)]})]}),(0,Vr.jsx)("button",{className:"btn btn-sm btn-success",onClick:s,disabled:u,children:"\u4f11\u61a9\u7d42\u4e86"})]})]})},jL=e=>{let{selectedRange:t,userFilter:r,clientFilter:n,taskFilter:a,customDateRange:i,onRangeChange:s,onUserFilterChange:l,onClientFilterChange:c,onTaskFilterChange:u,onCustomDateChange:d,users:f,availableClients:h,availableTasks:p,compact:m=!1}=e;const[y,g]=(0,o.useState)("custom"===t),v=m?"p-0 mb-0":"bg-white rounded-lg shadow-md p-6 mb-8",b=m?"grid grid-cols-1 md:grid-cols-5 lg:grid-cols-6 gap-2":"grid grid-cols-1 md:grid-cols-4 gap-4",x=m?"select select-bordered select-sm w-full":"select select-bordered w-full",w=m?"block text-xs font-medium text-gray-700 mb-1":"block text-sm font-medium text-gray-700 mb-1";return(0,Vr.jsx)("div",{className:v,children:(0,Vr.jsxs)("div",{className:b,children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:w,children:"\u30e6\u30fc\u30b6\u30fc"}),(0,Vr.jsxs)("select",{className:x,value:r,onChange:e=>l(e.target.value),children:[(0,Vr.jsx)("option",{value:"all",children:"\u5168\u3066\u306e\u30e6\u30fc\u30b6\u30fc"}),f.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.get_full_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.email},e.id)))]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:w,children:"\u671f\u9593"}),(0,Vr.jsxs)("select",{className:x,value:t,onChange:e=>{const t=e.target.value;s(t),g("custom"===t)},children:[(0,Vr.jsx)("option",{value:"today",children:"\u4eca\u65e5"}),(0,Vr.jsx)("option",{value:"week",children:"\u4eca\u9031"}),(0,Vr.jsx)("option",{value:"month",children:"\u4eca\u6708"}),(0,Vr.jsx)("option",{value:"custom",children:"\u30ab\u30b9\u30bf\u30e0\u671f\u9593"})]})]}),y&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:w,children:"\u958b\u59cb\u65e5"}),(0,Vr.jsx)("input",{type:"date",className:x.replace("select","input"),value:i.startDate,onChange:e=>d({...i,startDate:e.target.value})})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:w,children:"\u7d42\u4e86\u65e5"}),(0,Vr.jsx)("input",{type:"date",className:x.replace("select","input"),value:i.endDate,onChange:e=>d({...i,endDate:e.target.value})})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:w,children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,Vr.jsxs)("select",{className:x,value:n,onChange:e=>c(e.target.value),children:[(0,Vr.jsx)("option",{value:"all",children:"\u5168\u3066\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),h.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("label",{className:w,children:"\u30bf\u30b9\u30af"}),(0,Vr.jsxs)("select",{className:x,value:a,onChange:e=>u(e.target.value),children:[(0,Vr.jsx)("option",{value:"all",children:"\u5168\u3066\u306e\u30bf\u30b9\u30af"}),p.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.title},e.id)))]})]})]})})};var _L,kL=["layout","type","stroke","connectNulls","isRange","ref"],NL=["key"];function SL(e){return SL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SL(e)}function OL(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EL(){return EL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EL.apply(this,arguments)}function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CL(Object(r),!0).forEach((function(t){LL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RL(n.key),n)}}function PL(e,t,r){return t=ML(t),function(e,t){if(t&&("object"===SL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DL()?Reflect.construct(t,r||[],ML(e).constructor):t.apply(e,r))}function DL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DL=function(){return!!e})()}function ML(e){return ML=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ML(e)}function IL(e,t){return IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IL(e,t)}function LL(e,t,r){return(t=RL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RL(e){var t=function(e,t){if("object"!=SL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=SL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SL(t)?t:t+""}var FL=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return LL(e=PL(this,t,[].concat(n)),"state",{isAnimationFinished:!0}),LL(e,"id",il("recharts-area-")),LL(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),pl()(t)&&t()})),LL(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),pl()(t)&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IL(e,t)}(t,e),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(e,r,n){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=ql(this.props,!1),f=ql(l,!0),h=c.map((function(e,r){var n=AL(AL(AL({key:"dot-".concat(r),r:3},d),f),{},{index:r,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,n)})),p={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return o.createElement(uc,EL({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].x,s=n[n.length-1].x,l=e*Math.abs(i-s),c=Zv()(n.map((function(e){return e.y||0})));return rl(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Zv()(r.map((function(e){return e.y||0}))),c)),rl(c)?o.createElement("rect",{x:i<s?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].y,s=n[n.length-1].y,l=e*Math.abs(i-s),c=Zv()(n.map((function(e){return e.x||0})));return rl(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(Zv()(r.map((function(e){return e.x||0}))),c)),rl(c)?o.createElement("rect",{x:0,y:i<s?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var a=this.props,i=a.layout,s=a.type,l=a.stroke,c=a.connectNulls,u=a.isRange,d=(a.ref,OL(a,kL));return o.createElement(uc,{clipPath:r?"url(#clipPath-".concat(n,")"):null},o.createElement(Xk,EL({},ql(d,!0),{points:e,connectNulls:c,type:s,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==l&&o.createElement(Xk,EL({},ql(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&o.createElement(Xk,EL({},ql(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.baseLine,s=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,u=n.animationEasing,d=n.animationId,f=this.state,h=f.prevPoints,p=f.prevBaseLine;return o.createElement(Hf,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var s=n.t;if(h){var l,c=h.length/a.length,u=a.map((function(e,t){var r=Math.floor(t*c);if(h[r]){var n=h[r],a=ll(n.x,e.x),i=ll(n.y,e.y);return AL(AL({},e),{},{x:a(s),y:i(s)})}return e}));return l=rl(i)&&"number"===typeof i?ll(p,i)(s):fl()(i)||Gs()(i)?ll(p,0)(s):i.map((function(e,t){var r=Math.floor(t*c);if(p[r]){var n=p[r],a=ll(n.x,e.x),i=ll(n.y,e.y);return AL(AL({},e),{},{x:a(s),y:i(s)})}return e})),r.renderAreaStatically(u,l,e,t)}return o.createElement(uc,null,o.createElement("defs",null,o.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(s))),o.createElement(uc,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(a,i,e,t)))}))}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,a=r.baseLine,i=r.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&n&&n.length&&(!s&&c>0||!ib()(s,n)||!ib()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,s=t.top,l=t.left,c=t.xAxis,u=t.yAxis,d=t.width,f=t.height,h=t.isAnimationActive,p=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,y=1===a.length,g=zs("recharts-area",i),v=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,x=v||b,w=fl()(p)?this.id:p,j=null!==(e=ql(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},_=j.r,k=void 0===_?3:_,N=j.strokeWidth,S=void 0===N?2:N,O=(function(e){return e&&"object"===Cl(e)&&"clipDot"in e}(n)?n:{}).clipDot,E=void 0===O||O,C=2*k+S;return o.createElement(uc,{className:g},v||b?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(w)},o.createElement("rect",{x:v?l:l-d/2,y:b?s:s-f/2,width:v?d:2*d,height:b?f:2*f})),!E&&o.createElement("clipPath",{id:"clipPath-dots-".concat(w)},o.createElement("rect",{x:l-C/2,y:s-C/2,width:d+C,height:f+C}))):null,y?null:this.renderArea(x,w),(n||y)&&this.renderDots(x,E,w),(!h||m)&&Rw.renderCallByParent(this.props,a))}}])&&TL(r.prototype,n),a&&TL(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.PureComponent);_L=FL,LL(FL,"displayName","Area"),LL(FL,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Rc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),LL(FL,"getBaseValue",(function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!==o&&void 0!==o?o:i;if(rl(s)&&"number"===typeof s)return s;var l="horizontal"===a?n:r,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]})),LL(FL,"getComposedData",(function(e){var t,r=e.props,n=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=r.layout,m=u&&u.length,y=_L.getBaseValue(r,n,a,i),g="horizontal"===p,v=!1,b=f.map((function(e,t){var r;m?r=u[d+t]:(r=nx(e,c),Array.isArray(r)?v=!0:r=[y,r]);var n=null==r[1]||m&&null==nx(e,c);return g?{x:bx({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:n?null:i.scale(r[1]),value:r,payload:e}:{x:n?null:a.scale(r[1]),y:bx({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:r,payload:e}}));return t=m||v?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}})):g?i.scale(y):a.scale(y),AL({points:b,baseLine:t,layout:p,isRange:v},h)})),LL(FL,"renderDotItem",(function(e,t){var r;if(o.isValidElement(e))r=o.cloneElement(e,t);else if(pl()(e))r=e(t);else{var n=zs("recharts-area-dot","boolean"!==typeof e?e.className:""),a=t.key,i=OL(t,NL);r=o.createElement(pd,EL({},i,{key:a,className:n}))}return r}));var BL=HN({chartName:"AreaChart",GraphicalChild:FL,axisComponents:[{axisType:"xAxis",AxisComp:NS},{axisType:"yAxis",AxisComp:LS}],formatAxisMap:Zj});const qL=e=>{let{timeChartData:t}=e;const r=Array.isArray(t)?[...t].sort(((e,t)=>{if(e.name&&t.name){const r=/^\d{4}[/-]\d{1,2}[/-]\d{1,2}$/;if(r.test(e.name)&&r.test(t.name))return new Date(e.name)-new Date(t.name)}return 0})):[],n=new Date,a=new Date(n);a.setDate(n.getDate()-n.getDay());const i=new Date(a);i.setDate(i.getDate()-7);const o=r.filter((e=>{try{const t=new Date(e.name);return t>=a&&t<new Date(a.getTime()+6048e5)}catch(KR){return!1}})),s=r.filter((e=>{try{const t=new Date(e.name);return t>=i&&t<a}catch(KR){return!1}})),l=e=>e.reduce(((e,t)=>e+(t["Total Hours"]||0)),0),c=l(o),u=l(s);let d=0;return u>0&&(d=(c-u)/u*100),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,Vr.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium mb-2 text-blue-800",children:"\u4eca\u9031\u306e\u5408\u8a08\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("div",{className:"flex justify-between items-end",children:[(0,Vr.jsxs)("div",{className:"text-3xl font-bold text-blue-700",children:[c.toFixed(1)," ",(0,Vr.jsx)("span",{className:"text-sm font-normal",children:"\u6642\u9593"})]}),(0,Vr.jsx)("div",{className:"text-sm font-medium "+(d>0?"text-green-600":d<0?"text-red-600":"text-gray-600"),children:0!==d?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("span",{children:[d>0?"\u2191":"\u2193"," ",Math.abs(d).toFixed(1),"%"]}),(0,Vr.jsx)("span",{className:"text-gray-500 ml-1",children:"\u5148\u9031\u6bd4"})]}):(0,Vr.jsx)("span",{className:"text-gray-500",children:"\u5148\u9031\u3068\u540c\u3058"})})]})]}),(0,Vr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Vr.jsx)("h3",{className:"text-md font-medium mb-2 text-gray-700",children:"\u9031\u9593\u30c8\u30ec\u30f3\u30c9"}),(0,Vr.jsx)("div",{className:"h-20",children:(0,Vr.jsx)(Xl,{width:"100%",height:"100%",children:(0,Vr.jsxs)(BL,{data:o.length>0?o:[{name:"\u6708","Total Hours":0,"Billable Hours":0},{name:"\u706b","Total Hours":0,"Billable Hours":0},{name:"\u6c34","Total Hours":0,"Billable Hours":0},{name:"\u6728","Total Hours":0,"Billable Hours":0},{name:"\u91d1","Total Hours":0,"Billable Hours":0},{name:"\u571f","Total Hours":0,"Billable Hours":0},{name:"\u65e5","Total Hours":0,"Billable Hours":0}],margin:{top:0,right:0,left:0,bottom:0},children:[(0,Vr.jsx)(FL,{type:"monotone",dataKey:"Total Hours",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),(0,Vr.jsx)(Jc,{formatter:e=>`${e.toFixed(1)}\u6642\u9593`})]})})})]})]}),(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u65e5\u4ed8"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u66dc\u65e5"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u5408\u8a08\u6642\u9593"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u8acb\u6c42\u53ef\u80fd\u6642\u9593"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u751f\u7523\u6027"})]})}),(0,Vr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.length>0?o.map(((e,t)=>{const r=new Date(e.name),n=isNaN(r.getTime())?e.name:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"][r.getDay()],a=e["Total Hours"]||0,i=e["Billable Hours"]||0,o=a>0?i/a*100:0,s=r.toDateString()===(new Date).toDateString();return(0,Vr.jsxs)("tr",{className:(s?"bg-blue-50":"")+" hover:bg-gray-50",children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:isNaN(r.getTime())?e.name:r.toLocaleDateString()}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n}),(0,Vr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.toFixed(1),"\u6642\u9593"]}),(0,Vr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[i.toFixed(1),"\u6642\u9593"]}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,Vr.jsx)("div",{className:"h-2.5 rounded-full "+(o>=80?"bg-green-600":o>=50?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,o)}%`}})}),(0,Vr.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[o.toFixed(0),"%"]})]})})]},t)})):(0,Vr.jsx)("tr",{children:(0,Vr.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})})})]})})]})},$L=e=>{let{timeChartData:t,projectChartData:r,COLORS:n}=e;const[a,i]=(0,o.useState)("charts");return(0,Vr.jsxs)("div",{className:"mb-8",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold",children:"\u4f5c\u696d\u6642\u9593\u5206\u6790"}),(0,Vr.jsxs)("div",{className:"tabs tabs-boxed",children:[(0,Vr.jsx)("a",{className:"tab "+("charts"===a?"tab-active":""),onClick:()=>i("charts"),children:"\u30b0\u30e9\u30d5"}),(0,Vr.jsx)("a",{className:"tab "+("daily"===a?"tab-active":""),onClick:()=>i("daily"),children:"\u65e5\u5225\u30b5\u30de\u30ea\u30fc"})]})]}),"charts"===a?(0,Vr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\u65e5\u5225\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsx)("div",{className:"h-64",children:(0,Vr.jsx)(Xl,{width:"100%",height:"100%",children:(0,Vr.jsxs)(RS,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Vr.jsx)(tO,{strokeDasharray:"3 3"}),(0,Vr.jsx)(NS,{dataKey:"name"}),(0,Vr.jsx)(LS,{}),(0,Vr.jsx)(Jc,{}),(0,Vr.jsx)(fd,{}),(0,Vr.jsx)(Vj,{dataKey:"Total Hours",name:"\u5408\u8a08\u6642\u9593",fill:"#3B82F6"}),(0,Vr.jsx)(Vj,{dataKey:"Billable Hours",name:"\u8acb\u6c42\u53ef\u80fd\u6642\u9593",fill:"#10B981"})]})})})]}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5225\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsx)("div",{className:"h-64",children:r.length>0?(0,Vr.jsx)(Xl,{width:"100%",height:"100%",children:(0,Vr.jsxs)(rE,{children:[(0,Vr.jsx)(tE,{data:r,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,percent:r}=e;return`${t} ${(100*r).toFixed(0)}%`},children:r.map(((e,t)=>(0,Vr.jsx)(_w,{fill:n[t%n.length]},`cell-${t}`)))}),(0,Vr.jsx)(Jc,{formatter:e=>`${e.toFixed(1)}\u6642\u9593`})]})}):(0,Vr.jsx)("div",{className:"h-full flex items-center justify-center text-gray-400",children:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})})]})]}):(0,Vr.jsx)(qL,{timeChartData:t})]})},UL=e=>{let{summaryData:t}=e;return t?(0,Vr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"\u4eca\u65e5\u306e\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("div",{className:"flex items-end",children:[(0,Vr.jsxs)("p",{className:"text-3xl font-bold text-primary-600",children:[t.today.hours.toFixed(1),"h"]}),(0,Vr.jsxs)("p",{className:"text-sm text-gray-500 ml-2",children:[t.today.entry_count," \u30a8\u30f3\u30c8\u30ea"]})]})]}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"\u4eca\u9031\u306e\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("div",{className:"flex items-end",children:[(0,Vr.jsxs)("p",{className:"text-3xl font-bold text-primary-600",children:[t.this_week.hours.toFixed(1),"h"]}),(0,Vr.jsxs)("p",{className:"text-sm text-gray-500 ml-2",children:[t.this_week.entry_count," \u30a8\u30f3\u30c8\u30ea"]})]})]}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Vr.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"\u4eca\u6708\u306e\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsxs)("div",{className:"flex items-end",children:[(0,Vr.jsxs)("p",{className:"text-3xl font-bold text-primary-600",children:[t.this_month.hours.toFixed(1),"h"]}),(0,Vr.jsxs)("p",{className:"text-sm text-gray-500 ml-2",children:[t.this_month.entry_count," \u30a8\u30f3\u30c8\u30ea"]})]})]})]}):null},zL=e=>{let{entries:t,onDelete:r,onEdit:n,loading:a,availableTasks:i=[],availableClients:s=[]}=e;const[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)({description:"",client_id:"",task_id:"",start_time:"",end_time:"",duration_seconds:0}),f=e=>{if(!e)return"0h 0m";return`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`},h=e=>{if(!e)return"00:00";return`${Math.floor(e/3600).toString().padStart(2,"0")}:${Math.floor(e%3600/60).toString().padStart(2,"0")}`},p=e=>e?To(Do(e),"HH:mm"):"",m=e=>e?To(Do(e),"yyyy-MM-dd'T'HH:mm"):"",y=()=>{c(null),d({description:"",client_id:"",task_id:"",start_time:"",end_time:"",duration_seconds:0})},g=()=>{n&&l&&(n(l,{...u,client_id:u.client_id?parseInt(u.client_id,10):null,task_id:u.task_id?parseInt(u.task_id,10):null}),y())},v=e=>{const{name:t,value:r}=e.target;if(d((e=>({...e,[t]:r}))),("start_time"===t||"end_time"===t)&&u.start_time&&u.end_time){const e=new Date(u.start_time),t=(new Date(u.end_time)-e)/1e3;t>0&&d((e=>({...e,duration_seconds:t})))}if("duration"===t){const e=(e=>{if(!e)return 0;const[t,r]=e.split(":").map(Number);return 3600*t+60*r})(r);if(u.start_time&&e>0){const t=new Date(u.start_time),r=new Date(t.getTime()+1e3*e);d((t=>({...t,end_time:m(r.toISOString()),duration_seconds:e})))}}};return(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Vr.jsx)("thead",{className:"bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30e6\u30fc\u30b6\u30fc"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u65e5\u4ed8"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u6642\u9593"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u4f5c\u696d\u6642\u9593"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30bf\u30b9\u30af"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u5185\u5bb9"}),(0,Vr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u30a2\u30af\u30b7\u30e7\u30f3"})]})}),(0,Vr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length>0?t.map((e=>{return(0,Vr.jsx)("tr",{className:"hover:bg-gray-50 "+(l===e.id?"bg-blue-50":""),children:l===e.id?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-500",children:e.user?e.user.get_full_name||e.user.email:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,Vr.jsx)("input",{type:"date",name:"start_date",value:u.start_time?u.start_time.split("T")[0]:"",onChange:e=>{const t=u.start_time?u.start_time.split("T")[1]:"00:00";v({target:{name:"start_time",value:`${e.target.value}T${t}`}})},className:"border border-gray-300 rounded px-2 py-1 text-sm w-full"})}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,Vr.jsxs)("div",{className:"flex space-x-1",children:[(0,Vr.jsx)("input",{type:"time",name:"start_time_clock",value:u.start_time?u.start_time.split("T")[1]:"",onChange:e=>{const t=u.start_time?u.start_time.split("T")[0]:(new Date).toISOString().split("T")[0];v({target:{name:"start_time",value:`${t}T${e.target.value}`}})},className:"border border-gray-300 rounded px-2 py-1 text-sm w-full"}),(0,Vr.jsx)("span",{className:"self-center",children:"-"}),(0,Vr.jsx)("input",{type:"time",name:"end_time_clock",value:u.end_time?u.end_time.split("T")[1]:"",onChange:e=>{const t=u.end_time?u.end_time.split("T")[0]:u.start_time?u.start_time.split("T")[0]:(new Date).toISOString().split("T")[0];v({target:{name:"end_time",value:`${t}T${e.target.value}`}})},className:"border border-gray-300 rounded px-2 py-1 text-sm w-full"})]})}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,Vr.jsx)("input",{type:"time",name:"duration",value:h(u.duration_seconds),onChange:v,className:"border border-gray-300 rounded px-2 py-1 text-sm w-full"})}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,Vr.jsxs)("select",{name:"client_id",value:u.client_id,onChange:v,className:"border border-gray-300 rounded px-2 py-1 text-sm w-full",children:[(0,Vr.jsx)("option",{value:"",children:"- \u9078\u629e\u306a\u3057 -"}),s.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,Vr.jsxs)("select",{name:"task_id",value:u.task_id,onChange:v,className:"border border-gray-300 rounded px-2 py-1 text-sm w-full",children:[(0,Vr.jsx)("option",{value:"",children:"- \u9078\u629e\u306a\u3057 -"}),i.map((e=>(0,Vr.jsx)("option",{value:e.id,children:e.title},e.id)))]})}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,Vr.jsx)("input",{type:"text",name:"description",value:u.description,onChange:v,className:"border border-gray-300 rounded px-2 py-1 text-sm w-full",placeholder:"\u4f5c\u696d\u5185\u5bb9"})}),(0,Vr.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-right",children:(0,Vr.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Vr.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium",onClick:g,children:"\u4fdd\u5b58"}),(0,Vr.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:y,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.user?e.user.get_full_name||e.user.email:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(t=e.start_time,t?To(Do(t),"yyyy/MM/dd"):"")}),(0,Vr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p(e.start_time)," - ",e.end_time?p(e.end_time):"\u9032\u884c\u4e2d"]}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.duration_seconds?f(e.duration_seconds):"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.client?e.client.name:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.task?e.task.title:"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:e.description||"-"}),(0,Vr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Vr.jsx)("div",{className:"flex justify-end space-x-2",children:!e.is_running&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>(e=>{c(e.id),d({description:e.description||"",client_id:e.client?e.client.id.toString():"",task_id:e.task?e.task.id.toString():"",start_time:m(e.start_time),end_time:e.end_time?m(e.end_time):"",duration_seconds:e.duration_seconds||0})})(e),disabled:a,children:"\u7de8\u96c6"}),(0,Vr.jsx)("button",{className:"text-red-600 hover:text-red-800",onClick:()=>r(e.id),disabled:a,children:"\u524a\u9664"})]})})})]})},e.id);var t})):(0,Vr.jsx)("tr",{children:(0,Vr.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"\u691c\u7d22\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u4f5c\u696d\u6642\u9593\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002"})})})]})})},HL=()=>{const{currentUser:e}=Gr(),{showToast:t}=$s(),[r,n]=(0,o.useState)(!0),[a,i]=(0,o.useState)([]),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)(null),[d,f]=(0,o.useState)(null),[h,p]=(0,o.useState)("today"),[m,y]=(0,o.useState)(""),[g,v]=(0,o.useState)("all"),[b,x]=(0,o.useState)("all"),[w,j]=(0,o.useState)(null),[_,k]=(0,o.useState)({timeChart:[],projectChart:[]}),[N,S]=(0,o.useState)([]),[O,E]=(0,o.useState)([]),[C,A]=(0,o.useState)([]),[T,P]=(0,o.useState)({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0]});(0,o.useEffect)((()=>{D()}),[]),(0,o.useEffect)((()=>{e&&e.id&&y(e.id.toString())}),[e]),(0,o.useEffect)((()=>{I()}),[a,m,g,b,h,T]);const D=async()=>{n(!0);try{const[t,r,n,a,o]=await Promise.all([Si.getTimeEntries().catch((e=>[])),Si.getDashboardSummary().catch((e=>({today:{hours:0,entry_count:0},this_week:{hours:0,entry_count:0},this_month:{hours:0,entry_count:0},has_active_timer:!1}))),ki.getTasks().catch((e=>[])),Ni.getClients().catch((e=>[])),Oi.getBusinessUsers().catch((e=>[]))]);i(t),j(r);const s=Array.isArray(n)?n:(null===n||void 0===n?void 0:n.results)||[];S(s);const l=Array.isArray(a)?a:(null===a||void 0===a?void 0:a.results)||[];E(l);const c=Array.isArray(o)?o:(null===o||void 0===o?void 0:o.results)||[];A(c);const d=t.find((e=>e.is_running||!e.end_time));if(u(d||null),d)try{const e=await Si.getBreaks(d.id),t=Array.isArray(e)?e.find((e=>!e.end_time)):null;f(t||null)}catch(e){console.error("Error fetching breaks:",e)}await M()}catch(e){console.error("Error fetching initial data:",e),t("\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}finally{n(!1)}},M=async()=>{try{const e=await Si.getChartData("time","custom"===h?"week":h),t=e.labels.map(((t,r)=>{const n={name:t};return e.datasets.forEach((e=>{n[e.label]=e.data[r]})),n})),r=[];if(a.length>0){const e=a.reduce(((e,t)=>{const r=t.client?t.client.name:"No Client";return e[r]||(e[r]={total:0,entries:[]}),t.duration_seconds&&(e[r].entries.push(t),e[r].total+=t.duration_seconds/3600),e}),{});Object.entries(e).forEach((e=>{let[t,n]=e;n.total>0&&r.push({name:t,value:n.total})}))}k({timeChart:t,projectChart:r})}catch(e){console.error("Error fetching chart data:",e),t("\u30c1\u30e3\u30fc\u30c8\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},I=()=>{if(!a.length)return void l([]);let e=[...a];"all"!==m&&(e=e.filter((e=>e.user&&e.user.id.toString()===m))),"all"!==g&&(e=e.filter((e=>e.client&&e.client.id.toString()===g))),"all"!==b&&(e=e.filter((e=>e.task&&e.task.id.toString()===b)));const t=new Date;if(t.setHours(0,0,0,0),"today"===h)e=e.filter((e=>new Date(e.start_time).toDateString()===t.toDateString()));else if("week"===h){const r=new Date(t);r.setDate(t.getDate()-t.getDay()),e=e.filter((e=>new Date(e.start_time)>=r))}else if("month"===h){const r=new Date(t.getFullYear(),t.getMonth(),1);e=e.filter((e=>new Date(e.start_time)>=r))}else if("custom"===h&&T.startDate&&T.endDate){const t=new Date(T.startDate);t.setHours(0,0,0,0);const r=new Date(T.endDate);r.setHours(23,59,59,999),e=e.filter((e=>{const n=new Date(e.start_time);return n>=t&&n<=r}))}e.sort(((e,t)=>new Date(t.start_time)-new Date(e.start_time))),l(e)};if(r)return(0,Vr.jsx)("div",{className:"p-4 flex justify-center items-center h-full",children:(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full text-primary mb-4",role:"status",children:(0,Vr.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Vr.jsx)("p",{children:"\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]})});return(0,Vr.jsxs)("div",{className:"p-4",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\u4f5c\u696d\u6642\u9593\u7ba1\u7406"}),(0,Vr.jsx)(UL,{summaryData:w}),(0,Vr.jsx)(wL,{activeTimer:c,activeBreak:d,onStartTimer:async e=>{try{const r=await Si.startTimeEntry(e);u(r);const n=await Si.getTimeEntries();i(n),t("\u30bf\u30a4\u30de\u30fc\u3092\u958b\u59cb\u3057\u307e\u3057\u305f","success")}catch(r){console.error("Error starting timer:",r),t("\u30bf\u30a4\u30de\u30fc\u306e\u958b\u59cb\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},onStopTimer:async()=>{if(c)try{d&&(await Si.stopBreak(d.id),f(null)),await Si.stopTimeEntry(c.id),u(null);const e=await Si.getTimeEntries();i(e);const r=await Si.getDashboardSummary();j(r),t("\u30bf\u30a4\u30de\u30fc\u3092\u505c\u6b62\u3057\u307e\u3057\u305f","success"),await M()}catch(e){console.error("Error stopping timer:",e),t("\u30bf\u30a4\u30de\u30fc\u306e\u505c\u6b62\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},onStartBreak:async()=>{if(c)try{const e=await Si.startBreak(c.id,{reason:"\u4f11\u61a9"});f(e),t("\u4f11\u61a9\u3092\u958b\u59cb\u3057\u307e\u3057\u305f","success")}catch(e){console.error("Error starting break:",e),t("\u4f11\u61a9\u306e\u958b\u59cb\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},onStopBreak:async()=>{if(d)try{await Si.stopBreak(d.id),f(null),t("\u4f11\u61a9\u3092\u7d42\u4e86\u3057\u307e\u3057\u305f","success")}catch(e){console.error("Error stopping break:",e),t("\u4f11\u61a9\u306e\u7d42\u4e86\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},availableTasks:N,availableClients:O,loading:r}),(0,Vr.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[(0,Vr.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,Vr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-2 md:mb-0",children:"\u4f5c\u696d\u6642\u9593\u4e00\u89a7"}),(0,Vr.jsx)("div",{className:"flex space-x-2",children:(0,Vr.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{try{const e={name:`\u6642\u9593\u30ec\u30dd\u30fc\u30c8 ${(new Date).toISOString().split("T")[0]}`,description:"\u81ea\u52d5\u751f\u6210\u30ec\u30dd\u30fc\u30c8",start_date:"custom"===h?T.startDate:(new Date).toISOString().split("T")[0],end_date:"custom"===h?T.endDate:(new Date).toISOString().split("T")[0],filters:{user_id:"all"!==m?m:null,client_id:"all"!==g?g:null,task_id:"all"!==b?b:null},chart_type:"bar",report_format:h},r=await Si.generateReport(e);await Si.exportReportToCsv(r.id),t("CSV\u30ec\u30dd\u30fc\u30c8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3057\u305f","success")}catch(e){console.error("Error exporting CSV:",e),t("CSV\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},disabled:r,children:"CSV\u51fa\u529b"})})]}),(0,Vr.jsx)("div",{className:"bg-white p-3 rounded-md border border-gray-200",children:(0,Vr.jsx)(jL,{selectedRange:h,userFilter:m,clientFilter:g,taskFilter:b,customDateRange:T,onRangeChange:p,onUserFilterChange:y,onClientFilterChange:v,onTaskFilterChange:x,onCustomDateChange:P,users:C,availableClients:O,availableTasks:N,compact:!0})})]}),(0,Vr.jsx)(zL,{entries:s,onDelete:async e=>{if(window.confirm("\u3053\u306e\u6642\u9593\u30a8\u30f3\u30c8\u30ea\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"))try{await Si.deleteTimeEntry(e);const r=await Si.getTimeEntries();i(r);const n=await Si.getDashboardSummary();j(n),t("\u6642\u9593\u30a8\u30f3\u30c8\u30ea\u3092\u524a\u9664\u3057\u307e\u3057\u305f","success"),await M()}catch(r){console.error("Error deleting time entry:",r),t("\u6642\u9593\u30a8\u30f3\u30c8\u30ea\u306e\u524a\u9664\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},onEdit:async(e,r)=>{try{const n=await Si.updateTimeEntry(e,r),o=a.map((t=>t.id===e?n:t));i(o),t("\u6642\u9593\u30a8\u30f3\u30c8\u30ea\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f","success"),await M()}catch(n){console.error("Error updating time entry:",n),t("\u6642\u9593\u30a8\u30f3\u30c8\u30ea\u306e\u66f4\u65b0\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","error")}},loading:r,availableTasks:N,availableClients:O})]}),(0,Vr.jsx)($L,{timeChartData:_.timeChart,projectChartData:_.projectChart,COLORS:["#0088FE","#00C49F","#FFBB28","#FF8042","#A28CFF","#FF6B6B","#4ECDC4","#F7FFF7"]})]})};function WL(e){return lE({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"}}]})(e)}function VL(e){return lE({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function KL(e){return lE({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function YL(e){return lE({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function GL(e){return lE({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}const XL=()=>{const{currentUser:e,setCurrentUser:t}=Gr(),[r,n]=(0,o.useState)(!1),[a,i]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),{register:c,handleSubmit:u,setValue:d,formState:{errors:f}}=qa();(0,o.useEffect)((()=>{e&&(d("first_name",e.first_name||""),d("last_name",e.last_name||""),d("phone",e.phone||""),d("position",e.position||""),e.profile_image&&l(e.profile_image))}),[e,d]);return e?(0,Vr.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Vr.jsx)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:(0,Vr.jsxs)("div",{className:"md:flex",children:[(0,Vr.jsxs)("div",{className:"md:w-1/3 bg-blue-600 p-8 text-white",children:[(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[(0,Vr.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-300 flex items-center justify-center",children:s||e.profile_image?(0,Vr.jsx)("img",{src:s||e.profile_image,alt:"Profile",className:"w-full h-full object-cover"}):(0,Vr.jsx)(GL,{className:"text-gray-400 text-4xl"})}),a&&(0,Vr.jsx)("label",{htmlFor:"profile_image",className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-md cursor-pointer",children:(0,Vr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Vr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,Vr.jsxs)("h2",{className:"text-2xl font-semibold",children:[e.first_name," ",e.last_name]}),(0,Vr.jsx)("p",{className:"text-blue-200",children:e.position||"No position set"})]}),(0,Vr.jsxs)("div",{className:"mt-8",children:[(0,Vr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Vr.jsx)(KL,{className:"mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-blue-200",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsx)("p",{children:e.email})]})]}),(0,Vr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Vr.jsx)(YL,{className:"mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-blue-200",children:"\u96fb\u8a71\u756a\u53f7"}),(0,Vr.jsx)("p",{children:e.phone||"\u672a\u8a2d\u5b9a"})]})]}),(0,Vr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Vr.jsx)(WL,{className:"mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-blue-200",children:"\u5f79\u8077"}),(0,Vr.jsx)("p",{children:e.position||"\u672a\u8a2d\u5b9a"})]})]}),(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)(VL,{className:"mr-3"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-blue-200",children:"\u30d3\u30b8\u30cd\u30b9ID"}),(0,Vr.jsx)("p",{children:e.business_id||"\u672a\u5272\u308a\u5f53\u3066"})]})]})]})]}),(0,Vr.jsxs)("div",{className:"md:w-2/3 p-8",children:[(0,Vr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"}),a?(0,Vr.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}):(0,Vr.jsx)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"\u7de8\u96c6\u3059\u308b"})]}),a?(0,Vr.jsxs)("form",{onSubmit:u((async r=>{n(!0);try{if(r.profile_image&&r.profile_image.length>0){const e=new FormData;e.append("profile_image",r.profile_image[0]),await Wr.post("/users/profile/me/upload_image/",e,{headers:{"Content-Type":"multipart/form-data"}})}const n={first_name:r.first_name,last_name:r.last_name,phone:r.phone,position:r.position},a=await za.updateProfile(n);t({...e,...a}),hs.success("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f"),i(!1)}catch(a){console.error("Error updating profile:",a),hs.error("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{n(!1)}})),children:[(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"first_name",children:"\u540d\u524d"}),(0,Vr.jsx)("input",{id:"first_name",type:"text",className:"w-full px-3 py-2 border rounded-md "+(f.first_name?"border-red-500":"border-gray-300"),placeholder:"\u540d\u524d",...c("first_name",{required:"\u540d\u524d\u306f\u5fc5\u9808\u3067\u3059"})}),f.first_name&&(0,Vr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:f.first_name.message})]}),(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"last_name",children:"\u59d3"}),(0,Vr.jsx)("input",{id:"last_name",type:"text",className:"w-full px-3 py-2 border rounded-md "+(f.last_name?"border-red-500":"border-gray-300"),placeholder:"\u59d3",...c("last_name",{required:"\u59d3\u306f\u5fc5\u9808\u3067\u3059"})}),f.last_name&&(0,Vr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:f.last_name.message})]}),(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"\u96fb\u8a71\u756a\u53f7"}),(0,Vr.jsx)("input",{id:"phone",type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"\u96fb\u8a71\u756a\u53f7",...c("phone")})]}),(0,Vr.jsxs)("div",{className:"mb-4",children:[(0,Vr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"position",children:"\u5f79\u8077"}),(0,Vr.jsx)("input",{id:"position",type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"\u5f79\u8077",...c("position")})]}),(0,Vr.jsxs)("div",{className:"mb-6",children:[(0,Vr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"profile_image",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"}),(0,Vr.jsx)("input",{id:"profile_image",type:"file",accept:"image/*",className:"hidden",...c("profile_image"),onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{l(e.result)},e.readAsDataURL(t)}}}),(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("label",{htmlFor:"profile_image",className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 cursor-pointer",children:"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e"}),(0,Vr.jsx)("span",{className:"ml-3 text-sm text-gray-500",children:s?"\u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u3059":"\u30d5\u30a1\u30a4\u30eb\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093"})]})]}),(0,Vr.jsx)("div",{className:"flex justify-end",children:(0,Vr.jsx)("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors "+(r?"opacity-75 cursor-not-allowed":""),children:r?"\u4fdd\u5b58\u4e2d...":"\u5909\u66f4\u3092\u4fdd\u5b58"})})]}):(0,Vr.jsxs)("div",{className:"space-y-6",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831"}),(0,Vr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Vr.jsx)("p",{className:"text-gray-800",children:e.email})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\u500b\u4eba\u60c5\u5831"}),(0,Vr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md space-y-4",children:[(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"\u6c0f\u540d"}),(0,Vr.jsxs)("p",{className:"text-gray-800",children:[e.first_name," ",e.last_name]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"\u96fb\u8a71\u756a\u53f7"}),(0,Vr.jsx)("p",{className:"text-gray-800",children:e.phone||"\u672a\u8a2d\u5b9a"})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"\u5f79\u8077"}),(0,Vr.jsx)("p",{className:"text-gray-800",children:e.position||"\u672a\u8a2d\u5b9a"})]})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\u30d3\u30b8\u30cd\u30b9\u60c5\u5831"}),(0,Vr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"\u30d3\u30b8\u30cd\u30b9ID"}),(0,Vr.jsx)("p",{className:"text-gray-800",children:e.business_id||"\u672a\u5272\u308a\u5f53\u3066"})]})]}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a"}),(0,Vr.jsxs)("div",{className:"space-y-2",children:[(0,Vr.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4"}),(0,Vr.jsx)("button",{className:"block text-blue-600 hover:text-blue-800 text-sm",children:"\u901a\u77e5\u8a2d\u5b9a"})]})]})]})]})]})})}):(0,Vr.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})},QL=()=>{const{isAuthenticated:e}=Gr();return(0,Vr.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:(0,Vr.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[(0,Vr.jsx)("h1",{className:"text-9xl font-bold text-blue-600",children:"404"}),(0,Vr.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mt-4",children:"Page Not Found"}),(0,Vr.jsx)("p",{className:"text-gray-600 mt-2",children:"The page you are looking for doesn't exist or has been moved."}),(0,Vr.jsx)("div",{className:"mt-6",children:e()?(0,Vr.jsx)(on,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}):(0,Vr.jsx)(on,{to:"/",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go Home"})})]})})},JL=e=>{let{children:t}=e;const{isAuthenticated:r,loading:n}=Gr();return n?(0,Vr.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Vr.jsx)("div",{className:"loading loading-spinner loading-lg"})}):r()?t:(0,Vr.jsx)(xe,{to:"/"})},ZL=e=>{let{to:t,label:r,icon:n,isSidebarOpen:a,isActive:i}=e;return(0,Vr.jsx)("li",{children:(0,Vr.jsxs)(on,{to:t,className:"flex items-center px-4 py-3 rounded-lg transition-colors duration-200 "+(i?"bg-primary-50 text-primary-700":"hover:bg-gray-100 text-gray-700"),children:[(0,Vr.jsx)("span",{children:n}),(0,Vr.jsx)("span",{className:"ml-3 transition-opacity duration-300 "+(a?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:r})]})})},eR=()=>{const{currentUser:e,logout:t}=Gr(),[r,n]=(0,o.useState)(!0),[a,i]=(0,o.useState)(!1),s=ne(),l=te(),c=[{path:"/dashboard",label:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9",icon:(0,Vr.jsx)(kE,{className:"w-5 h-5"})},{path:"/tasks",label:"\u30bf\u30b9\u30af\u7ba1\u7406",icon:(0,Vr.jsx)(CE,{className:"w-5 h-5"})},{path:"/tasks/templates",label:"\u30bf\u30b9\u30af\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8",icon:(0,Vr.jsx)(rC,{className:"w-5 h-5"})},{path:"/clients",label:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",icon:(0,Vr.jsx)(aC,{className:"w-5 h-5"})},{path:"/wiki",label:"\u30ca\u30ec\u30c3\u30b8",icon:(0,Vr.jsx)(ME,{className:"w-5 h-5"})},{path:"/time-management",label:"\u4f5c\u696d\u6642\u9593",icon:(0,Vr.jsx)(PE,{className:"w-5 h-5"})}];return(0,Vr.jsxs)("div",{className:"flex h-screen bg-slate-50",children:[(0,Vr.jsxs)("div",{className:"hidden md:block bg-white shadow-card transition-all duration-300 ease-in-out "+(r?"w-64":"w-20"),children:[(0,Vr.jsxs)("div",{className:"p-5 flex items-center justify-between",children:[(0,Vr.jsx)("h1",{className:"font-bold text-xl text-primary-700 transition-opacity duration-300 "+(r?"opacity-100":"opacity-0"),children:"Sphere"}),(0,Vr.jsx)("button",{onClick:()=>n(!r),className:"p-2 rounded-md text-gray-500 hover:bg-gray-100","aria-label":r?"\u30b5\u30a4\u30c9\u30d0\u30fc\u3092\u6298\u308a\u305f\u305f\u3080":"\u30b5\u30a4\u30c9\u30d0\u30fc\u3092\u958b\u304f",children:r?(0,Vr.jsx)(OE,{className:"w-5 h-5"}):(0,Vr.jsx)(EE,{className:"w-5 h-5"})})]}),(0,Vr.jsx)("nav",{className:"mt-8",children:(0,Vr.jsx)("ul",{className:"space-y-2 px-3",children:c.map((e=>(0,Vr.jsx)(ZL,{to:e.path,label:e.label,icon:e.icon,isSidebarOpen:r,isActive:l.pathname===e.path},e.path)))})})]}),(0,Vr.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Vr.jsx)("header",{className:"bg-white shadow-sm z-20 border-b border-gray-200",children:(0,Vr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,Vr.jsxs)("div",{className:"flex items-center",children:[(0,Vr.jsx)("button",{className:"md:hidden p-2 mr-2 rounded-md text-gray-500 hover:bg-gray-100",onClick:()=>i(!a),"aria-label":a?"\u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b":"\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f",children:a?(0,Vr.jsx)(iC,{className:"w-6 h-6"}):(0,Vr.jsx)(WE,{className:"w-6 h-6"})}),(0,Vr.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Sphere"})]}),(0,Vr.jsx)("div",{className:"flex items-center space-x-4",children:e&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("div",{className:"hidden md:block text-sm text-gray-600",children:e.email}),(0,Vr.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,Vr.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:e.profile_image?(0,Vr.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:(0,Vr.jsx)("img",{src:e.profile_image,alt:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb",className:"w-full h-full object-cover"})}):(0,Vr.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-600 text-white flex items-center justify-center",children:e.first_name?e.first_name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase()})}),(0,Vr.jsxs)("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-30 p-2 shadow-lg bg-white rounded-xl w-52 border border-gray-100",children:[(0,Vr.jsx)("li",{children:(0,Vr.jsx)(on,{to:"/profile",className:"px-4 py-3 hover:bg-gray-50 rounded-lg",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)(on,{to:"/settings",className:"px-4 py-3 hover:bg-gray-50 rounded-lg",children:"\u8a2d\u5b9a"})}),(0,Vr.jsx)("li",{children:(0,Vr.jsx)("button",{onClick:async()=>{await t(),s("/")},className:"px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg w-full text-left",children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})]})]})]})})]})}),a&&(0,Vr.jsx)("div",{className:"md:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>i(!1)}),(0,Vr.jsxs)("div",{className:"md:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out "+(a?"translate-x-0":"-translate-x-full"),children:[(0,Vr.jsxs)("div",{className:"p-5 flex items-center justify-between border-b border-gray-200",children:[(0,Vr.jsx)("h1",{className:"font-bold text-xl text-primary-700",children:"Sphere"}),(0,Vr.jsx)("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-gray-500 hover:bg-gray-100",children:(0,Vr.jsx)(iC,{className:"w-5 h-5"})})]}),(0,Vr.jsx)("nav",{className:"mt-5",children:(0,Vr.jsx)("ul",{className:"space-y-2 px-3",children:c.map((e=>(0,Vr.jsx)("li",{className:"mb-2",children:(0,Vr.jsxs)(on,{to:e.path,className:"flex items-center px-4 py-3 rounded-lg transition-colors duration-200 "+(l.pathname===e.path?"bg-primary-50 text-primary-700":"hover:bg-gray-100 text-gray-700"),onClick:()=>i(!1),children:[(0,Vr.jsx)("span",{className:"mr-3",children:e.icon}),(0,Vr.jsx)("span",{children:e.label})]})},e.path)))})})]}),(0,Vr.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,Vr.jsx)(we,{})})]})]})},tR=()=>{const[e,t]=(0,o.useState)(null),[r,n]=(0,o.useState)(!1),[a,i]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),c=(0,o.useRef)(0);(0,o.useEffect)((()=>{let e=()=>{};console.log("Socket.IO\u63a5\u7d9a\u3092\u8a66\u884c\u3057\u307e\u3059...");try{const r=["http://websocket:8001",window.location.protocol+"//"+window.location.hostname+":8001","/socket.io"][0];console.log(`Socket.IO\u63a5\u7d9aURL: ${r}`),c.current+=1;let a={transports:["polling","websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:3e3,timeout:1e4,autoConnect:!0,forceNew:!0,upgrade:!1};r.startsWith("http://websocket:8001")||r.includes("websocket:8001")?(a.path="/socket.io/",console.log("Socket.IO: websocket\u3078\u306e\u76f4\u63a5\u63a5\u7d9a\u3092\u4f7f\u7528")):r.startsWith("/")?(a.path=r,r=window.location.origin,console.log("Socket.IO: \u76f8\u5bfe\u30d1\u30b9\u63a5\u7d9a\u3092\u4f7f\u7528",r)):(a.path="/socket.io/",console.log("Socket.IO: \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u63a5\u7d9a")),console.log("Socket.IO\u63a5\u7d9a:",r,a);const o=rL(r,a);o.on("connect",(()=>{console.log("Socket.IO: \u63a5\u7d9a\u6210\u529f!",o.id),n(!0),i(null),o.emit("ping")})),o.on("disconnect",(e=>{console.log(`Socket.IO: \u5207\u65ad\u3055\u308c\u307e\u3057\u305f (\u7406\u7531: ${e})`),n(!1)})),o.on("connect_error",(e=>{console.error("Socket.IO\u63a5\u7d9a\u30a8\u30e9\u30fc:",e.message),i(e.message)})),o.on("pong",(()=>{console.log("Socket.IO: Pong\u3092\u53d7\u4fe1\u3057\u307e\u3057\u305f"),l((new Date).toISOString())})),t(o),e=()=>{console.log("Socket.IO: \u5207\u65ad\u3057\u307e\u3059"),o.disconnect()}}catch(YR){console.error("Socket.IO\u521d\u671f\u5316\u30a8\u30e9\u30fc:",YR),i(YR.message)}return e}),[]);const u=(0,o.useCallback)((()=>e&&r?(console.log("Socket.IO: \u63a5\u7d9a\u30c6\u30b9\u30c8"),e.emit("ping"),!0):(console.log("Socket.IO: \u672a\u63a5\u7d9a"),!1)),[e,r]);return{socket:e,isConnected:r,error:a,lastPong:s,testConnection:u}},rR=()=>{const{socket:e,isConnected:t,error:r,lastPong:n,testConnection:a}=tR(),[i,s]=(0,o.useState)(""),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e=setInterval((()=>{a(),d((e=>e+1))}),5e3);return()=>clearInterval(e)}),[a]),(0,o.useEffect)((()=>{if(e)return e.on("chat_message",t),()=>{e.off("chat_message",t)};function t(e){console.log("\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1:",e),c((t=>[...t,e]))}}),[e]);return(0,Vr.jsxs)("div",{className:"p-4 max-w-2xl mx-auto",children:[(0,Vr.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Socket.IO\u63a5\u7d9a\u30c7\u30d0\u30c3\u30b0"}),(0,Vr.jsxs)("div",{className:"mb-6 p-4 border rounded",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"\u63a5\u7d9a\u72b6\u614b"}),(0,Vr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Vr.jsx)("div",{className:"w-3 h-3 rounded-full "+(t?"bg-green-500":"bg-red-500")}),(0,Vr.jsx)("p",{children:t?"\u63a5\u7d9a\u4e2d":"\u672a\u63a5\u7d9a"})]}),e&&(0,Vr.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Socket ID: ",e.id||"\u306a\u3057"]}),(0,Vr.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["\u63a5\u7d9a\u8a66\u884c\u56de\u6570: ",u]}),n&&(0,Vr.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["\u6700\u7d42Pong: ",n]}),r&&(0,Vr.jsxs)("p",{className:"text-sm text-red-600 mt-2",children:["\u30a8\u30e9\u30fc: ",r]}),(0,Vr.jsx)("div",{className:"mt-3",children:(0,Vr.jsx)("button",{onClick:a,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"\u63a5\u7d9a\u30c6\u30b9\u30c8"})})]}),(0,Vr.jsxs)("div",{className:"mb-6 p-4 border rounded",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1"}),(0,Vr.jsxs)("div",{className:"flex gap-2",children:[(0,Vr.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),disabled:!t,placeholder:t?"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b":"\u672a\u63a5\u7d9a",className:"flex-1 px-3 py-2 border rounded"}),(0,Vr.jsx)("button",{onClick:()=>{if(!e||!t||!i.trim())return;const r={channel_id:"debug",content:i.trim(),timestamp:(new Date).toISOString(),message_id:`temp-${Date.now()}`};e.emit("chat_message",r,(e=>{console.log("\u9001\u4fe1\u7d50\u679c:",e)})),s("")},disabled:!t||!i.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300",children:"\u9001\u4fe1"})]})]}),(0,Vr.jsxs)("div",{className:"p-4 border rounded max-h-60 overflow-y-auto",children:[(0,Vr.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"\u53d7\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8"}),0===l.length?(0,Vr.jsx)("p",{className:"text-sm text-gray-500",children:"\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3042\u308a\u307e\u305b\u3093"}):(0,Vr.jsx)("ul",{className:"space-y-2",children:l.map(((e,t)=>(0,Vr.jsxs)("li",{className:"p-2 bg-gray-100 rounded",children:[(0,Vr.jsx)("p",{className:"text-sm",children:e.content}),(0,Vr.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]},t)))})]})]})};const nR=function(){const[e,t]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{setTimeout((()=>{t(!1)}),1e3)}),[]),e?(0,Vr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):(0,Vr.jsx)(Yr,{children:(0,Vr.jsxs)(ke,{children:[(0,Vr.jsx)(je,{path:"/",element:(0,Vr.jsx)(pn,{})}),(0,Vr.jsx)(je,{path:"/login",element:(0,Vr.jsx)($a,{})}),(0,Vr.jsx)(je,{path:"/register",element:(0,Vr.jsx)(Ua,{})}),(0,Vr.jsx)(je,{path:"/debug/socket",element:(0,Vr.jsx)(rR,{})}),(0,Vr.jsxs)(je,{element:(0,Vr.jsx)(eR,{}),children:[(0,Vr.jsx)(je,{path:"/dashboard",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(oC,{})})}),(0,Vr.jsx)(je,{path:"/tasks",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(MD,{})})}),(0,Vr.jsx)(je,{path:"/tasks/templates",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(FD,{})})}),(0,Vr.jsx)(je,{path:"/tasks/templates/:templateId/tasks",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)($D,{})})}),(0,Vr.jsx)(je,{path:"/tasks/:taskId",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(MD,{})})}),(0,Vr.jsx)(je,{path:"/clients",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(UD,{})})}),(0,Vr.jsx)(je,{path:"/clients/new",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(bM,{})})}),(0,Vr.jsx)(je,{path:"/clients/:clientId",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(PM,{})})}),(0,Vr.jsx)(je,{path:"/clients/:clientId/edit",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(DM,{})})}),(0,Vr.jsx)(je,{path:"/chat",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(nL,{})})}),(0,Vr.jsx)(je,{path:"/wiki",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(aL,{})})}),(0,Vr.jsx)(je,{path:"/time-management",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(HL,{})})}),(0,Vr.jsx)(je,{path:"/profile",element:(0,Vr.jsx)(JL,{children:(0,Vr.jsx)(XL,{})})})]}),(0,Vr.jsx)(je,{path:"*",element:(0,Vr.jsx)(QL,{})})]})})},aR=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:o}=t;r(e),n(e),a(e),i(e),o(e)}))},iR="undefined"===typeof window||"Deno"in window;function oR(){}function sR(e,t,r){return bR(e)?"function"===typeof t?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function lR(e,t,r){return bR(e)?[{...t,queryKey:e},r]:[e||{},t]}function cR(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:s}=e;if(bR(o))if(n){if(t.queryHash!==dR(o,t.options))return!1}else if(!hR(t.queryKey,o))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!==typeof s||t.isStale()===s)&&(("undefined"===typeof a||a===t.state.fetchStatus)&&!(i&&!i(t)))}function uR(e,t){const{exact:r,fetching:n,predicate:a,mutationKey:i}=e;if(bR(i)){if(!t.options.mutationKey)return!1;if(r){if(fR(t.options.mutationKey)!==fR(i))return!1}else if(!hR(t.options.mutationKey,i))return!1}return("boolean"!==typeof n||"loading"===t.state.status===n)&&!(a&&!a(t))}function dR(e,t){return((null==t?void 0:t.queryKeyHashFn)||fR)(e)}function fR(e){return JSON.stringify(e,((e,t)=>gR(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function hR(e,t){return pR(e,t)}function pR(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((r=>!pR(e[r],t[r]))))}function mR(e,t){if(e===t)return e;const r=yR(e)&&yR(t);if(r||gR(e)&&gR(t)){const n=r?e.length:Object.keys(e).length,a=r?t:Object.keys(t),i=a.length,o=r?[]:{};let s=0;for(let l=0;l<i;l++){const n=r?l:a[l];o[n]=mR(e[n],t[n]),o[n]===e[n]&&s++}return n===i&&s===n?e:o}return t}function yR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gR(e){if(!vR(e))return!1;const t=e.constructor;if("undefined"===typeof t)return!0;const r=t.prototype;return!!vR(r)&&!!r.hasOwnProperty("isPrototypeOf")}function vR(e){return"[object Object]"===Object.prototype.toString.call(e)}function bR(e){return Array.isArray(e)}function xR(e){return new Promise((t=>{setTimeout(t,e)}))}function wR(e){xR(0).then(e)}function jR(e,t,r){return null!=r.isDataEqual&&r.isDataEqual(e,t)?e:"function"===typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?mR(e,t):t}const _R=console;const kR=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()};const a=n=>{t?e.push(n):wR((()=>{r(n)}))},i=()=>{const t=e;e=[],t.length&&wR((()=>{n((()=>{t.forEach((e=>{r(e)}))}))}))};return{batch:e=>{let r;t++;try{r=e()}finally{t--,t||i()}return r},batchCalls:e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];a((()=>{e(...r)}))},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e}}}();class NR{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const SR=new class extends NR{constructor(){super(),this.setup=e=>{if(!iR&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach((e=>{let{listener:t}=e;t()}))}isFocused(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},OR=["online","offline"];const ER=new class extends NR{constructor(){super(),this.setup=e=>{if(!iR&&window.addEventListener){const t=()=>e();return OR.forEach((e=>{window.addEventListener(e,t,!1)})),()=>{OR.forEach((e=>{window.removeEventListener(e,t)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"===typeof e?this.setOnline(e):this.onOnline()}))}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach((e=>{let{listener:t}=e;t()}))}isOnline(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}};function CR(e){return Math.min(1e3*2**e,3e4)}function AR(e){return"online"!==(null!=e?e:"online")||ER.isOnline()}class TR{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function PR(e){return e instanceof TR}function DR(e){let t,r,n,a=!1,i=0,o=!1;const s=new Promise(((e,t)=>{r=e,n=t})),l=()=>!SR.isFocused()||"always"!==e.networkMode&&!ER.isOnline(),c=n=>{o||(o=!0,null==e.onSuccess||e.onSuccess(n),null==t||t(),r(n))},u=r=>{o||(o=!0,null==e.onError||e.onError(r),null==t||t(),n(r))},d=()=>new Promise((r=>{t=e=>{const t=o||!l();return t&&r(e),t},null==e.onPause||e.onPause()})).then((()=>{t=void 0,o||null==e.onContinue||e.onContinue()})),f=()=>{if(o)return;let t;try{t=e.fn()}catch(r){t=Promise.reject(r)}Promise.resolve(t).then(c).catch((t=>{var r,n;if(o)return;const s=null!=(r=e.retry)?r:3,c=null!=(n=e.retryDelay)?n:CR,h="function"===typeof c?c(i,t):c,p=!0===s||"number"===typeof s&&i<s||"function"===typeof s&&s(i,t);!a&&p?(i++,null==e.onFail||e.onFail(i,t),xR(h).then((()=>{if(l())return d()})).then((()=>{a?u(t):f()}))):u(t)}))};return AR(e.networkMode)?f():d().then(f),{promise:s,cancel:t=>{o||(u(new TR(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?s:Promise.resolve(),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1}}}class MR{destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:iR?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class IR extends MR{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||_R,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,r="undefined"!==typeof t,n=r?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const r=jR(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(oR).catch(oR):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((e=>e.getCurrentResult().isStale))}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,n;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const i=function(){if("function"===typeof AbortController)return new AbortController}(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};s(o);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var c;(s(l),null==(r=this.options.behavior)||r.onFetch(l),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=l.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(c=l.fetchOptions)?void 0:c.meta});const u=e=>{var t,r,n,a;(PR(e)&&e.silent||this.dispatch({type:"error",error:e}),PR(e))||(null==(t=(r=this.cache.config).onError)||t.call(r,e,this),null==(n=(a=this.cache.config).onSettled)||n.call(a,this.state.data,e,this));this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=DR({fn:l.fetchFn,abort:null==i?void 0:i.abort.bind(i),onSuccess:e=>{var t,r,n,a;"undefined"!==typeof e?(this.setData(e),null==(t=(r=this.cache.config).onSuccess)||t.call(r,e,this),null==(n=(a=this.cache.config).onSettled)||n.call(a,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):u(new Error(this.queryHash+" data is undefined"))},onError:u,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var r,n;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:AR(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(n=e.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return PR(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...t,error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),kR.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate(e)})),this.cache.notify({query:this,type:"updated",action:e})}))}}class LR extends NR{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var n;const a=t.queryKey,i=null!=(n=t.queryHash)?n:dR(a,t);let o=this.get(i);return o||(o=new IR({cache:this,logger:e.getLogger(),queryKey:a,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((t=>t!==e)),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){kR.batch((()=>{this.queries.forEach((e=>{this.remove(e)}))}))}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=lR(e,t);return"undefined"===typeof r.exact&&(r.exact=!0),this.queries.find((e=>cR(r,e)))}findAll(e,t){const[r]=lR(e,t);return Object.keys(r).length>0?this.queries.filter((e=>cR(r,e))):this.queries}notify(e){kR.batch((()=>{this.listeners.forEach((t=>{let{listener:r}=t;r(e)}))}))}onFocus(){kR.batch((()=>{this.queries.forEach((e=>{e.onFocus()}))}))}onOnline(){kR.batch((()=>{this.queries.forEach((e=>{e.onOnline()}))}))}}class RR extends MR{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||_R,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter((t=>t!==e)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=DR({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var r,n,a,i,o,s,l,c;if(!t){var u,d,f,h;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(u=(d=this.mutationCache.config).onMutate)?void 0:u.call(d,this.state.variables,this));const e=await(null==(f=(h=this.options).onMutate)?void 0:f.call(h,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const p=await e();return await(null==(r=(n=this.mutationCache.config).onSuccess)?void 0:r.call(n,p,this.state.variables,this.state.context,this)),await(null==(a=(i=this.options).onSuccess)?void 0:a.call(i,p,this.state.variables,this.state.context)),await(null==(o=(s=this.mutationCache.config).onSettled)?void 0:o.call(s,p,null,this.state.variables,this.state.context,this)),await(null==(l=(c=this.options).onSettled)?void 0:l.call(c,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(j){try{var p,m,y,g,v,b,x,w;throw await(null==(p=(m=this.mutationCache.config).onError)?void 0:p.call(m,j,this.state.variables,this.state.context,this)),await(null==(y=(g=this.options).onError)?void 0:y.call(g,j,this.state.variables,this.state.context)),await(null==(v=(b=this.mutationCache.config).onSettled)?void 0:v.call(b,void 0,j,this.state.variables,this.state.context,this)),await(null==(x=(w=this.options).onSettled)?void 0:x.call(w,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!AR(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),kR.batch((()=>{this.observers.forEach((t=>{t.onMutationUpdate(e)})),this.mutationCache.notify({mutation:this,type:"updated",action:e})}))}}class FR extends NR{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const n=new RR({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter((t=>t!==e)),this.notify({type:"removed",mutation:e})}clear(){kR.batch((()=>{this.mutations.forEach((e=>{this.remove(e)}))}))}getAll(){return this.mutations}find(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((t=>uR(e,t)))}findAll(e){return this.mutations.filter((t=>uR(e,t)))}notify(e){kR.batch((()=>{this.listeners.forEach((t=>{let{listener:r}=t;r(e)}))}))}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((()=>{const e=this.mutations.filter((e=>e.state.isPaused));return kR.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(oR)))),Promise.resolve())))})).then((()=>{this.resuming=void 0})),this.resuming}}function BR(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,a,i,o;const s=null==(t=e.fetchOptions)||null==(r=t.meta)?void 0:r.refetchPage,l=null==(n=e.fetchOptions)||null==(a=n.meta)?void 0:a.fetchMore,c=null==l?void 0:l.pageParam,u="forward"===(null==l?void 0:l.direction),d="backward"===(null==l?void 0:l.direction),f=(null==(i=e.state.data)?void 0:i.pages)||[],h=(null==(o=e.state.data)?void 0:o.pageParams)||[];let p=h,m=!1;const y=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),g=(e,t,r,n)=>(p=n?[t,...p]:[...p,t],n?[r,...e]:[...e,r]),v=(t,r,n,a)=>{if(m)return Promise.reject("Cancelled");if("undefined"===typeof n&&!r&&t.length)return Promise.resolve(t);const i={queryKey:e.queryKey,pageParam:n,meta:e.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?m=!0:null==(r=e.signal)||r.addEventListener("abort",(()=>{m=!0})),e.signal}});const s=y(i);return Promise.resolve(s).then((e=>g(t,n,e,a)))};let b;if(f.length)if(u){const t="undefined"!==typeof c,r=t?c:qR(e.options,f);b=v(f,t,r)}else if(d){const t="undefined"!==typeof c,r=t?c:$R(e.options,f);b=v(f,t,r,!0)}else{p=[];const t="undefined"===typeof e.options.getNextPageParam;b=!s||!f[0]||s(f[0],0,f)?v([],t,h[0]):Promise.resolve(g([],h[0],f[0]));for(let r=1;r<f.length;r++)b=b.then((n=>{if(!s||!f[r]||s(f[r],r,f)){const a=t?h[r]:qR(e.options,n);return v(n,t,a)}return Promise.resolve(g(n,h[r],f[r]))}))}else b=v([]);return b.then((e=>({pages:e,pageParams:p})))}}}}function qR(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function $R(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}const UR=o.createContext(void 0),zR=o.createContext(!1);function HR(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=UR),window.ReactQueryClientContext):UR)}const WR=e=>{let{client:t,children:r,context:n,contextSharing:a=!1}=e;o.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]);const i=HR(n,a);return o.createElement(zR.Provider,{value:!n&&a},o.createElement(i.Provider,{value:t},r))};const VR=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.queryCache=e.queryCache||new LR,this.mutationCache=e.mutationCache||new FR,this.logger=e.logger||_R,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=SR.subscribe((()=>{SR.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=ER.subscribe((()=>{ER.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=lR(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}ensureQueryData(e,t,r){const n=sR(e,t,r),a=this.getQueryData(n.queryKey);return a?Promise.resolve(a):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map((e=>{let{queryKey:t,state:r}=e;return[t,r.data]}))}setQueryData(e,t,r){const n=this.queryCache.find(e),a=function(e,t){return"function"===typeof e?e(t):e}(t,null==n?void 0:n.state.data);if("undefined"===typeof a)return;const i=sR(e),o=this.defaultQueryOptions(i);return this.queryCache.build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return kR.batch((()=>this.getQueryCache().findAll(e).map((e=>{let{queryKey:n}=e;return[n,this.setQueryData(n,t,r)]}))))}getQueryState(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}removeQueries(e,t){const[r]=lR(e,t),n=this.queryCache;kR.batch((()=>{n.findAll(r).forEach((e=>{n.remove(e)}))}))}resetQueries(e,t,r){const[n,a]=lR(e,t,r),i=this.queryCache,o={type:"active",...n};return kR.batch((()=>(i.findAll(n).forEach((e=>{e.reset()})),this.refetchQueries(o,a))))}cancelQueries(e,t,r){const[n,a={}]=lR(e,t,r);"undefined"===typeof a.revert&&(a.revert=!0);const i=kR.batch((()=>this.queryCache.findAll(n).map((e=>e.cancel(a)))));return Promise.all(i).then(oR).catch(oR)}invalidateQueries(e,t,r){const[n,a]=lR(e,t,r);return kR.batch((()=>{var e,t;if(this.queryCache.findAll(n).forEach((e=>{e.invalidate()})),"none"===n.refetchType)return Promise.resolve();const r={...n,type:null!=(e=null!=(t=n.refetchType)?t:n.type)?e:"active"};return this.refetchQueries(r,a)}))}refetchQueries(e,t,r){const[n,a]=lR(e,t,r),i=kR.batch((()=>this.queryCache.findAll(n).filter((e=>!e.isDisabled())).map((e=>{var t;return e.fetch(void 0,{...a,cancelRefetch:null==(t=null==a?void 0:a.cancelRefetch)||t,meta:{refetchPage:n.refetchPage}})}))));let o=Promise.all(i).then(oR);return null!=a&&a.throwOnError||(o=o.catch(oR)),o}fetchQuery(e,t,r){const n=sR(e,t,r),a=this.defaultQueryOptions(n);"undefined"===typeof a.retry&&(a.retry=!1);const i=this.queryCache.build(this,a);return i.isStaleByTime(a.staleTime)?i.fetch(a):Promise.resolve(i.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(oR).catch(oR)}fetchInfiniteQuery(e,t,r){const n=sR(e,t,r);return n.behavior=BR(),this.fetchQuery(n)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(oR).catch(oR)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find((t=>fR(e)===fR(t.queryKey)));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find((t=>hR(e,t.queryKey)));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find((t=>fR(e)===fR(t.mutationKey)));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find((t=>hR(e,t.mutationKey)));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=dR(t.queryKey,t)),"undefined"===typeof t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),"undefined"===typeof t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};l.createRoot(document.getElementById("root")).render((0,Vr.jsx)(WR,{client:VR,children:(0,Vr.jsxs)(rn,{children:[(0,Vr.jsx)(nR,{}),(0,Vr.jsx)(Bs,{position:"top-right",toastOptions:{className:"",duration:5e3,style:{background:"#fff",color:"#334155",borderRadius:"0.5rem",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.08)",padding:"1rem"},success:{iconTheme:{primary:"#36D399",secondary:"white"}},error:{iconTheme:{primary:"#F87272",secondary:"white"}}}})]})})),aR()})()})();
//# sourceMappingURL=main.a47a1126.js.map